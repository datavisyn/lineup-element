!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.LineUpJS=t():e.LineUpJS=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){var n;window,n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.ts")}({"../node_modules/node-libs-browser/node_modules/timers-browserify/main.js":function(e,t,r){(function(e){var n=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(n.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(n.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r("../node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/process/browser.js":function(e,t){var r,n,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var u,l=[],c=!1,d=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&f())}function f(){if(!c){var e=a(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"../node_modules/raw-loader/index.js!./src/styles/_vars.scss":function(e,t,r){"use strict";r.r(t),t.default="// removed by extract-text-webpack-plugin"},"../node_modules/setimmediate/setImmediate.js":function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,s,o,a,u=1,l={},c=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){s.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,n=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(o="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(o+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return l[u]=i,n(u),u++},h.clearImmediate=f}function f(e){delete l[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{f(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r("../node_modules/webpack/buildin/global.js"),r("../node_modules/process/browser.js"))},"../node_modules/webpack/buildin/global.js":function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},"./node_modules/d3-array/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-array/src/bisect.js");r.d(t,"bisect",function(){return n.default}),r.d(t,"bisectRight",function(){return n.bisectRight}),r.d(t,"bisectLeft",function(){return n.bisectLeft});var i=r("./node_modules/d3-array/src/ascending.js");r.d(t,"ascending",function(){return i.default});var s=r("./node_modules/d3-array/src/bisector.js");r.d(t,"bisector",function(){return s.default});var o=r("./node_modules/d3-array/src/cross.js");r.d(t,"cross",function(){return o.default});var a=r("./node_modules/d3-array/src/descending.js");r.d(t,"descending",function(){return a.default});var u=r("./node_modules/d3-array/src/deviation.js");r.d(t,"deviation",function(){return u.default});var l=r("./node_modules/d3-array/src/extent.js");r.d(t,"extent",function(){return l.default});var c=r("./node_modules/d3-array/src/histogram.js");r.d(t,"histogram",function(){return c.default});var d=r("./node_modules/d3-array/src/threshold/freedmanDiaconis.js");r.d(t,"thresholdFreedmanDiaconis",function(){return d.default});var h=r("./node_modules/d3-array/src/threshold/scott.js");r.d(t,"thresholdScott",function(){return h.default});var f=r("./node_modules/d3-array/src/threshold/sturges.js");r.d(t,"thresholdSturges",function(){return f.default});var p=r("./node_modules/d3-array/src/max.js");r.d(t,"max",function(){return p.default});var m=r("./node_modules/d3-array/src/mean.js");r.d(t,"mean",function(){return m.default});var g=r("./node_modules/d3-array/src/median.js");r.d(t,"median",function(){return g.default});var b=r("./node_modules/d3-array/src/merge.js");r.d(t,"merge",function(){return b.default});var y=r("./node_modules/d3-array/src/min.js");r.d(t,"min",function(){return y.default});var v=r("./node_modules/d3-array/src/pairs.js");r.d(t,"pairs",function(){return v.default});var E=r("./node_modules/d3-array/src/permute.js");r.d(t,"permute",function(){return E.default});var _=r("./node_modules/d3-array/src/quantile.js");r.d(t,"quantile",function(){return _.default});var C=r("./node_modules/d3-array/src/range.js");r.d(t,"range",function(){return C.default});var T=r("./node_modules/d3-array/src/scan.js");r.d(t,"scan",function(){return T.default});var O=r("./node_modules/d3-array/src/shuffle.js");r.d(t,"shuffle",function(){return O.default});var N=r("./node_modules/d3-array/src/sum.js");r.d(t,"sum",function(){return N.default});var R=r("./node_modules/d3-array/src/ticks.js");r.d(t,"ticks",function(){return R.default}),r.d(t,"tickIncrement",function(){return R.tickIncrement}),r.d(t,"tickStep",function(){return R.tickStep});var D=r("./node_modules/d3-array/src/transpose.js");r.d(t,"transpose",function(){return D.default});var j=r("./node_modules/d3-array/src/variance.js");r.d(t,"variance",function(){return j.default});var A=r("./node_modules/d3-array/src/zip.js");r.d(t,"zip",function(){return A.default})},"./node_modules/d3-array/src/array.js":function(e,t,r){"use strict";r.r(t),r.d(t,"slice",function(){return i}),r.d(t,"map",function(){return s});var n=Array.prototype,i=n.slice,s=n.map},"./node_modules/d3-array/src/ascending.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},"./node_modules/d3-array/src/bisect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"bisectRight",function(){return o}),r.d(t,"bisectLeft",function(){return a});var n=r("./node_modules/d3-array/src/ascending.js"),i=r("./node_modules/d3-array/src/bisector.js"),s=Object(i.default)(n.default),o=s.right,a=s.left;t.default=o},"./node_modules/d3-array/src/bisector.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-array/src/ascending.js");t.default=function(e){var t;return 1===e.length&&(t=e,e=function(e,r){return Object(n.default)(t(e),r)}),{left:function(t,r,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var s=n+i>>>1;e(t[s],r)<0?n=s+1:i=s}return n},right:function(t,r,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var s=n+i>>>1;e(t[s],r)>0?i=s:n=s+1}return n}}}},"./node_modules/d3-array/src/constant.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){return function(){return e}}},"./node_modules/d3-array/src/cross.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-array/src/pairs.js");t.default=function(e,t,r){var i,s,o,a,u=e.length,l=t.length,c=new Array(u*l);for(null==r&&(r=n.pair),i=o=0;i<u;++i)for(a=e[i],s=0;s<l;++s,++o)c[o]=r(a,t[s]);return c}},"./node_modules/d3-array/src/descending.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}},"./node_modules/d3-array/src/deviation.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-array/src/variance.js");t.default=function(e,t){var r=Object(n.default)(e,t);return r?Math.sqrt(r):r}},"./node_modules/d3-array/src/extent.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){var r,n,i,s=e.length,o=-1;if(null==t){for(;++o<s;)if(null!=(r=e[o])&&r>=r)for(n=i=r;++o<s;)null!=(r=e[o])&&(n>r&&(n=r),i<r&&(i=r))}else for(;++o<s;)if(null!=(r=t(e[o],o,e))&&r>=r)for(n=i=r;++o<s;)null!=(r=t(e[o],o,e))&&(n>r&&(n=r),i<r&&(i=r));return[n,i]}},"./node_modules/d3-array/src/histogram.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-array/src/array.js"),i=r("./node_modules/d3-array/src/bisect.js"),s=r("./node_modules/d3-array/src/constant.js"),o=r("./node_modules/d3-array/src/extent.js"),a=r("./node_modules/d3-array/src/identity.js"),u=r("./node_modules/d3-array/src/range.js"),l=r("./node_modules/d3-array/src/ticks.js"),c=r("./node_modules/d3-array/src/threshold/sturges.js");t.default=function(){var e=a.default,t=o.default,r=c.default;function d(n){var s,o,a=n.length,c=new Array(a);for(s=0;s<a;++s)c[s]=e(n[s],s,n);var d=t(c),h=d[0],f=d[1],p=r(c,h,f);Array.isArray(p)||(p=Object(l.tickStep)(h,f,p),p=Object(u.default)(Math.ceil(h/p)*p,Math.floor(f/p)*p,p));for(var m=p.length;p[0]<=h;)p.shift(),--m;for(;p[m-1]>f;)p.pop(),--m;var g,b=new Array(m+1);for(s=0;s<=m;++s)(g=b[s]=[]).x0=s>0?p[s-1]:h,g.x1=s<m?p[s]:f;for(s=0;s<a;++s)h<=(o=c[s])&&o<=f&&b[Object(i.default)(p,o,0,m)].push(n[s]);return b}return d.value=function(t){return arguments.length?(e="function"==typeof t?t:Object(s.default)(t),d):e},d.domain=function(e){return arguments.length?(t="function"==typeof e?e:Object(s.default)([e[0],e[1]]),d):t},d.thresholds=function(e){return arguments.length?(r="function"==typeof e?e:Array.isArray(e)?Object(s.default)(n.slice.call(e)):Object(s.default)(e),d):r},d}},"./node_modules/d3-array/src/identity.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){return e}},"./node_modules/d3-array/src/max.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){var r,n,i=e.length,s=-1;if(null==t){for(;++s<i;)if(null!=(r=e[s])&&r>=r)for(n=r;++s<i;)null!=(r=e[s])&&r>n&&(n=r)}else for(;++s<i;)if(null!=(r=t(e[s],s,e))&&r>=r)for(n=r;++s<i;)null!=(r=t(e[s],s,e))&&r>n&&(n=r);return n}},"./node_modules/d3-array/src/mean.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-array/src/number.js");t.default=function(e,t){var r,i=e.length,s=i,o=-1,a=0;if(null==t)for(;++o<i;)isNaN(r=Object(n.default)(e[o]))?--s:a+=r;else for(;++o<i;)isNaN(r=Object(n.default)(t(e[o],o,e)))?--s:a+=r;if(s)return a/s}},"./node_modules/d3-array/src/median.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-array/src/ascending.js"),i=r("./node_modules/d3-array/src/number.js"),s=r("./node_modules/d3-array/src/quantile.js");t.default=function(e,t){var r,o=e.length,a=-1,u=[];if(null==t)for(;++a<o;)isNaN(r=Object(i.default)(e[a]))||u.push(r);else for(;++a<o;)isNaN(r=Object(i.default)(t(e[a],a,e)))||u.push(r);return Object(s.default)(u.sort(n.default),.5)}},"./node_modules/d3-array/src/merge.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){for(var t,r,n,i=e.length,s=-1,o=0;++s<i;)o+=e[s].length;for(r=new Array(o);--i>=0;)for(t=(n=e[i]).length;--t>=0;)r[--o]=n[t];return r}},"./node_modules/d3-array/src/min.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){var r,n,i=e.length,s=-1;if(null==t){for(;++s<i;)if(null!=(r=e[s])&&r>=r)for(n=r;++s<i;)null!=(r=e[s])&&n>r&&(n=r)}else for(;++s<i;)if(null!=(r=t(e[s],s,e))&&r>=r)for(n=r;++s<i;)null!=(r=t(e[s],s,e))&&n>r&&(n=r);return n}},"./node_modules/d3-array/src/number.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){return null===e?NaN:+e}},"./node_modules/d3-array/src/pairs.js":function(e,t,r){"use strict";function n(e,t){return[e,t]}r.r(t),r.d(t,"pair",function(){return n}),t.default=function(e,t){null==t&&(t=n);for(var r=0,i=e.length-1,s=e[0],o=new Array(i<0?0:i);r<i;)o[r]=t(s,s=e[++r]);return o}},"./node_modules/d3-array/src/permute.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){for(var r=t.length,n=new Array(r);r--;)n[r]=e[t[r]];return n}},"./node_modules/d3-array/src/quantile.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-array/src/number.js");t.default=function(e,t,r){if(null==r&&(r=n.default),i=e.length){if((t=+t)<=0||i<2)return+r(e[0],0,e);if(t>=1)return+r(e[i-1],i-1,e);var i,s=(i-1)*t,o=Math.floor(s),a=+r(e[o],o,e);return a+(+r(e[o+1],o+1,e)-a)*(s-o)}}},"./node_modules/d3-array/src/range.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((t-e)/r)),s=new Array(i);++n<i;)s[n]=e+n*r;return s}},"./node_modules/d3-array/src/scan.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-array/src/ascending.js");t.default=function(e,t){if(r=e.length){var r,i,s=0,o=0,a=e[o];for(null==t&&(t=n.default);++s<r;)(t(i=e[s],a)<0||0!==t(a,a))&&(a=i,o=s);return 0===t(a,a)?o:void 0}}},"./node_modules/d3-array/src/shuffle.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t,r){for(var n,i,s=(null==r?e.length:r)-(t=null==t?0:+t);s;)i=Math.random()*s--|0,n=e[s+t],e[s+t]=e[i+t],e[i+t]=n;return e}},"./node_modules/d3-array/src/sum.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){var r,n=e.length,i=-1,s=0;if(null==t)for(;++i<n;)(r=+e[i])&&(s+=r);else for(;++i<n;)(r=+t(e[i],i,e))&&(s+=r);return s}},"./node_modules/d3-array/src/threshold/freedmanDiaconis.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-array/src/array.js"),i=r("./node_modules/d3-array/src/ascending.js"),s=r("./node_modules/d3-array/src/number.js"),o=r("./node_modules/d3-array/src/quantile.js");t.default=function(e,t,r){return e=n.map.call(e,s.default).sort(i.default),Math.ceil((r-t)/(2*(Object(o.default)(e,.75)-Object(o.default)(e,.25))*Math.pow(e.length,-1/3)))}},"./node_modules/d3-array/src/threshold/scott.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-array/src/deviation.js");t.default=function(e,t,r){return Math.ceil((r-t)/(3.5*Object(n.default)(e)*Math.pow(e.length,-1/3)))}},"./node_modules/d3-array/src/threshold/sturges.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}},"./node_modules/d3-array/src/ticks.js":function(e,t,r){"use strict";r.r(t),r.d(t,"tickIncrement",function(){return o}),r.d(t,"tickStep",function(){return a});var n=Math.sqrt(50),i=Math.sqrt(10),s=Math.sqrt(2);function o(e,t,r){var o=(t-e)/Math.max(0,r),a=Math.floor(Math.log(o)/Math.LN10),u=o/Math.pow(10,a);return a>=0?(u>=n?10:u>=i?5:u>=s?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(u>=n?10:u>=i?5:u>=s?2:1)}function a(e,t,r){var o=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),u=o/a;return u>=n?a*=10:u>=i?a*=5:u>=s&&(a*=2),t<e?-a:a}t.default=function(e,t,r){var n,i,s,a,u=-1;if(r=+r,(e=+e)===(t=+t)&&r>0)return[e];if((n=t<e)&&(i=e,e=t,t=i),0===(a=o(e,t,r))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),s=new Array(i=Math.ceil(t-e+1));++u<i;)s[u]=(e+u)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),s=new Array(i=Math.ceil(e-t+1));++u<i;)s[u]=(e-u)/a;return n&&s.reverse(),s}},"./node_modules/d3-array/src/transpose.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-array/src/min.js");function i(e){return e.length}t.default=function(e){if(!(o=e.length))return[];for(var t=-1,r=Object(n.default)(e,i),s=new Array(r);++t<r;)for(var o,a=-1,u=s[t]=new Array(o);++a<o;)u[a]=e[a][t];return s}},"./node_modules/d3-array/src/variance.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-array/src/number.js");t.default=function(e,t){var r,i,s=e.length,o=0,a=-1,u=0,l=0;if(null==t)for(;++a<s;)isNaN(r=Object(n.default)(e[a]))||(l+=(i=r-u)*(r-(u+=i/++o)));else for(;++a<s;)isNaN(r=Object(n.default)(t(e[a],a,e)))||(l+=(i=r-u)*(r-(u+=i/++o)));if(o>1)return l/(o-1)}},"./node_modules/d3-array/src/zip.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-array/src/transpose.js");t.default=function(){return Object(n.default)(arguments)}},"./node_modules/d3-collection/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-collection/src/nest.js");r.d(t,"nest",function(){return n.default});var i=r("./node_modules/d3-collection/src/set.js");r.d(t,"set",function(){return i.default});var s=r("./node_modules/d3-collection/src/map.js");r.d(t,"map",function(){return s.default});var o=r("./node_modules/d3-collection/src/keys.js");r.d(t,"keys",function(){return o.default});var a=r("./node_modules/d3-collection/src/values.js");r.d(t,"values",function(){return a.default});var u=r("./node_modules/d3-collection/src/entries.js");r.d(t,"entries",function(){return u.default})},"./node_modules/d3-collection/src/entries.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=[];for(var r in e)t.push({key:r,value:e[r]});return t}},"./node_modules/d3-collection/src/keys.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=[];for(var r in e)t.push(r);return t}},"./node_modules/d3-collection/src/map.js":function(e,t,r){"use strict";r.r(t),r.d(t,"prefix",function(){return n});var n="$";function i(){}function s(e,t){var r=new i;if(e instanceof i)e.each(function(e,t){r.set(t,e)});else if(Array.isArray(e)){var n,s=-1,o=e.length;if(null==t)for(;++s<o;)r.set(s,e[s]);else for(;++s<o;)r.set(t(n=e[s],s,e),n)}else if(e)for(var a in e)r.set(a,e[a]);return r}i.prototype=s.prototype={constructor:i,has:function(e){return n+e in this},get:function(e){return this[n+e]},set:function(e,t){return this[n+e]=t,this},remove:function(e){var t=n+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===n&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===n&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===n&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===n&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===n&&++e;return e},empty:function(){for(var e in this)if(e[0]===n)return!1;return!0},each:function(e){for(var t in this)t[0]===n&&e(this[t],t.slice(1),this)}},t.default=s},"./node_modules/d3-collection/src/nest.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-collection/src/map.js");function i(){return{}}function s(e,t,r){e[t]=r}function o(){return Object(n.default)()}function a(e,t,r){e.set(t,r)}t.default=function(){var e,t,r,u=[],l=[];function c(r,i,s,o){if(i>=u.length)return null!=e&&r.sort(e),null!=t?t(r):r;for(var a,l,d,h=-1,f=r.length,p=u[i++],m=Object(n.default)(),g=s();++h<f;)(d=m.get(a=p(l=r[h])+""))?d.push(l):m.set(a,[l]);return m.each(function(e,t){o(g,t,c(e,i,s,o))}),g}return r={object:function(e){return c(e,0,i,s)},map:function(e){return c(e,0,o,a)},entries:function(e){return function e(r,n){if(++n>u.length)return r;var i,s=l[n-1];return null!=t&&n>=u.length?i=r.entries():(i=[],r.each(function(t,r){i.push({key:r,values:e(t,n)})})),null!=s?i.sort(function(e,t){return s(e.key,t.key)}):i}(c(e,0,o,a),0)},key:function(e){return u.push(e),r},sortKeys:function(e){return l[u.length-1]=e,r},sortValues:function(t){return e=t,r},rollup:function(e){return t=e,r}}}},"./node_modules/d3-collection/src/set.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-collection/src/map.js");function i(){}var s=n.default.prototype;function o(e,t){var r=new i;if(e instanceof i)e.each(function(e){r.add(e)});else if(e){var n=-1,s=e.length;if(null==t)for(;++n<s;)r.add(e[n]);else for(;++n<s;)r.add(t(e[n],n,e))}return r}i.prototype=o.prototype={constructor:i,has:s.has,add:function(e){return e+="",this[n.prefix+e]=e,this},remove:s.remove,clear:s.clear,values:s.keys,size:s.size,empty:s.empty,each:s.each},t.default=o},"./node_modules/d3-collection/src/values.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=[];for(var r in e)t.push(e[r]);return t}},"./node_modules/d3-color/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-color/src/color.js");r.d(t,"color",function(){return n.default}),r.d(t,"rgb",function(){return n.rgb}),r.d(t,"hsl",function(){return n.hsl});var i=r("./node_modules/d3-color/src/lab.js");r.d(t,"lab",function(){return i.default}),r.d(t,"hcl",function(){return i.hcl});var s=r("./node_modules/d3-color/src/cubehelix.js");r.d(t,"cubehelix",function(){return s.default})},"./node_modules/d3-color/src/color.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Color",function(){return i}),r.d(t,"darker",function(){return s}),r.d(t,"brighter",function(){return o}),r.d(t,"default",function(){return v}),r.d(t,"rgbConvert",function(){return C}),r.d(t,"rgb",function(){return T}),r.d(t,"Rgb",function(){return O}),r.d(t,"hslConvert",function(){return R}),r.d(t,"hsl",function(){return D});var n=r("./node_modules/d3-color/src/define.js");function i(){}var s=.7,o=1/s,a="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3})$/,d=/^#([0-9a-f]{6})$/,h=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),f=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),p=new RegExp("^rgba\\("+[a,a,a,u]+"\\)$"),m=new RegExp("^rgba\\("+[l,l,l,u]+"\\)$"),g=new RegExp("^hsl\\("+[u,l,l]+"\\)$"),b=new RegExp("^hsla\\("+[u,l,l,u]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(e){var t;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?new O((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=d.exec(e))?E(parseInt(t[1],16)):(t=h.exec(e))?new O(t[1],t[2],t[3],1):(t=f.exec(e))?new O(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=p.exec(e))?_(t[1],t[2],t[3],t[4]):(t=m.exec(e))?_(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=g.exec(e))?N(t[1],t[2]/100,t[3]/100,1):(t=b.exec(e))?N(t[1],t[2]/100,t[3]/100,t[4]):y.hasOwnProperty(e)?E(y[e]):"transparent"===e?new O(NaN,NaN,NaN,0):null}function E(e){return new O(e>>16&255,e>>8&255,255&e,1)}function _(e,t,r,n){return n<=0&&(e=t=r=NaN),new O(e,t,r,n)}function C(e){return e instanceof i||(e=v(e)),e?new O((e=e.rgb()).r,e.g,e.b,e.opacity):new O}function T(e,t,r,n){return 1===arguments.length?C(e):new O(e,t,r,null==n?1:n)}function O(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function N(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new j(e,t,r,n)}function R(e){if(e instanceof j)return new j(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=v(e)),!e)return new j;if(e instanceof j)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),o=Math.max(t,r,n),a=NaN,u=o-s,l=(o+s)/2;return u?(a=t===o?(r-n)/u+6*(r<n):r===o?(n-t)/u+2:(t-r)/u+4,u/=l<.5?o+s:2-o-s,a*=60):u=l>0&&l<1?0:a,new j(a,u,l,e.opacity)}function D(e,t,r,n){return 1===arguments.length?R(e):new j(e,t,r,null==n?1:n)}function j(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function A(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}Object(n.default)(i,v,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(n.default)(O,T,Object(n.extend)(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new O(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?s:Math.pow(s,e),new O(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),Object(n.default)(j,D,Object(n.extend)(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new j(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?s:Math.pow(s,e),new j(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new O(A(e>=240?e-240:e+120,i,n),A(e,i,n),A(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},"./node_modules/d3-color/src/cubehelix.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return p}),r.d(t,"Cubehelix",function(){return m});var n=r("./node_modules/d3-color/src/define.js"),i=r("./node_modules/d3-color/src/color.js"),s=r("./node_modules/d3-color/src/math.js"),o=-.14861,a=1.78277,u=-.29227,l=-.90649,c=1.97294,d=c*l,h=c*a,f=a*u-l*o;function p(e,t,r,n){return 1===arguments.length?function(e){if(e instanceof m)return new m(e.h,e.s,e.l,e.opacity);e instanceof i.Rgb||(e=Object(i.rgbConvert)(e));var t=e.r/255,r=e.g/255,n=e.b/255,o=(f*n+d*t-h*r)/(f+d-h),a=n-o,p=(c*(r-o)-u*a)/l,g=Math.sqrt(p*p+a*a)/(c*o*(1-o)),b=g?Math.atan2(p,a)*s.rad2deg-120:NaN;return new m(b<0?b+360:b,g,o,e.opacity)}(e):new m(e,t,r,null==n?1:n)}function m(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Object(n.default)(m,p,Object(n.extend)(i.Color,{brighter:function(e){return e=null==e?i.brighter:Math.pow(i.brighter,e),new m(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?i.darker:Math.pow(i.darker,e),new m(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*s.deg2rad,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),d=Math.sin(e);return new i.Rgb(255*(t+r*(o*n+a*d)),255*(t+r*(u*n+l*d)),255*(t+r*(c*n)),this.opacity)}}))},"./node_modules/d3-color/src/define.js":function(e,t,r){"use strict";function n(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}r.r(t),r.d(t,"extend",function(){return n}),t.default=function(e,t,r){e.prototype=t.prototype=r,r.constructor=e}},"./node_modules/d3-color/src/lab.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return p}),r.d(t,"Lab",function(){return m}),r.d(t,"hcl",function(){return E}),r.d(t,"Hcl",function(){return _});var n=r("./node_modules/d3-color/src/define.js"),i=r("./node_modules/d3-color/src/color.js"),s=r("./node_modules/d3-color/src/math.js"),o=.95047,a=1,u=1.08883,l=4/29,c=6/29,d=3*c*c,h=c*c*c;function f(e){if(e instanceof m)return new m(e.l,e.a,e.b,e.opacity);if(e instanceof _){var t=e.h*s.deg2rad;return new m(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof i.Rgb||(e=Object(i.rgbConvert)(e));var r=v(e.r),n=v(e.g),l=v(e.b),c=g((.4124564*r+.3575761*n+.1804375*l)/o),d=g((.2126729*r+.7151522*n+.072175*l)/a);return new m(116*d-16,500*(c-d),200*(d-g((.0193339*r+.119192*n+.9503041*l)/u)),e.opacity)}function p(e,t,r,n){return 1===arguments.length?f(e):new m(e,t,r,null==n?1:n)}function m(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function g(e){return e>h?Math.pow(e,1/3):e/d+l}function b(e){return e>c?e*e*e:d*(e-l)}function y(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function v(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function E(e,t,r,n){return 1===arguments.length?function(e){if(e instanceof _)return new _(e.h,e.c,e.l,e.opacity);e instanceof m||(e=f(e));var t=Math.atan2(e.b,e.a)*s.rad2deg;return new _(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new _(e,t,r,null==n?1:n)}function _(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}Object(n.default)(m,p,Object(n.extend)(i.Color,{brighter:function(e){return new m(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new m(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return e=a*b(e),t=o*b(t),r=u*b(r),new i.Rgb(y(3.2404542*t-1.5371385*e-.4985314*r),y(-.969266*t+1.8760108*e+.041556*r),y(.0556434*t-.2040259*e+1.0572252*r),this.opacity)}})),Object(n.default)(_,E,Object(n.extend)(i.Color,{brighter:function(e){return new _(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new _(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return f(this).rgb()}}))},"./node_modules/d3-color/src/math.js":function(e,t,r){"use strict";r.r(t),r.d(t,"deg2rad",function(){return n}),r.d(t,"rad2deg",function(){return i});var n=Math.PI/180,i=180/Math.PI},"./node_modules/d3-dispatch/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-dispatch/src/dispatch.js");r.d(t,"dispatch",function(){return n.default})},"./node_modules/d3-dispatch/src/dispatch.js":function(e,t,r){"use strict";r.r(t);var n={value:function(){}};function i(){for(var e,t=0,r=arguments.length,n={};t<r;++t){if(!(e=arguments[t]+"")||e in n)throw new Error("illegal type: "+e);n[e]=[]}return new s(n)}function s(e){this._=e}function o(e,t){for(var r,n=0,i=e.length;n<i;++n)if((r=e[n]).name===t)return r.value}function a(e,t,r){for(var i=0,s=e.length;i<s;++i)if(e[i].name===t){e[i]=n,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=r&&e.push({name:t,value:r}),e}s.prototype=i.prototype={constructor:s,on:function(e,t){var r,n,i=this._,s=(n=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");if(r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),u=-1,l=s.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++u<l;)if(r=(e=s[u]).type)i[r]=a(i[r],e.name,t);else if(null==t)for(r in i)i[r]=a(i[r],e.name,null);return this}for(;++u<l;)if((r=(e=s[u]).type)&&(r=o(i[r],e.name)))return r},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new s(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var r,n,i=new Array(r),s=0;s<r;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=0,r=(n=this._[e]).length;s<r;++s)n[s].value.apply(t,i)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}},t.default=i},"./node_modules/d3-drag/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-drag/src/drag.js");r.d(t,"drag",function(){return n.default});var i=r("./node_modules/d3-drag/src/nodrag.js");r.d(t,"dragDisable",function(){return i.default}),r.d(t,"dragEnable",function(){return i.yesdrag})},"./node_modules/d3-drag/src/constant.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){return function(){return e}}},"./node_modules/d3-drag/src/drag.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-dispatch/index.js"),i=r("./node_modules/d3-selection/index.js"),s=r("./node_modules/d3-drag/src/nodrag.js"),o=r("./node_modules/d3-drag/src/noevent.js"),a=r("./node_modules/d3-drag/src/constant.js"),u=r("./node_modules/d3-drag/src/event.js");function l(){return!i.event.button}function c(){return this.parentNode}function d(e){return null==e?{x:i.event.x,y:i.event.y}:e}function h(){return"ontouchstart"in this}t.default=function(){var e,t,r,f,p=l,m=c,g=d,b=h,y={},v=Object(n.dispatch)("start","drag","end"),E=0,_=0;function C(e){e.on("mousedown.drag",T).filter(b).on("touchstart.drag",R).on("touchmove.drag",D).on("touchend.drag touchcancel.drag",j).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function T(){if(!f&&p.apply(this,arguments)){var n=A("mouse",m.apply(this,arguments),i.mouse,this,arguments);n&&(Object(i.select)(i.event.view).on("mousemove.drag",O,!0).on("mouseup.drag",N,!0),Object(s.default)(i.event.view),Object(o.nopropagation)(),r=!1,e=i.event.clientX,t=i.event.clientY,n("start"))}}function O(){if(Object(o.default)(),!r){var n=i.event.clientX-e,s=i.event.clientY-t;r=n*n+s*s>_}y.mouse("drag")}function N(){Object(i.select)(i.event.view).on("mousemove.drag mouseup.drag",null),Object(s.yesdrag)(i.event.view,r),Object(o.default)(),y.mouse("end")}function R(){if(p.apply(this,arguments)){var e,t,r=i.event.changedTouches,n=m.apply(this,arguments),s=r.length;for(e=0;e<s;++e)(t=A(r[e].identifier,n,i.touch,this,arguments))&&(Object(o.nopropagation)(),t("start"))}}function D(){var e,t,r=i.event.changedTouches,n=r.length;for(e=0;e<n;++e)(t=y[r[e].identifier])&&(Object(o.default)(),t("drag"))}function j(){var e,t,r=i.event.changedTouches,n=r.length;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),e=0;e<n;++e)(t=y[r[e].identifier])&&(Object(o.nopropagation)(),t("end"))}function A(e,t,r,n,s){var o,a,l,c=r(t,e),d=v.copy();if(Object(i.customEvent)(new u.default(C,"beforestart",o,e,E,c[0],c[1],0,0,d),function(){return null!=(i.event.subject=o=g.apply(n,s))&&(a=o.x-c[0]||0,l=o.y-c[1]||0,!0)}))return function h(f){var p,m=c;switch(f){case"start":y[e]=h,p=E++;break;case"end":delete y[e],--E;case"drag":c=r(t,e),p=E}Object(i.customEvent)(new u.default(C,f,o,e,p,c[0]+a,c[1]+l,c[0]-m[0],c[1]-m[1],d),d.apply,d,[f,n,s])}}return C.filter=function(e){return arguments.length?(p="function"==typeof e?e:Object(a.default)(!!e),C):p},C.container=function(e){return arguments.length?(m="function"==typeof e?e:Object(a.default)(e),C):m},C.subject=function(e){return arguments.length?(g="function"==typeof e?e:Object(a.default)(e),C):g},C.touchable=function(e){return arguments.length?(b="function"==typeof e?e:Object(a.default)(!!e),C):b},C.on=function(){var e=v.on.apply(v,arguments);return e===v?C:e},C.clickDistance=function(e){return arguments.length?(_=(e=+e)*e,C):Math.sqrt(_)},C}},"./node_modules/d3-drag/src/event.js":function(e,t,r){"use strict";function n(e,t,r,n,i,s,o,a,u,l){this.target=e,this.type=t,this.subject=r,this.identifier=n,this.active=i,this.x=s,this.y=o,this.dx=a,this.dy=u,this._=l}r.r(t),r.d(t,"default",function(){return n}),n.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}},"./node_modules/d3-drag/src/nodrag.js":function(e,t,r){"use strict";r.r(t),r.d(t,"yesdrag",function(){return s});var n=r("./node_modules/d3-selection/index.js"),i=r("./node_modules/d3-drag/src/noevent.js");function s(e,t){var r=e.document.documentElement,s=Object(n.select)(e).on("dragstart.drag",null);t&&(s.on("click.drag",i.default,!0),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in r?s.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}t.default=function(e){var t=e.document.documentElement,r=Object(n.select)(e).on("dragstart.drag",i.default,!0);"onselectstart"in t?r.on("selectstart.drag",i.default,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}},"./node_modules/d3-drag/src/noevent.js":function(e,t,r){"use strict";r.r(t),r.d(t,"nopropagation",function(){return i});var n=r("./node_modules/d3-selection/index.js");function i(){n.event.stopImmediatePropagation()}t.default=function(){n.event.preventDefault(),n.event.stopImmediatePropagation()}},"./node_modules/d3-format/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-format/src/defaultLocale.js");r.d(t,"formatDefaultLocale",function(){return n.default}),r.d(t,"format",function(){return n.format}),r.d(t,"formatPrefix",function(){return n.formatPrefix});var i=r("./node_modules/d3-format/src/locale.js");r.d(t,"formatLocale",function(){return i.default});var s=r("./node_modules/d3-format/src/formatSpecifier.js");r.d(t,"formatSpecifier",function(){return s.default});var o=r("./node_modules/d3-format/src/precisionFixed.js");r.d(t,"precisionFixed",function(){return o.default});var a=r("./node_modules/d3-format/src/precisionPrefix.js");r.d(t,"precisionPrefix",function(){return a.default});var u=r("./node_modules/d3-format/src/precisionRound.js");r.d(t,"precisionRound",function(){return u.default})},"./node_modules/d3-format/src/defaultLocale.js":function(e,t,r){"use strict";r.r(t),r.d(t,"format",function(){return i}),r.d(t,"formatPrefix",function(){return s}),r.d(t,"default",function(){return a});var n,i,s,o=r("./node_modules/d3-format/src/locale.js");function a(e){return n=Object(o.default)(e),i=n.format,s=n.formatPrefix,n}a({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},"./node_modules/d3-format/src/exponent.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-format/src/formatDecimal.js");t.default=function(e){return(e=Object(n.default)(Math.abs(e)))?e[1]:NaN}},"./node_modules/d3-format/src/formatDecimal.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}},"./node_modules/d3-format/src/formatDefault.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){e=e.toPrecision(t);e:for(var r,n=e.length,i=1,s=-1;i<n;++i)switch(e[i]){case".":s=r=i;break;case"0":0===s&&(s=i),r=i;break;case"e":break e;default:s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(r+1):e}},"./node_modules/d3-format/src/formatGroup.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){return function(r,n){for(var i=r.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>n&&(a=Math.max(1,n-u)),s.push(r.substring(i-=a,i+a)),!((u+=a+1)>n));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}},"./node_modules/d3-format/src/formatNumerals.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}},"./node_modules/d3-format/src/formatPrefixAuto.js":function(e,t,r){"use strict";r.r(t),r.d(t,"prefixExponent",function(){return n});var n,i=r("./node_modules/d3-format/src/formatDecimal.js");t.default=function(e,t){var r=Object(i.default)(e,t);if(!r)return e+"";var s=r[0],o=r[1],a=o-(n=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,u=s.length;return a===u?s:a>u?s+new Array(a-u+1).join("0"):a>0?s.slice(0,a)+"."+s.slice(a):"0."+new Array(1-a).join("0")+Object(i.default)(e,Math.max(0,t+a-1))[0]}},"./node_modules/d3-format/src/formatRounded.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-format/src/formatDecimal.js");t.default=function(e,t){var r=Object(n.default)(e,t);if(!r)return e+"";var i=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}},"./node_modules/d3-format/src/formatSpecifier.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./node_modules/d3-format/src/formatTypes.js"),i=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function s(e){return new o(e)}function o(e){if(!(t=i.exec(e)))throw new Error("invalid format: "+e);var t,r=t[1]||" ",s=t[2]||">",o=t[3]||"-",a=t[4]||"",u=!!t[5],l=t[6]&&+t[6],c=!!t[7],d=t[8]&&+t[8].slice(1),h=t[9]||"";"n"===h?(c=!0,h="g"):n.default[h]||(h=""),(u||"0"===r&&"="===s)&&(u=!0,r="0",s="="),this.fill=r,this.align=s,this.sign=o,this.symbol=a,this.zero=u,this.width=l,this.comma=c,this.precision=d,this.type=h}s.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type}},"./node_modules/d3-format/src/formatTypes.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-format/src/formatDefault.js"),i=r("./node_modules/d3-format/src/formatPrefixAuto.js"),s=r("./node_modules/d3-format/src/formatRounded.js");t.default={"":n.default,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Object(s.default)(100*e,t)},r:s.default,s:i.default,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}},"./node_modules/d3-format/src/identity.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){return e}},"./node_modules/d3-format/src/locale.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-format/src/exponent.js"),i=r("./node_modules/d3-format/src/formatGroup.js"),s=r("./node_modules/d3-format/src/formatNumerals.js"),o=r("./node_modules/d3-format/src/formatSpecifier.js"),a=r("./node_modules/d3-format/src/formatTypes.js"),u=r("./node_modules/d3-format/src/formatPrefixAuto.js"),l=r("./node_modules/d3-format/src/identity.js"),c=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];t.default=function(e){var t=e.grouping&&e.thousands?Object(i.default)(e.grouping,e.thousands):l.default,r=e.currency,d=e.decimal,h=e.numerals?Object(s.default)(e.numerals):l.default,f=e.percent||"%";function p(e){var n=(e=Object(o.default)(e)).fill,i=e.align,s=e.sign,l=e.symbol,p=e.zero,m=e.width,g=e.comma,b=e.precision,y=e.type,v="$"===l?r[0]:"#"===l&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",E="$"===l?r[1]:/[%p]/.test(y)?f:"",_=a.default[y],C=!y||/[defgprs%]/.test(y);function T(e){var r,o,a,l=v,f=E;if("c"===y)f=_(e)+f,e="";else{var T=(e=+e)<0;if(e=_(Math.abs(e),b),T&&0==+e&&(T=!1),l=(T?"("===s?s:"-":"-"===s||"("===s?"":s)+l,f=("s"===y?c[8+u.prefixExponent/3]:"")+f+(T&&"("===s?")":""),C)for(r=-1,o=e.length;++r<o;)if(48>(a=e.charCodeAt(r))||a>57){f=(46===a?d+e.slice(r+1):e.slice(r))+f,e=e.slice(0,r);break}}g&&!p&&(e=t(e,1/0));var O=l.length+e.length+f.length,N=O<m?new Array(m-O+1).join(n):"";switch(g&&p&&(e=t(N+e,N.length?m-f.length:1/0),N=""),i){case"<":e=l+e+f+N;break;case"=":e=l+N+e+f;break;case"^":e=N.slice(0,O=N.length>>1)+l+e+f+N.slice(O);break;default:e=N+l+e+f}return h(e)}return b=null==b?y?6:12:/[gprs]/.test(y)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),T.toString=function(){return e+""},T}return{format:p,formatPrefix:function(e,t){var r=p(((e=Object(o.default)(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(Object(n.default)(t)/3))),s=Math.pow(10,-i),a=c[8+i/3];return function(e){return r(s*e)+a}}}}},"./node_modules/d3-format/src/precisionFixed.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-format/src/exponent.js");t.default=function(e){return Math.max(0,-Object(n.default)(Math.abs(e)))}},"./node_modules/d3-format/src/precisionPrefix.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-format/src/exponent.js");t.default=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(n.default)(t)/3)))-Object(n.default)(Math.abs(e)))}},"./node_modules/d3-format/src/precisionRound.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-format/src/exponent.js");t.default=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Object(n.default)(t)-Object(n.default)(e))+1}},"./node_modules/d3-interpolate/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-interpolate/src/value.js");r.d(t,"interpolate",function(){return n.default});var i=r("./node_modules/d3-interpolate/src/array.js");r.d(t,"interpolateArray",function(){return i.default});var s=r("./node_modules/d3-interpolate/src/basis.js");r.d(t,"interpolateBasis",function(){return s.default});var o=r("./node_modules/d3-interpolate/src/basisClosed.js");r.d(t,"interpolateBasisClosed",function(){return o.default});var a=r("./node_modules/d3-interpolate/src/date.js");r.d(t,"interpolateDate",function(){return a.default});var u=r("./node_modules/d3-interpolate/src/number.js");r.d(t,"interpolateNumber",function(){return u.default});var l=r("./node_modules/d3-interpolate/src/object.js");r.d(t,"interpolateObject",function(){return l.default});var c=r("./node_modules/d3-interpolate/src/round.js");r.d(t,"interpolateRound",function(){return c.default});var d=r("./node_modules/d3-interpolate/src/string.js");r.d(t,"interpolateString",function(){return d.default});var h=r("./node_modules/d3-interpolate/src/transform/index.js");r.d(t,"interpolateTransformCss",function(){return h.interpolateTransformCss}),r.d(t,"interpolateTransformSvg",function(){return h.interpolateTransformSvg});var f=r("./node_modules/d3-interpolate/src/zoom.js");r.d(t,"interpolateZoom",function(){return f.default});var p=r("./node_modules/d3-interpolate/src/rgb.js");r.d(t,"interpolateRgb",function(){return p.default}),r.d(t,"interpolateRgbBasis",function(){return p.rgbBasis}),r.d(t,"interpolateRgbBasisClosed",function(){return p.rgbBasisClosed});var m=r("./node_modules/d3-interpolate/src/hsl.js");r.d(t,"interpolateHsl",function(){return m.default}),r.d(t,"interpolateHslLong",function(){return m.hslLong});var g=r("./node_modules/d3-interpolate/src/lab.js");r.d(t,"interpolateLab",function(){return g.default});var b=r("./node_modules/d3-interpolate/src/hcl.js");r.d(t,"interpolateHcl",function(){return b.default}),r.d(t,"interpolateHclLong",function(){return b.hclLong});var y=r("./node_modules/d3-interpolate/src/cubehelix.js");r.d(t,"interpolateCubehelix",function(){return y.default}),r.d(t,"interpolateCubehelixLong",function(){return y.cubehelixLong});var v=r("./node_modules/d3-interpolate/src/quantize.js");r.d(t,"quantize",function(){return v.default})},"./node_modules/d3-interpolate/src/array.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-interpolate/src/value.js");t.default=function(e,t){var r,i=t?t.length:0,s=e?Math.min(i,e.length):0,o=new Array(s),a=new Array(i);for(r=0;r<s;++r)o[r]=Object(n.default)(e[r],t[r]);for(;r<i;++r)a[r]=t[r];return function(e){for(r=0;r<s;++r)a[r]=o[r](e);return a}}},"./node_modules/d3-interpolate/src/basis.js":function(e,t,r){"use strict";function n(e,t,r,n,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*i)/6}r.r(t),r.d(t,"basis",function(){return n}),t.default=function(e){var t=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),s=e[i],o=e[i+1],a=i>0?e[i-1]:2*s-o,u=i<t-1?e[i+2]:2*o-s;return n((r-i/t)*t,a,s,o,u)}}},"./node_modules/d3-interpolate/src/basisClosed.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-interpolate/src/basis.js");t.default=function(e){var t=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*t),s=e[(i+t-1)%t],o=e[i%t],a=e[(i+1)%t],u=e[(i+2)%t];return Object(n.basis)((r-i/t)*t,s,o,a,u)}}},"./node_modules/d3-interpolate/src/color.js":function(e,t,r){"use strict";r.r(t),r.d(t,"hue",function(){return s}),r.d(t,"gamma",function(){return o}),r.d(t,"default",function(){return a});var n=r("./node_modules/d3-interpolate/src/constant.js");function i(e,t){return function(r){return e+r*t}}function s(e,t){var r=t-e;return r?i(e,r>180||r<-180?r-360*Math.round(r/360):r):Object(n.default)(isNaN(e)?t:e)}function o(e){return 1==(e=+e)?a:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):Object(n.default)(isNaN(t)?r:t)}}function a(e,t){var r=t-e;return r?i(e,r):Object(n.default)(isNaN(e)?t:e)}},"./node_modules/d3-interpolate/src/constant.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){return function(){return e}}},"./node_modules/d3-interpolate/src/cubehelix.js":function(e,t,r){"use strict";r.r(t),r.d(t,"cubehelixLong",function(){return o});var n=r("./node_modules/d3-color/index.js"),i=r("./node_modules/d3-interpolate/src/color.js");function s(e){return function t(r){function s(t,s){var o=e((t=Object(n.cubehelix)(t)).h,(s=Object(n.cubehelix)(s)).h),a=Object(i.default)(t.s,s.s),u=Object(i.default)(t.l,s.l),l=Object(i.default)(t.opacity,s.opacity);return function(e){return t.h=o(e),t.s=a(e),t.l=u(Math.pow(e,r)),t.opacity=l(e),t+""}}return r=+r,s.gamma=t,s}(1)}t.default=s(i.hue);var o=s(i.default)},"./node_modules/d3-interpolate/src/date.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){var r=new Date;return t-=e=+e,function(n){return r.setTime(e+t*n),r}}},"./node_modules/d3-interpolate/src/hcl.js":function(e,t,r){"use strict";r.r(t),r.d(t,"hclLong",function(){return o});var n=r("./node_modules/d3-color/index.js"),i=r("./node_modules/d3-interpolate/src/color.js");function s(e){return function(t,r){var s=e((t=Object(n.hcl)(t)).h,(r=Object(n.hcl)(r)).h),o=Object(i.default)(t.c,r.c),a=Object(i.default)(t.l,r.l),u=Object(i.default)(t.opacity,r.opacity);return function(e){return t.h=s(e),t.c=o(e),t.l=a(e),t.opacity=u(e),t+""}}}t.default=s(i.hue);var o=s(i.default)},"./node_modules/d3-interpolate/src/hsl.js":function(e,t,r){"use strict";r.r(t),r.d(t,"hslLong",function(){return o});var n=r("./node_modules/d3-color/index.js"),i=r("./node_modules/d3-interpolate/src/color.js");function s(e){return function(t,r){var s=e((t=Object(n.hsl)(t)).h,(r=Object(n.hsl)(r)).h),o=Object(i.default)(t.s,r.s),a=Object(i.default)(t.l,r.l),u=Object(i.default)(t.opacity,r.opacity);return function(e){return t.h=s(e),t.s=o(e),t.l=a(e),t.opacity=u(e),t+""}}}t.default=s(i.hue);var o=s(i.default)},"./node_modules/d3-interpolate/src/lab.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./node_modules/d3-color/index.js"),i=r("./node_modules/d3-interpolate/src/color.js");function s(e,t){var r=Object(i.default)((e=Object(n.lab)(e)).l,(t=Object(n.lab)(t)).l),s=Object(i.default)(e.a,t.a),o=Object(i.default)(e.b,t.b),a=Object(i.default)(e.opacity,t.opacity);return function(t){return e.l=r(t),e.a=s(t),e.b=o(t),e.opacity=a(t),e+""}}},"./node_modules/d3-interpolate/src/number.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){return t-=e=+e,function(r){return e+t*r}}},"./node_modules/d3-interpolate/src/object.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-interpolate/src/value.js");t.default=function(e,t){var r,i={},s={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?i[r]=Object(n.default)(e[r],t[r]):s[r]=t[r];return function(e){for(r in i)s[r]=i[r](e);return s}}},"./node_modules/d3-interpolate/src/quantize.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}},"./node_modules/d3-interpolate/src/rgb.js":function(e,t,r){"use strict";r.r(t),r.d(t,"rgbBasis",function(){return u}),r.d(t,"rgbBasisClosed",function(){return l});var n=r("./node_modules/d3-color/index.js"),i=r("./node_modules/d3-interpolate/src/basis.js"),s=r("./node_modules/d3-interpolate/src/basisClosed.js"),o=r("./node_modules/d3-interpolate/src/color.js");function a(e){return function(t){var r,i,s=t.length,o=new Array(s),a=new Array(s),u=new Array(s);for(r=0;r<s;++r)i=Object(n.rgb)(t[r]),o[r]=i.r||0,a[r]=i.g||0,u[r]=i.b||0;return o=e(o),a=e(a),u=e(u),i.opacity=1,function(e){return i.r=o(e),i.g=a(e),i.b=u(e),i+""}}}t.default=function e(t){var r=Object(o.gamma)(t);function i(e,t){var i=r((e=Object(n.rgb)(e)).r,(t=Object(n.rgb)(t)).r),s=r(e.g,t.g),a=r(e.b,t.b),u=Object(o.default)(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=s(t),e.b=a(t),e.opacity=u(t),e+""}}return i.gamma=e,i}(1);var u=a(i.default),l=a(s.default)},"./node_modules/d3-interpolate/src/round.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){return t-=e=+e,function(r){return Math.round(e+t*r)}}},"./node_modules/d3-interpolate/src/string.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-interpolate/src/number.js"),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s=new RegExp(i.source,"g");t.default=function(e,t){var r,o,a,u=i.lastIndex=s.lastIndex=0,l=-1,c=[],d=[];for(e+="",t+="";(r=i.exec(e))&&(o=s.exec(t));)(a=o.index)>u&&(a=t.slice(u,a),c[l]?c[l]+=a:c[++l]=a),(r=r[0])===(o=o[0])?c[l]?c[l]+=o:c[++l]=o:(c[++l]=null,d.push({i:l,x:Object(n.default)(r,o)})),u=s.lastIndex;return u<t.length&&(a=t.slice(u),c[l]?c[l]+=a:c[++l]=a),c.length<2?d[0]?function(e){return function(t){return e(t)+""}}(d[0].x):function(e){return function(){return e}}(t):(t=d.length,function(e){for(var r,n=0;n<t;++n)c[(r=d[n]).i]=r.x(e);return c.join("")})}},"./node_modules/d3-interpolate/src/transform/decompose.js":function(e,t,r){"use strict";r.r(t),r.d(t,"identity",function(){return i});var n=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};t.default=function(e,t,r,i,s,o){var a,u,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*r+t*i)&&(r-=e*l,i-=t*l),(u=Math.sqrt(r*r+i*i))&&(r/=u,i/=u,l/=u),e*i<t*r&&(e=-e,t=-t,l=-l,a=-a),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*n,skewX:Math.atan(l)*n,scaleX:a,scaleY:u}}},"./node_modules/d3-interpolate/src/transform/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"interpolateTransformCss",function(){return o}),r.d(t,"interpolateTransformSvg",function(){return a});var n=r("./node_modules/d3-interpolate/src/number.js"),i=r("./node_modules/d3-interpolate/src/transform/parse.js");function s(e,t,r,i){function s(e){return e.length?e.pop()+" ":""}return function(o,a){var u=[],l=[];return o=e(o),a=e(a),function(e,i,s,o,a,u){if(e!==s||i!==o){var l=a.push("translate(",null,t,null,r);u.push({i:l-4,x:Object(n.default)(e,s)},{i:l-2,x:Object(n.default)(i,o)})}else(s||o)&&a.push("translate("+s+t+o+r)}(o.translateX,o.translateY,a.translateX,a.translateY,u,l),function(e,t,r,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:r.push(s(r)+"rotate(",null,i)-2,x:Object(n.default)(e,t)})):t&&r.push(s(r)+"rotate("+t+i)}(o.rotate,a.rotate,u,l),function(e,t,r,o){e!==t?o.push({i:r.push(s(r)+"skewX(",null,i)-2,x:Object(n.default)(e,t)}):t&&r.push(s(r)+"skewX("+t+i)}(o.skewX,a.skewX,u,l),function(e,t,r,i,o,a){if(e!==r||t!==i){var u=o.push(s(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Object(n.default)(e,r)},{i:u-2,x:Object(n.default)(t,i)})}else 1===r&&1===i||o.push(s(o)+"scale("+r+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,l),o=a=null,function(e){for(var t,r=-1,n=l.length;++r<n;)u[(t=l[r]).i]=t.x(e);return u.join("")}}}var o=s(i.parseCss,"px, ","px)","deg)"),a=s(i.parseSvg,", ",")",")")},"./node_modules/d3-interpolate/src/transform/parse.js":function(e,t,r){"use strict";r.r(t),r.d(t,"parseCss",function(){return u}),r.d(t,"parseSvg",function(){return l});var n,i,s,o,a=r("./node_modules/d3-interpolate/src/transform/decompose.js");function u(e){return"none"===e?a.identity:(n||(n=document.createElement("DIV"),i=document.documentElement,s=document.defaultView),n.style.transform=e,e=s.getComputedStyle(i.appendChild(n),null).getPropertyValue("transform"),i.removeChild(n),e=e.slice(7,-1).split(","),Object(a.default)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function l(e){return null==e?a.identity:(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",e),(e=o.transform.baseVal.consolidate())?(e=e.matrix,Object(a.default)(e.a,e.b,e.c,e.d,e.e,e.f)):a.identity)}},"./node_modules/d3-interpolate/src/value.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-color/index.js"),i=r("./node_modules/d3-interpolate/src/rgb.js"),s=r("./node_modules/d3-interpolate/src/array.js"),o=r("./node_modules/d3-interpolate/src/date.js"),a=r("./node_modules/d3-interpolate/src/number.js"),u=r("./node_modules/d3-interpolate/src/object.js"),l=r("./node_modules/d3-interpolate/src/string.js"),c=r("./node_modules/d3-interpolate/src/constant.js");t.default=function(e,t){var r,d=typeof t;return null==t||"boolean"===d?Object(c.default)(t):("number"===d?a.default:"string"===d?(r=Object(n.color)(t))?(t=r,i.default):l.default:t instanceof n.color?i.default:t instanceof Date?o.default:Array.isArray(t)?s.default:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?u.default:a.default)(e,t)}},"./node_modules/d3-interpolate/src/zoom.js":function(e,t,r){"use strict";r.r(t);var n=Math.SQRT2;function i(e){return((e=Math.exp(e))+1/e)/2}t.default=function(e,t){var r,s,o=e[0],a=e[1],u=e[2],l=t[0],c=t[1],d=t[2],h=l-o,f=c-a,p=h*h+f*f;if(p<1e-12)s=Math.log(d/u)/n,r=function(e){return[o+e*h,a+e*f,u*Math.exp(n*e*s)]};else{var m=Math.sqrt(p),g=(d*d-u*u+4*p)/(2*u*2*m),b=(d*d-u*u-4*p)/(2*d*2*m),y=Math.log(Math.sqrt(g*g+1)-g),v=Math.log(Math.sqrt(b*b+1)-b);s=(v-y)/n,r=function(e){var t,r=e*s,l=i(y),c=u/(2*m)*(l*(t=n*r+y,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[o+c*h,a+c*f,u*l/i(n*r+y)]}}return r.duration=1e3*s,r}},"./node_modules/d3-scale/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-scale/src/band.js");r.d(t,"scaleBand",function(){return n.default}),r.d(t,"scalePoint",function(){return n.point});var i=r("./node_modules/d3-scale/src/identity.js");r.d(t,"scaleIdentity",function(){return i.default});var s=r("./node_modules/d3-scale/src/linear.js");r.d(t,"scaleLinear",function(){return s.default});var o=r("./node_modules/d3-scale/src/log.js");r.d(t,"scaleLog",function(){return o.default});var a=r("./node_modules/d3-scale/src/ordinal.js");r.d(t,"scaleOrdinal",function(){return a.default}),r.d(t,"scaleImplicit",function(){return a.implicit});var u=r("./node_modules/d3-scale/src/pow.js");r.d(t,"scalePow",function(){return u.default}),r.d(t,"scaleSqrt",function(){return u.sqrt});var l=r("./node_modules/d3-scale/src/quantile.js");r.d(t,"scaleQuantile",function(){return l.default});var c=r("./node_modules/d3-scale/src/quantize.js");r.d(t,"scaleQuantize",function(){return c.default});var d=r("./node_modules/d3-scale/src/threshold.js");r.d(t,"scaleThreshold",function(){return d.default});var h=r("./node_modules/d3-scale/src/time.js");r.d(t,"scaleTime",function(){return h.default});var f=r("./node_modules/d3-scale/src/utcTime.js");r.d(t,"scaleUtc",function(){return f.default});var p=r("./node_modules/d3-scale/src/sequential.js");r.d(t,"scaleSequential",function(){return p.default})},"./node_modules/d3-scale/src/array.js":function(e,t,r){"use strict";r.r(t),r.d(t,"map",function(){return i}),r.d(t,"slice",function(){return s});var n=Array.prototype,i=n.map,s=n.slice},"./node_modules/d3-scale/src/band.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s}),r.d(t,"point",function(){return o});var n=r("./node_modules/d3-array/index.js"),i=r("./node_modules/d3-scale/src/ordinal.js");function s(){var e,t,r=Object(i.default)().unknown(void 0),o=r.domain,a=r.range,u=[0,1],l=!1,c=0,d=0,h=.5;function f(){var r=o().length,i=u[1]<u[0],s=u[i-0],f=u[1-i];e=(f-s)/Math.max(1,r-c+2*d),l&&(e=Math.floor(e)),s+=(f-s-e*(r-c))*h,t=e*(1-c),l&&(s=Math.round(s),t=Math.round(t));var p=Object(n.range)(r).map(function(t){return s+e*t});return a(i?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(o(e),f()):o()},r.range=function(e){return arguments.length?(u=[+e[0],+e[1]],f()):u.slice()},r.rangeRound=function(e){return u=[+e[0],+e[1]],l=!0,f()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(l=!!e,f()):l},r.padding=function(e){return arguments.length?(c=d=Math.max(0,Math.min(1,e)),f()):c},r.paddingInner=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),f()):c},r.paddingOuter=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),f()):d},r.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),f()):h},r.copy=function(){return s().domain(o()).range(u).round(l).paddingInner(c).paddingOuter(d).align(h)},f()}function o(){return function e(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(r())},t}(s().paddingInner(1))}},"./node_modules/d3-scale/src/constant.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){return function(){return e}}},"./node_modules/d3-scale/src/continuous.js":function(e,t,r){"use strict";r.r(t),r.d(t,"deinterpolateLinear",function(){return l}),r.d(t,"copy",function(){return h}),r.d(t,"default",function(){return f});var n=r("./node_modules/d3-array/index.js"),i=r("./node_modules/d3-interpolate/index.js"),s=r("./node_modules/d3-scale/src/array.js"),o=r("./node_modules/d3-scale/src/constant.js"),a=r("./node_modules/d3-scale/src/number.js"),u=[0,1];function l(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Object(o.default)(t)}function c(e,t,r,n){var i=e[0],s=e[1],o=t[0],a=t[1];return s<i?(i=r(s,i),o=n(a,o)):(i=r(i,s),o=n(o,a)),function(e){return o(i(e))}}function d(e,t,r,i){var s=Math.min(e.length,t.length)-1,o=new Array(s),a=new Array(s),u=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<s;)o[u]=r(e[u],e[u+1]),a[u]=i(t[u],t[u+1]);return function(t){var r=Object(n.bisect)(e,t,1,s)-1;return a[r](o[r](t))}}function h(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function f(e,t){var r,n,o,h=u,f=u,p=i.interpolate,m=!1;function g(){return r=Math.min(h.length,f.length)>2?d:c,n=o=null,b}function b(t){return(n||(n=r(h,f,m?function(e){return function(t,r){var n=e(t=+t,r=+r);return function(e){return e<=t?0:e>=r?1:n(e)}}}(e):e,p)))(+t)}return b.invert=function(e){return(o||(o=r(f,h,l,m?function(e){return function(t,r){var n=e(t=+t,r=+r);return function(e){return e<=0?t:e>=1?r:n(e)}}}(t):t)))(+e)},b.domain=function(e){return arguments.length?(h=s.map.call(e,a.default),g()):h.slice()},b.range=function(e){return arguments.length?(f=s.slice.call(e),g()):f.slice()},b.rangeRound=function(e){return f=s.slice.call(e),p=i.interpolateRound,g()},b.clamp=function(e){return arguments.length?(m=!!e,g()):m},b.interpolate=function(e){return arguments.length?(p=e,g()):p},g()}},"./node_modules/d3-scale/src/identity.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return o});var n=r("./node_modules/d3-scale/src/array.js"),i=r("./node_modules/d3-scale/src/linear.js"),s=r("./node_modules/d3-scale/src/number.js");function o(){var e=[0,1];function t(e){return+e}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(e=n.map.call(r,s.default),t):e.slice()},t.copy=function(){return o().domain(e)},Object(i.linearish)(t)}},"./node_modules/d3-scale/src/linear.js":function(e,t,r){"use strict";r.r(t),r.d(t,"linearish",function(){return a}),r.d(t,"default",function(){return u});var n=r("./node_modules/d3-array/index.js"),i=r("./node_modules/d3-interpolate/index.js"),s=r("./node_modules/d3-scale/src/continuous.js"),o=r("./node_modules/d3-scale/src/tickFormat.js");function a(e){var t=e.domain;return e.ticks=function(e){var r=t();return Object(n.ticks)(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){return Object(o.default)(t(),e,r)},e.nice=function(r){null==r&&(r=10);var i,s=t(),o=0,a=s.length-1,u=s[o],l=s[a];return l<u&&(i=u,u=l,l=i,i=o,o=a,a=i),(i=Object(n.tickIncrement)(u,l,r))>0?(u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i,i=Object(n.tickIncrement)(u,l,r)):i<0&&(u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i,i=Object(n.tickIncrement)(u,l,r)),i>0?(s[o]=Math.floor(u/i)*i,s[a]=Math.ceil(l/i)*i,t(s)):i<0&&(s[o]=Math.ceil(u*i)/i,s[a]=Math.floor(l*i)/i,t(s)),e},e}function u(){var e=Object(s.default)(s.deinterpolateLinear,i.interpolateNumber);return e.copy=function(){return Object(s.copy)(e,u())},a(e)}},"./node_modules/d3-scale/src/log.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return p});var n=r("./node_modules/d3-array/index.js"),i=r("./node_modules/d3-format/index.js"),s=r("./node_modules/d3-scale/src/constant.js"),o=r("./node_modules/d3-scale/src/nice.js"),a=r("./node_modules/d3-scale/src/continuous.js");function u(e,t){return(t=Math.log(t/e))?function(r){return Math.log(r/e)/t}:Object(s.default)(t)}function l(e,t){return e<0?function(r){return-Math.pow(-t,r)*Math.pow(-e,1-r)}:function(r){return Math.pow(t,r)*Math.pow(e,1-r)}}function c(e){return isFinite(e)?+("1e"+e):e<0?0:e}function d(e){return 10===e?c:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function h(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function f(e){return function(t){return-e(-t)}}function p(){var e=Object(a.default)(u,l).domain([1,10]),t=e.domain,r=10,s=h(10),c=d(10);function m(){return s=h(r),c=d(r),t()[0]<0&&(s=f(s),c=f(c)),e}return e.base=function(e){return arguments.length?(r=+e,m()):r},e.domain=function(e){return arguments.length?(t(e),m()):t()},e.ticks=function(e){var i,o=t(),a=o[0],u=o[o.length-1];(i=u<a)&&(f=a,a=u,u=f);var l,d,h,f=s(a),p=s(u),m=null==e?10:+e,g=[];if(!(r%1)&&p-f<m){if(f=Math.round(f)-1,p=Math.round(p)+1,a>0){for(;f<p;++f)for(d=1,l=c(f);d<r;++d)if(!((h=l*d)<a)){if(h>u)break;g.push(h)}}else for(;f<p;++f)for(d=r-1,l=c(f);d>=1;--d)if(!((h=l*d)<a)){if(h>u)break;g.push(h)}}else g=Object(n.ticks)(f,p,Math.min(p-f,m)).map(c);return i?g.reverse():g},e.tickFormat=function(t,n){if(null==n&&(n=10===r?".0e":","),"function"!=typeof n&&(n=Object(i.format)(n)),t===1/0)return n;null==t&&(t=10);var o=Math.max(1,r*t/e.ticks().length);return function(e){var t=e/c(Math.round(s(e)));return t*r<r-.5&&(t*=r),t<=o?n(e):""}},e.nice=function(){return t(Object(o.default)(t(),{floor:function(e){return c(Math.floor(s(e)))},ceil:function(e){return c(Math.ceil(s(e)))}}))},e.copy=function(){return Object(a.copy)(e,p().base(r))},e}},"./node_modules/d3-scale/src/nice.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){var r,n=0,i=(e=e.slice()).length-1,s=e[n],o=e[i];return o<s&&(r=n,n=i,i=r,r=s,s=o,o=r),e[n]=t.floor(s),e[i]=t.ceil(o),e}},"./node_modules/d3-scale/src/number.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){return+e}},"./node_modules/d3-scale/src/ordinal.js":function(e,t,r){"use strict";r.r(t),r.d(t,"implicit",function(){return s}),r.d(t,"default",function(){return o});var n=r("./node_modules/d3-collection/index.js"),i=r("./node_modules/d3-scale/src/array.js"),s={name:"implicit"};function o(e){var t=Object(n.map)(),r=[],a=s;function u(n){var i=n+"",o=t.get(i);if(!o){if(a!==s)return a;t.set(i,o=r.push(n))}return e[(o-1)%e.length]}return e=null==e?[]:i.slice.call(e),u.domain=function(e){if(!arguments.length)return r.slice();r=[],t=Object(n.map)();for(var i,s,o=-1,a=e.length;++o<a;)t.has(s=(i=e[o])+"")||t.set(s,r.push(i));return u},u.range=function(t){return arguments.length?(e=i.slice.call(t),u):e.slice()},u.unknown=function(e){return arguments.length?(a=e,u):a},u.copy=function(){return o().domain(r).range(e).unknown(a)},u}},"./node_modules/d3-scale/src/pow.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return a}),r.d(t,"sqrt",function(){return u});var n=r("./node_modules/d3-scale/src/constant.js"),i=r("./node_modules/d3-scale/src/linear.js"),s=r("./node_modules/d3-scale/src/continuous.js");function o(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function a(){var e=1,t=Object(s.default)(function(t,r){return(r=o(r,e)-(t=o(t,e)))?function(n){return(o(n,e)-t)/r}:Object(n.default)(r)},function(t,r){return r=o(r,e)-(t=o(t,e)),function(n){return o(t+r*n,1/e)}}),r=t.domain;return t.exponent=function(t){return arguments.length?(e=+t,r(r())):e},t.copy=function(){return Object(s.copy)(t,a().exponent(e))},Object(i.linearish)(t)}function u(){return a().exponent(.5)}},"./node_modules/d3-scale/src/quantile.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./node_modules/d3-array/index.js"),i=r("./node_modules/d3-scale/src/array.js");function s(){var e=[],t=[],r=[];function o(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=Object(n.quantile)(e,i/s);return a}function a(e){if(!isNaN(e=+e))return t[Object(n.bisect)(r,e)]}return a.invertExtent=function(n){var i=t.indexOf(n);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var r,i=0,s=t.length;i<s;++i)null==(r=t[i])||isNaN(r=+r)||e.push(r);return e.sort(n.ascending),o()},a.range=function(e){return arguments.length?(t=i.slice.call(e),o()):t.slice()},a.quantiles=function(){return r.slice()},a.copy=function(){return s().domain(e).range(t)},a}},"./node_modules/d3-scale/src/quantize.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return o});var n=r("./node_modules/d3-array/index.js"),i=r("./node_modules/d3-scale/src/array.js"),s=r("./node_modules/d3-scale/src/linear.js");function o(){var e=0,t=1,r=1,a=[.5],u=[0,1];function l(e){if(e<=e)return u[Object(n.bisect)(a,e,0,r)]}function c(){var n=-1;for(a=new Array(r);++n<r;)a[n]=((n+1)*t-(n-r)*e)/(r+1);return l}return l.domain=function(r){return arguments.length?(e=+r[0],t=+r[1],c()):[e,t]},l.range=function(e){return arguments.length?(r=(u=i.slice.call(e)).length-1,c()):u.slice()},l.invertExtent=function(n){var i=u.indexOf(n);return i<0?[NaN,NaN]:i<1?[e,a[0]]:i>=r?[a[r-1],t]:[a[i-1],a[i]]},l.copy=function(){return o().domain([e,t]).range(u)},Object(s.linearish)(l)}},"./node_modules/d3-scale/src/sequential.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i});var n=r("./node_modules/d3-scale/src/linear.js");function i(e){var t=0,r=1,s=!1;function o(n){var i=(n-t)/(r-t);return e(s?Math.max(0,Math.min(1,i)):i)}return o.domain=function(e){return arguments.length?(t=+e[0],r=+e[1],o):[t,r]},o.clamp=function(e){return arguments.length?(s=!!e,o):s},o.interpolator=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return i(e).domain([t,r]).clamp(s)},Object(n.linearish)(o)}},"./node_modules/d3-scale/src/threshold.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./node_modules/d3-array/index.js"),i=r("./node_modules/d3-scale/src/array.js");function s(){var e=[.5],t=[0,1],r=1;function o(i){if(i<=i)return t[Object(n.bisect)(e,i,0,r)]}return o.domain=function(n){return arguments.length?(e=i.slice.call(n),r=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(n){return arguments.length?(t=i.slice.call(n),r=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(r){var n=t.indexOf(r);return[e[n-1],e[n]]},o.copy=function(){return s().domain(e).range(t)},o}},"./node_modules/d3-scale/src/tickFormat.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-array/index.js"),i=r("./node_modules/d3-format/index.js");t.default=function(e,t,r){var s,o=e[0],a=e[e.length-1],u=Object(n.tickStep)(o,a,null==t?10:t);switch((r=Object(i.formatSpecifier)(null==r?",f":r)).type){case"s":var l=Math.max(Math.abs(o),Math.abs(a));return null!=r.precision||isNaN(s=Object(i.precisionPrefix)(u,l))||(r.precision=s),Object(i.formatPrefix)(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(s=Object(i.precisionRound)(u,Math.max(Math.abs(o),Math.abs(a))))||(r.precision=s-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(s=Object(i.precisionFixed)(u))||(r.precision=s-2*("%"===r.type))}return Object(i.format)(r)}},"./node_modules/d3-scale/src/time.js":function(e,t,r){"use strict";r.r(t),r.d(t,"calendar",function(){return v});var n=r("./node_modules/d3-array/index.js"),i=r("./node_modules/d3-interpolate/index.js"),s=r("./node_modules/d3-time/index.js"),o=r("./node_modules/d3-time-format/index.js"),a=r("./node_modules/d3-scale/src/array.js"),u=r("./node_modules/d3-scale/src/continuous.js"),l=r("./node_modules/d3-scale/src/nice.js"),c=1e3,d=60*c,h=60*d,f=24*h,p=7*f,m=30*f,g=365*f;function b(e){return new Date(e)}function y(e){return e instanceof Date?+e:+new Date(+e)}function v(e,t,r,s,o,E,_,C,T){var O=Object(u.default)(u.deinterpolateLinear,i.interpolateNumber),N=O.invert,R=O.domain,D=T(".%L"),j=T(":%S"),A=T("%I:%M"),x=T("%I %p"),M=T("%a %d"),S=T("%b %d"),w=T("%B"),L=T("%Y"),I=[[_,1,c],[_,5,5*c],[_,15,15*c],[_,30,30*c],[E,1,d],[E,5,5*d],[E,15,15*d],[E,30,30*d],[o,1,h],[o,3,3*h],[o,6,6*h],[o,12,12*h],[s,1,f],[s,2,2*f],[r,1,p],[t,1,m],[t,3,3*m],[e,1,g]];function V(n){return(_(n)<n?D:E(n)<n?j:o(n)<n?A:s(n)<n?x:t(n)<n?r(n)<n?M:S:e(n)<n?w:L)(n)}function H(t,r,i,s){if(null==t&&(t=10),"number"==typeof t){var o=Math.abs(i-r)/t,a=Object(n.bisector)(function(e){return e[2]}).right(I,o);a===I.length?(s=Object(n.tickStep)(r/g,i/g,t),t=e):a?(s=(a=I[o/I[a-1][2]<I[a][2]/o?a-1:a])[1],t=a[0]):(s=Math.max(Object(n.tickStep)(r,i,t),1),t=C)}return null==s?t:t.every(s)}return O.invert=function(e){return new Date(N(e))},O.domain=function(e){return arguments.length?R(a.map.call(e,y)):R().map(b)},O.ticks=function(e,t){var r,n=R(),i=n[0],s=n[n.length-1],o=s<i;return o&&(r=i,i=s,s=r),r=(r=H(e,i,s,t))?r.range(i,s+1):[],o?r.reverse():r},O.tickFormat=function(e,t){return null==t?V:T(t)},O.nice=function(e,t){var r=R();return(e=H(e,r[0],r[r.length-1],t))?R(Object(l.default)(r,e)):O},O.copy=function(){return Object(u.copy)(O,v(e,t,r,s,o,E,_,C,T))},O}t.default=function(){return v(s.timeYear,s.timeMonth,s.timeWeek,s.timeDay,s.timeHour,s.timeMinute,s.timeSecond,s.timeMillisecond,o.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}},"./node_modules/d3-scale/src/utcTime.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-scale/src/time.js"),i=r("./node_modules/d3-time-format/index.js"),s=r("./node_modules/d3-time/index.js");t.default=function(){return Object(n.calendar)(s.utcYear,s.utcMonth,s.utcWeek,s.utcDay,s.utcHour,s.utcMinute,s.utcSecond,s.utcMillisecond,i.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}},"./node_modules/d3-selection/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/create.js");r.d(t,"create",function(){return n.default});var i=r("./node_modules/d3-selection/src/creator.js");r.d(t,"creator",function(){return i.default});var s=r("./node_modules/d3-selection/src/local.js");r.d(t,"local",function(){return s.default});var o=r("./node_modules/d3-selection/src/matcher.js");r.d(t,"matcher",function(){return o.default});var a=r("./node_modules/d3-selection/src/mouse.js");r.d(t,"mouse",function(){return a.default});var u=r("./node_modules/d3-selection/src/namespace.js");r.d(t,"namespace",function(){return u.default});var l=r("./node_modules/d3-selection/src/namespaces.js");r.d(t,"namespaces",function(){return l.default});var c=r("./node_modules/d3-selection/src/point.js");r.d(t,"clientPoint",function(){return c.default});var d=r("./node_modules/d3-selection/src/select.js");r.d(t,"select",function(){return d.default});var h=r("./node_modules/d3-selection/src/selectAll.js");r.d(t,"selectAll",function(){return h.default});var f=r("./node_modules/d3-selection/src/selection/index.js");r.d(t,"selection",function(){return f.default});var p=r("./node_modules/d3-selection/src/selector.js");r.d(t,"selector",function(){return p.default});var m=r("./node_modules/d3-selection/src/selectorAll.js");r.d(t,"selectorAll",function(){return m.default});var g=r("./node_modules/d3-selection/src/selection/style.js");r.d(t,"style",function(){return g.styleValue});var b=r("./node_modules/d3-selection/src/touch.js");r.d(t,"touch",function(){return b.default});var y=r("./node_modules/d3-selection/src/touches.js");r.d(t,"touches",function(){return y.default});var v=r("./node_modules/d3-selection/src/window.js");r.d(t,"window",function(){return v.default});var E=r("./node_modules/d3-selection/src/selection/on.js");r.d(t,"event",function(){return E.event}),r.d(t,"customEvent",function(){return E.customEvent})},"./node_modules/d3-selection/src/constant.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){return function(){return e}}},"./node_modules/d3-selection/src/create.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/creator.js"),i=r("./node_modules/d3-selection/src/select.js");t.default=function(e){return Object(i.default)(Object(n.default)(e).call(document.documentElement))}},"./node_modules/d3-selection/src/creator.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/namespace.js"),i=r("./node_modules/d3-selection/src/namespaces.js");t.default=function(e){var t=Object(n.default)(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===i.xhtml&&t.documentElement.namespaceURI===i.xhtml?t.createElement(e):t.createElementNS(r,e)}})(t)}},"./node_modules/d3-selection/src/local.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i});var n=0;function i(){return new s}function s(){this._="@"+(++n).toString(36)}s.prototype=i.prototype={constructor:s,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}},"./node_modules/d3-selection/src/matcher.js":function(e,t,r){"use strict";r.r(t);var n=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var i=document.documentElement;if(!i.matches){var s=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;n=function(e){return function(){return s.call(this,e)}}}}t.default=n},"./node_modules/d3-selection/src/mouse.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/sourceEvent.js"),i=r("./node_modules/d3-selection/src/point.js");t.default=function(e){var t=Object(n.default)();return t.changedTouches&&(t=t.changedTouches[0]),Object(i.default)(e,t)}},"./node_modules/d3-selection/src/namespace.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/namespaces.js");t.default=function(e){var t=e+="",r=t.indexOf(":");return r>=0&&"xmlns"!==(t=e.slice(0,r))&&(e=e.slice(r+1)),n.default.hasOwnProperty(t)?{space:n.default[t],local:e}:e}},"./node_modules/d3-selection/src/namespaces.js":function(e,t,r){"use strict";r.r(t),r.d(t,"xhtml",function(){return n});var n="http://www.w3.org/1999/xhtml";t.default={svg:"http://www.w3.org/2000/svg",xhtml:n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},"./node_modules/d3-selection/src/point.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,[(n=n.matrixTransform(e.getScreenCTM().inverse())).x,n.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}},"./node_modules/d3-selection/src/select.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/selection/index.js");t.default=function(e){return"string"==typeof e?new n.Selection([[document.querySelector(e)]],[document.documentElement]):new n.Selection([[e]],n.root)}},"./node_modules/d3-selection/src/selectAll.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/selection/index.js");t.default=function(e){return"string"==typeof e?new n.Selection([document.querySelectorAll(e)],[document.documentElement]):new n.Selection([null==e?[]:e],n.root)}},"./node_modules/d3-selection/src/selection/append.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/creator.js");t.default=function(e){var t="function"==typeof e?e:Object(n.default)(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}},"./node_modules/d3-selection/src/selection/attr.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/namespace.js");t.default=function(e,t){var r=Object(n.default)(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==t?r.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?r.local?function(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}:function(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}:r.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(r,t))}},"./node_modules/d3-selection/src/selection/call.js":function(e,t,r){"use strict";r.r(t),t.default=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}},"./node_modules/d3-selection/src/selection/classed.js":function(e,t,r){"use strict";function n(e){return e.trim().split(/^|\s+/)}function i(e){return e.classList||new s(e)}function s(e){this._node=e,this._names=n(e.getAttribute("class")||"")}function o(e,t){for(var r=i(e),n=-1,s=t.length;++n<s;)r.add(t[n])}function a(e,t){for(var r=i(e),n=-1,s=t.length;++n<s;)r.remove(t[n])}r.r(t),s.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}},t.default=function(e,t){var r=n(e+"");if(arguments.length<2){for(var s=i(this.node()),u=-1,l=r.length;++u<l;)if(!s.contains(r[u]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?o:a)(this,e)}}:t?function(e){return function(){o(this,e)}}:function(e){return function(){a(this,e)}})(r,t))}},"./node_modules/d3-selection/src/selection/clone.js":function(e,t,r){"use strict";function n(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function i(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}r.r(t),t.default=function(e){return this.select(e?i:n)}},"./node_modules/d3-selection/src/selection/data.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/selection/index.js"),i=r("./node_modules/d3-selection/src/selection/enter.js"),s=r("./node_modules/d3-selection/src/constant.js"),o="$";function a(e,t,r,n,s,o){for(var a,u=0,l=t.length,c=o.length;u<c;++u)(a=t[u])?(a.__data__=o[u],n[u]=a):r[u]=new i.EnterNode(e,o[u]);for(;u<l;++u)(a=t[u])&&(s[u]=a)}function u(e,t,r,n,s,a,u){var l,c,d,h={},f=t.length,p=a.length,m=new Array(f);for(l=0;l<f;++l)(c=t[l])&&(m[l]=d=o+u.call(c,c.__data__,l,t),d in h?s[l]=c:h[d]=c);for(l=0;l<p;++l)(c=h[d=o+u.call(e,a[l],l,a)])?(n[l]=c,c.__data__=a[l],h[d]=null):r[l]=new i.EnterNode(e,a[l]);for(l=0;l<f;++l)(c=t[l])&&h[m[l]]===c&&(s[l]=c)}t.default=function(e,t){if(!e)return b=new Array(this.size()),f=-1,this.each(function(e){b[++f]=e}),b;var r=t?u:a,i=this._parents,o=this._groups;"function"!=typeof e&&(e=Object(s.default)(e));for(var l=o.length,c=new Array(l),d=new Array(l),h=new Array(l),f=0;f<l;++f){var p=i[f],m=o[f],g=m.length,b=e.call(p,p&&p.__data__,f,i),y=b.length,v=d[f]=new Array(y),E=c[f]=new Array(y);r(p,m,v,E,h[f]=new Array(g),b,t);for(var _,C,T=0,O=0;T<y;++T)if(_=v[T]){for(T>=O&&(O=T+1);!(C=E[O])&&++O<y;);_._next=C||null}}return(c=new n.Selection(c,i))._enter=d,c._exit=h,c}},"./node_modules/d3-selection/src/selection/datum.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){return arguments.length?this.property("__data__",e):this.node().__data__}},"./node_modules/d3-selection/src/selection/dispatch.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/window.js");function i(e,t,r){var i=Object(n.default)(e),s=i.CustomEvent;"function"==typeof s?s=new s(t,r):(s=i.document.createEvent("Event"),r?(s.initEvent(t,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}t.default=function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return i(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return i(this,e,t)}})(e,t))}},"./node_modules/d3-selection/src/selection/each.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i,s=t[r],o=0,a=s.length;o<a;++o)(i=s[o])&&e.call(i,i.__data__,o,s);return this}},"./node_modules/d3-selection/src/selection/empty.js":function(e,t,r){"use strict";r.r(t),t.default=function(){return!this.node()}},"./node_modules/d3-selection/src/selection/enter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EnterNode",function(){return s});var n=r("./node_modules/d3-selection/src/selection/sparse.js"),i=r("./node_modules/d3-selection/src/selection/index.js");function s(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}t.default=function(){return new i.Selection(this._enter||this._groups.map(n.default),this._parents)},s.prototype={constructor:s,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},"./node_modules/d3-selection/src/selection/exit.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/selection/sparse.js"),i=r("./node_modules/d3-selection/src/selection/index.js");t.default=function(){return new i.Selection(this._exit||this._groups.map(n.default),this._parents)}},"./node_modules/d3-selection/src/selection/filter.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/selection/index.js"),i=r("./node_modules/d3-selection/src/matcher.js");t.default=function(e){"function"!=typeof e&&(e=Object(i.default)(e));for(var t=this._groups,r=t.length,s=new Array(r),o=0;o<r;++o)for(var a,u=t[o],l=u.length,c=s[o]=[],d=0;d<l;++d)(a=u[d])&&e.call(a,a.__data__,d,u)&&c.push(a);return new n.Selection(s,this._parents)}},"./node_modules/d3-selection/src/selection/html.js":function(e,t,r){"use strict";function n(){this.innerHTML=""}r.r(t),t.default=function(e){return arguments.length?this.each(null==e?n:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML}},"./node_modules/d3-selection/src/selection/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"root",function(){return w}),r.d(t,"Selection",function(){return L});var n=r("./node_modules/d3-selection/src/selection/select.js"),i=r("./node_modules/d3-selection/src/selection/selectAll.js"),s=r("./node_modules/d3-selection/src/selection/filter.js"),o=r("./node_modules/d3-selection/src/selection/data.js"),a=r("./node_modules/d3-selection/src/selection/enter.js"),u=r("./node_modules/d3-selection/src/selection/exit.js"),l=r("./node_modules/d3-selection/src/selection/merge.js"),c=r("./node_modules/d3-selection/src/selection/order.js"),d=r("./node_modules/d3-selection/src/selection/sort.js"),h=r("./node_modules/d3-selection/src/selection/call.js"),f=r("./node_modules/d3-selection/src/selection/nodes.js"),p=r("./node_modules/d3-selection/src/selection/node.js"),m=r("./node_modules/d3-selection/src/selection/size.js"),g=r("./node_modules/d3-selection/src/selection/empty.js"),b=r("./node_modules/d3-selection/src/selection/each.js"),y=r("./node_modules/d3-selection/src/selection/attr.js"),v=r("./node_modules/d3-selection/src/selection/style.js"),E=r("./node_modules/d3-selection/src/selection/property.js"),_=r("./node_modules/d3-selection/src/selection/classed.js"),C=r("./node_modules/d3-selection/src/selection/text.js"),T=r("./node_modules/d3-selection/src/selection/html.js"),O=r("./node_modules/d3-selection/src/selection/raise.js"),N=r("./node_modules/d3-selection/src/selection/lower.js"),R=r("./node_modules/d3-selection/src/selection/append.js"),D=r("./node_modules/d3-selection/src/selection/insert.js"),j=r("./node_modules/d3-selection/src/selection/remove.js"),A=r("./node_modules/d3-selection/src/selection/clone.js"),x=r("./node_modules/d3-selection/src/selection/datum.js"),M=r("./node_modules/d3-selection/src/selection/on.js"),S=r("./node_modules/d3-selection/src/selection/dispatch.js"),w=[null];function L(e,t){this._groups=e,this._parents=t}function I(){return new L([[document.documentElement]],w)}L.prototype=I.prototype={constructor:L,select:n.default,selectAll:i.default,filter:s.default,data:o.default,enter:a.default,exit:u.default,merge:l.default,order:c.default,sort:d.default,call:h.default,nodes:f.default,node:p.default,size:m.default,empty:g.default,each:b.default,attr:y.default,style:v.default,property:E.default,classed:_.default,text:C.default,html:T.default,raise:O.default,lower:N.default,append:R.default,insert:D.default,remove:j.default,clone:A.default,datum:x.default,on:M.default,dispatch:S.default},t.default=I},"./node_modules/d3-selection/src/selection/insert.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/creator.js"),i=r("./node_modules/d3-selection/src/selector.js");function s(){return null}t.default=function(e,t){var r="function"==typeof e?e:Object(n.default)(e),o=null==t?s:"function"==typeof t?t:Object(i.default)(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)})}},"./node_modules/d3-selection/src/selection/lower.js":function(e,t,r){"use strict";function n(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}r.r(t),t.default=function(){return this.each(n)}},"./node_modules/d3-selection/src/selection/merge.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/selection/index.js");t.default=function(e){for(var t=this._groups,r=e._groups,i=t.length,s=r.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l,c=t[u],d=r[u],h=c.length,f=a[u]=new Array(h),p=0;p<h;++p)(l=c[p]||d[p])&&(f[p]=l);for(;u<i;++u)a[u]=t[u];return new n.Selection(a,this._parents)}},"./node_modules/d3-selection/src/selection/node.js":function(e,t,r){"use strict";r.r(t),t.default=function(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var o=n[i];if(o)return o}return null}},"./node_modules/d3-selection/src/selection/nodes.js":function(e,t,r){"use strict";r.r(t),t.default=function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}},"./node_modules/d3-selection/src/selection/on.js":function(e,t,r){"use strict";r.r(t),r.d(t,"event",function(){return i}),r.d(t,"customEvent",function(){return l});var n={},i=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(n={mouseenter:"mouseover",mouseleave:"mouseout"}));function s(e,t,r){return e=o(e,t,r),function(t){var r=t.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||e.call(this,t)}}function o(e,t,r){return function(n){var s=i;i=n;try{e.call(this,this.__data__,t,r)}finally{i=s}}}function a(e){return function(){var t=this.__on;if(t){for(var r,n=0,i=-1,s=t.length;n<s;++n)r=t[n],e.type&&r.type!==e.type||r.name!==e.name?t[++i]=r:this.removeEventListener(r.type,r.listener,r.capture);++i?t.length=i:delete this.__on}}}function u(e,t,r){var i=n.hasOwnProperty(e.type)?s:o;return function(n,s,o){var a,u=this.__on,l=i(t,s,o);if(u)for(var c=0,d=u.length;c<d;++c)if((a=u[c]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=r),void(a.value=t);this.addEventListener(e.type,l,r),a={type:e.type,name:e.name,value:t,listener:l,capture:r},u?u.push(a):this.__on=[a]}}function l(e,t,r,n){var s=i;e.sourceEvent=i,i=e;try{return t.apply(r,n)}finally{i=s}}t.default=function(e,t,r){var n,i,s=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}(e+""),o=s.length;if(!(arguments.length<2)){for(l=t?u:a,null==r&&(r=!1),n=0;n<o;++n)this.each(l(s[n],t,r));return this}var l=this.node().__on;if(l)for(var c,d=0,h=l.length;d<h;++d)for(n=0,c=l[d];n<o;++n)if((i=s[n]).type===c.type&&i.name===c.name)return c.value}},"./node_modules/d3-selection/src/selection/order.js":function(e,t,r){"use strict";r.r(t),t.default=function(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n,i=e[t],s=i.length-1,o=i[s];--s>=0;)(n=i[s])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this}},"./node_modules/d3-selection/src/selection/property.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var r=t.apply(this,arguments);null==r?delete this[e]:this[e]=r}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]}},"./node_modules/d3-selection/src/selection/raise.js":function(e,t,r){"use strict";function n(){this.nextSibling&&this.parentNode.appendChild(this)}r.r(t),t.default=function(){return this.each(n)}},"./node_modules/d3-selection/src/selection/remove.js":function(e,t,r){"use strict";function n(){var e=this.parentNode;e&&e.removeChild(this)}r.r(t),t.default=function(){return this.each(n)}},"./node_modules/d3-selection/src/selection/select.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/selection/index.js"),i=r("./node_modules/d3-selection/src/selector.js");t.default=function(e){"function"!=typeof e&&(e=Object(i.default)(e));for(var t=this._groups,r=t.length,s=new Array(r),o=0;o<r;++o)for(var a,u,l=t[o],c=l.length,d=s[o]=new Array(c),h=0;h<c;++h)(a=l[h])&&(u=e.call(a,a.__data__,h,l))&&("__data__"in a&&(u.__data__=a.__data__),d[h]=u);return new n.Selection(s,this._parents)}},"./node_modules/d3-selection/src/selection/selectAll.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/selection/index.js"),i=r("./node_modules/d3-selection/src/selectorAll.js");t.default=function(e){"function"!=typeof e&&(e=Object(i.default)(e));for(var t=this._groups,r=t.length,s=[],o=[],a=0;a<r;++a)for(var u,l=t[a],c=l.length,d=0;d<c;++d)(u=l[d])&&(s.push(e.call(u,u.__data__,d,l)),o.push(u));return new n.Selection(s,o)}},"./node_modules/d3-selection/src/selection/size.js":function(e,t,r){"use strict";r.r(t),t.default=function(){var e=0;return this.each(function(){++e}),e}},"./node_modules/d3-selection/src/selection/sort.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/selection/index.js");function i(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}t.default=function(e){function t(t,r){return t&&r?e(t.__data__,r.__data__):!t-!r}e||(e=i);for(var r=this._groups,s=r.length,o=new Array(s),a=0;a<s;++a){for(var u,l=r[a],c=l.length,d=o[a]=new Array(c),h=0;h<c;++h)(u=l[h])&&(d[h]=u);d.sort(t)}return new n.Selection(o,this._parents).order()}},"./node_modules/d3-selection/src/selection/sparse.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){return new Array(e.length)}},"./node_modules/d3-selection/src/selection/style.js":function(e,t,r){"use strict";r.r(t),r.d(t,"styleValue",function(){return i});var n=r("./node_modules/d3-selection/src/window.js");function i(e,t){return e.style.getPropertyValue(t)||Object(n.default)(e).getComputedStyle(e,null).getPropertyValue(t)}t.default=function(e,t,r){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,r){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}:function(e,t,r){return function(){this.style.setProperty(e,t,r)}})(e,t,null==r?"":r)):i(this.node(),e)}},"./node_modules/d3-selection/src/selection/text.js":function(e,t,r){"use strict";function n(){this.textContent=""}r.r(t),t.default=function(e){return arguments.length?this.each(null==e?n:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent}},"./node_modules/d3-selection/src/selector.js":function(e,t,r){"use strict";function n(){}r.r(t),t.default=function(e){return null==e?n:function(){return this.querySelector(e)}}},"./node_modules/d3-selection/src/selectorAll.js":function(e,t,r){"use strict";function n(){return[]}r.r(t),t.default=function(e){return null==e?n:function(){return this.querySelectorAll(e)}}},"./node_modules/d3-selection/src/sourceEvent.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/selection/on.js");t.default=function(){for(var e,t=n.event;e=t.sourceEvent;)t=e;return t}},"./node_modules/d3-selection/src/touch.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/sourceEvent.js"),i=r("./node_modules/d3-selection/src/point.js");t.default=function(e,t,r){arguments.length<3&&(r=t,t=Object(n.default)().changedTouches);for(var s,o=0,a=t?t.length:0;o<a;++o)if((s=t[o]).identifier===r)return Object(i.default)(e,s);return null}},"./node_modules/d3-selection/src/touches.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-selection/src/sourceEvent.js"),i=r("./node_modules/d3-selection/src/point.js");t.default=function(e,t){null==t&&(t=Object(n.default)().touches);for(var r=0,s=t?t.length:0,o=new Array(s);r<s;++r)o[r]=Object(i.default)(e,t[r]);return o}},"./node_modules/d3-selection/src/window.js":function(e,t,r){"use strict";r.r(t),t.default=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}},"./node_modules/d3-time-format/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-time-format/src/defaultLocale.js");r.d(t,"timeFormatDefaultLocale",function(){return n.default}),r.d(t,"timeFormat",function(){return n.timeFormat}),r.d(t,"timeParse",function(){return n.timeParse}),r.d(t,"utcFormat",function(){return n.utcFormat}),r.d(t,"utcParse",function(){return n.utcParse});var i=r("./node_modules/d3-time-format/src/locale.js");r.d(t,"timeFormatLocale",function(){return i.default});var s=r("./node_modules/d3-time-format/src/isoFormat.js");r.d(t,"isoFormat",function(){return s.default});var o=r("./node_modules/d3-time-format/src/isoParse.js");r.d(t,"isoParse",function(){return o.default})},"./node_modules/d3-time-format/src/defaultLocale.js":function(e,t,r){"use strict";r.r(t),r.d(t,"timeFormat",function(){return i}),r.d(t,"timeParse",function(){return s}),r.d(t,"utcFormat",function(){return o}),r.d(t,"utcParse",function(){return a}),r.d(t,"default",function(){return l});var n,i,s,o,a,u=r("./node_modules/d3-time-format/src/locale.js");function l(e){return n=Object(u.default)(e),i=n.format,s=n.parse,o=n.utcFormat,a=n.utcParse,n}l({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},"./node_modules/d3-time-format/src/isoFormat.js":function(e,t,r){"use strict";r.r(t),r.d(t,"isoSpecifier",function(){return i});var n=r("./node_modules/d3-time-format/src/defaultLocale.js"),i="%Y-%m-%dT%H:%M:%S.%LZ";var s=Date.prototype.toISOString?function(e){return e.toISOString()}:Object(n.utcFormat)(i);t.default=s},"./node_modules/d3-time-format/src/isoParse.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-time-format/src/isoFormat.js"),i=r("./node_modules/d3-time-format/src/defaultLocale.js");var s=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:Object(i.utcParse)(n.isoSpecifier);t.default=s},"./node_modules/d3-time-format/src/locale.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return a});var n=r("./node_modules/d3-time/index.js");function i(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function s(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function o(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function a(e){var t=e.dateTime,r=e.date,a=e.time,l=e.periods,c=e.days,d=e.shortDays,h=e.months,f=e.shortMonths,ye=p(l),ve=m(l),Ee=p(c),_e=m(c),Ce=p(d),Te=m(d),Oe=p(h),Ne=m(h),Re=p(f),De=m(f),je={a:function(e){return d[e.getDay()]},A:function(e){return c[e.getDay()]},b:function(e){return f[e.getMonth()]},B:function(e){return h[e.getMonth()]},c:null,d:I,e:I,f:G,H:V,I:H,j:P,L:k,m:F,M:$,p:function(e){return l[+(e.getHours()>=12)]},Q:ge,s:be,S:B,u:U,U:Y,V:W,w:q,W:z,x:null,X:null,y:K,Y:X,Z:J,"%":me},Ae={a:function(e){return d[e.getUTCDay()]},A:function(e){return c[e.getUTCDay()]},b:function(e){return f[e.getUTCMonth()]},B:function(e){return h[e.getUTCMonth()]},c:null,d:Z,e:Z,f:ne,H:Q,I:ee,j:te,L:re,m:ie,M:se,p:function(e){return l[+(e.getUTCHours()>=12)]},Q:ge,s:be,S:oe,u:ae,U:ue,V:le,w:ce,W:de,x:null,X:null,y:he,Y:fe,Z:pe,"%":me},xe={a:function(e,t,r){var n=Ce.exec(t.slice(r));return n?(e.w=Te[n[0].toLowerCase()],r+n[0].length):-1},A:function(e,t,r){var n=Ee.exec(t.slice(r));return n?(e.w=_e[n[0].toLowerCase()],r+n[0].length):-1},b:function(e,t,r){var n=Re.exec(t.slice(r));return n?(e.m=De[n[0].toLowerCase()],r+n[0].length):-1},B:function(e,t,r){var n=Oe.exec(t.slice(r));return n?(e.m=Ne[n[0].toLowerCase()],r+n[0].length):-1},c:function(e,r,n){return we(e,t,r,n)},d:N,e:N,f:M,H:D,I:D,j:R,L:x,m:O,M:j,p:function(e,t,r){var n=ye.exec(t.slice(r));return n?(e.p=ve[n[0].toLowerCase()],r+n[0].length):-1},Q:w,s:L,S:A,u:b,U:y,V:v,w:g,W:E,x:function(e,t,n){return we(e,r,t,n)},X:function(e,t,r){return we(e,a,t,r)},y:C,Y:_,Z:T,"%":S};function Me(e,t){return function(r){var n,i,s,o=[],a=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++a<c;)37===e.charCodeAt(a)&&(o.push(e.slice(l,a)),null!=(i=u[n=e.charAt(++a)])?n=e.charAt(++a):i="e"===n?" ":"0",(s=t[n])&&(n=s(r,i)),o.push(n),l=a+1);return o.push(e.slice(l,a)),o.join("")}}function Se(e,t){return function(r){var i,a,u=o(1900);if(we(u,e,r+="",0)!=r.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(i=(a=(i=s(o(u.y))).getUTCDay())>4||0===a?n.utcMonday.ceil(i):Object(n.utcMonday)(i),i=n.utcDay.offset(i,7*(u.V-1)),u.y=i.getUTCFullYear(),u.m=i.getUTCMonth(),u.d=i.getUTCDate()+(u.w+6)%7):(i=(a=(i=t(o(u.y))).getDay())>4||0===a?n.timeMonday.ceil(i):Object(n.timeMonday)(i),i=n.timeDay.offset(i,7*(u.V-1)),u.y=i.getFullYear(),u.m=i.getMonth(),u.d=i.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),a="Z"in u?s(o(u.y)).getUTCDay():t(o(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(a+5)%7:u.w+7*u.U-(a+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,s(u)):t(u)}}function we(e,t,r,n){for(var i,s,o=0,a=t.length,l=r.length;o<a;){if(n>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(s=xe[i in u?t.charAt(o++):i])||(n=s(e,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}return je.x=Me(r,je),je.X=Me(a,je),je.c=Me(t,je),Ae.x=Me(r,Ae),Ae.X=Me(a,Ae),Ae.c=Me(t,Ae),{format:function(e){var t=Me(e+="",je);return t.toString=function(){return e},t},parse:function(e){var t=Se(e+="",i);return t.toString=function(){return e},t},utcFormat:function(e){var t=Me(e+="",Ae);return t.toString=function(){return e},t},utcParse:function(e){var t=Se(e,s);return t.toString=function(){return e},t}}}var u={"-":"",_:" ",0:"0"},l=/^\s*\d+/,c=/^%/,d=/[\\^$*+?|[\]().{}]/g;function h(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function f(e){return e.replace(d,"\\$&")}function p(e){return new RegExp("^(?:"+e.map(f).join("|")+")","i")}function m(e){for(var t={},r=-1,n=e.length;++r<n;)t[e[r].toLowerCase()]=r;return t}function g(e,t,r){var n=l.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function b(e,t,r){var n=l.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function y(e,t,r){var n=l.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function v(e,t,r){var n=l.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function E(e,t,r){var n=l.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function _(e,t,r){var n=l.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function C(e,t,r){var n=l.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function T(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function O(e,t,r){var n=l.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function N(e,t,r){var n=l.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function R(e,t,r){var n=l.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function D(e,t,r){var n=l.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function j(e,t,r){var n=l.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function A(e,t,r){var n=l.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function x(e,t,r){var n=l.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function M(e,t,r){var n=l.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function S(e,t,r){var n=c.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function w(e,t,r){var n=l.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function L(e,t,r){var n=l.exec(t.slice(r));return n?(e.Q=1e3*+n[0],r+n[0].length):-1}function I(e,t){return h(e.getDate(),t,2)}function V(e,t){return h(e.getHours(),t,2)}function H(e,t){return h(e.getHours()%12||12,t,2)}function P(e,t){return h(1+n.timeDay.count(Object(n.timeYear)(e),e),t,3)}function k(e,t){return h(e.getMilliseconds(),t,3)}function G(e,t){return k(e,t)+"000"}function F(e,t){return h(e.getMonth()+1,t,2)}function $(e,t){return h(e.getMinutes(),t,2)}function B(e,t){return h(e.getSeconds(),t,2)}function U(e){var t=e.getDay();return 0===t?7:t}function Y(e,t){return h(n.timeSunday.count(Object(n.timeYear)(e),e),t,2)}function W(e,t){var r=e.getDay();return e=r>=4||0===r?Object(n.timeThursday)(e):n.timeThursday.ceil(e),h(n.timeThursday.count(Object(n.timeYear)(e),e)+(4===Object(n.timeYear)(e).getDay()),t,2)}function q(e){return e.getDay()}function z(e,t){return h(n.timeMonday.count(Object(n.timeYear)(e),e),t,2)}function K(e,t){return h(e.getFullYear()%100,t,2)}function X(e,t){return h(e.getFullYear()%1e4,t,4)}function J(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+h(t/60|0,"0",2)+h(t%60,"0",2)}function Z(e,t){return h(e.getUTCDate(),t,2)}function Q(e,t){return h(e.getUTCHours(),t,2)}function ee(e,t){return h(e.getUTCHours()%12||12,t,2)}function te(e,t){return h(1+n.utcDay.count(Object(n.utcYear)(e),e),t,3)}function re(e,t){return h(e.getUTCMilliseconds(),t,3)}function ne(e,t){return re(e,t)+"000"}function ie(e,t){return h(e.getUTCMonth()+1,t,2)}function se(e,t){return h(e.getUTCMinutes(),t,2)}function oe(e,t){return h(e.getUTCSeconds(),t,2)}function ae(e){var t=e.getUTCDay();return 0===t?7:t}function ue(e,t){return h(n.utcSunday.count(Object(n.utcYear)(e),e),t,2)}function le(e,t){var r=e.getUTCDay();return e=r>=4||0===r?Object(n.utcThursday)(e):n.utcThursday.ceil(e),h(n.utcThursday.count(Object(n.utcYear)(e),e)+(4===Object(n.utcYear)(e).getUTCDay()),t,2)}function ce(e){return e.getUTCDay()}function de(e,t){return h(n.utcMonday.count(Object(n.utcYear)(e),e),t,2)}function he(e,t){return h(e.getUTCFullYear()%100,t,2)}function fe(e,t){return h(e.getUTCFullYear()%1e4,t,4)}function pe(){return"+0000"}function me(){return"%"}function ge(e){return+e}function be(e){return Math.floor(+e/1e3)}},"./node_modules/d3-time/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/d3-time/src/interval.js");r.d(t,"timeInterval",function(){return n.default});var i=r("./node_modules/d3-time/src/millisecond.js");r.d(t,"timeMillisecond",function(){return i.default}),r.d(t,"timeMilliseconds",function(){return i.milliseconds}),r.d(t,"utcMillisecond",function(){return i.default}),r.d(t,"utcMilliseconds",function(){return i.milliseconds});var s=r("./node_modules/d3-time/src/second.js");r.d(t,"timeSecond",function(){return s.default}),r.d(t,"timeSeconds",function(){return s.seconds}),r.d(t,"utcSecond",function(){return s.default}),r.d(t,"utcSeconds",function(){return s.seconds});var o=r("./node_modules/d3-time/src/minute.js");r.d(t,"timeMinute",function(){return o.default}),r.d(t,"timeMinutes",function(){return o.minutes});var a=r("./node_modules/d3-time/src/hour.js");r.d(t,"timeHour",function(){return a.default}),r.d(t,"timeHours",function(){return a.hours});var u=r("./node_modules/d3-time/src/day.js");r.d(t,"timeDay",function(){return u.default}),r.d(t,"timeDays",function(){return u.days});var l=r("./node_modules/d3-time/src/week.js");r.d(t,"timeWeek",function(){return l.sunday}),r.d(t,"timeWeeks",function(){return l.sundays}),r.d(t,"timeSunday",function(){return l.sunday}),r.d(t,"timeSundays",function(){return l.sundays}),r.d(t,"timeMonday",function(){return l.monday}),r.d(t,"timeMondays",function(){return l.mondays}),r.d(t,"timeTuesday",function(){return l.tuesday}),r.d(t,"timeTuesdays",function(){return l.tuesdays}),r.d(t,"timeWednesday",function(){return l.wednesday}),r.d(t,"timeWednesdays",function(){return l.wednesdays}),r.d(t,"timeThursday",function(){return l.thursday}),r.d(t,"timeThursdays",function(){return l.thursdays}),r.d(t,"timeFriday",function(){return l.friday}),r.d(t,"timeFridays",function(){return l.fridays}),r.d(t,"timeSaturday",function(){return l.saturday}),r.d(t,"timeSaturdays",function(){return l.saturdays});var c=r("./node_modules/d3-time/src/month.js");r.d(t,"timeMonth",function(){return c.default}),r.d(t,"timeMonths",function(){return c.months});var d=r("./node_modules/d3-time/src/year.js");r.d(t,"timeYear",function(){return d.default}),r.d(t,"timeYears",function(){return d.years});var h=r("./node_modules/d3-time/src/utcMinute.js");r.d(t,"utcMinute",function(){return h.default}),r.d(t,"utcMinutes",function(){return h.utcMinutes});var f=r("./node_modules/d3-time/src/utcHour.js");r.d(t,"utcHour",function(){return f.default}),r.d(t,"utcHours",function(){return f.utcHours});var p=r("./node_modules/d3-time/src/utcDay.js");r.d(t,"utcDay",function(){return p.default}),r.d(t,"utcDays",function(){return p.utcDays});var m=r("./node_modules/d3-time/src/utcWeek.js");r.d(t,"utcWeek",function(){return m.utcSunday}),r.d(t,"utcWeeks",function(){return m.utcSundays}),r.d(t,"utcSunday",function(){return m.utcSunday}),r.d(t,"utcSundays",function(){return m.utcSundays}),r.d(t,"utcMonday",function(){return m.utcMonday}),r.d(t,"utcMondays",function(){return m.utcMondays}),r.d(t,"utcTuesday",function(){return m.utcTuesday}),r.d(t,"utcTuesdays",function(){return m.utcTuesdays}),r.d(t,"utcWednesday",function(){return m.utcWednesday}),r.d(t,"utcWednesdays",function(){return m.utcWednesdays}),r.d(t,"utcThursday",function(){return m.utcThursday}),r.d(t,"utcThursdays",function(){return m.utcThursdays}),r.d(t,"utcFriday",function(){return m.utcFriday}),r.d(t,"utcFridays",function(){return m.utcFridays}),r.d(t,"utcSaturday",function(){return m.utcSaturday}),r.d(t,"utcSaturdays",function(){return m.utcSaturdays});var g=r("./node_modules/d3-time/src/utcMonth.js");r.d(t,"utcMonth",function(){return g.default}),r.d(t,"utcMonths",function(){return g.utcMonths});var b=r("./node_modules/d3-time/src/utcYear.js");r.d(t,"utcYear",function(){return b.default}),r.d(t,"utcYears",function(){return b.utcYears})},"./node_modules/d3-time/src/day.js":function(e,t,r){"use strict";r.r(t),r.d(t,"days",function(){return o});var n=r("./node_modules/d3-time/src/interval.js"),i=r("./node_modules/d3-time/src/duration.js"),s=Object(n.default)(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.durationMinute)/i.durationDay},function(e){return e.getDate()-1});t.default=s;var o=s.range},"./node_modules/d3-time/src/duration.js":function(e,t,r){"use strict";r.r(t),r.d(t,"durationSecond",function(){return n}),r.d(t,"durationMinute",function(){return i}),r.d(t,"durationHour",function(){return s}),r.d(t,"durationDay",function(){return o}),r.d(t,"durationWeek",function(){return a});var n=1e3,i=6e4,s=36e5,o=864e5,a=6048e5},"./node_modules/d3-time/src/hour.js":function(e,t,r){"use strict";r.r(t),r.d(t,"hours",function(){return o});var n=r("./node_modules/d3-time/src/interval.js"),i=r("./node_modules/d3-time/src/duration.js"),s=Object(n.default)(function(e){var t=e.getTimezoneOffset()*i.durationMinute%i.durationHour;t<0&&(t+=i.durationHour),e.setTime(Math.floor((+e-t)/i.durationHour)*i.durationHour+t)},function(e,t){e.setTime(+e+t*i.durationHour)},function(e,t){return(t-e)/i.durationHour},function(e){return e.getHours()});t.default=s;var o=s.range},"./node_modules/d3-time/src/interval.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=new Date,i=new Date;function s(e,t,r,o){function a(t){return e(t=new Date(+t)),t}return a.floor=a,a.ceil=function(r){return e(r=new Date(r-1)),t(r,1),e(r),r},a.round=function(e){var t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=function(e,r){return t(e=new Date(+e),null==r?1:Math.floor(r)),e},a.range=function(r,n,i){var s,o=[];if(r=a.ceil(r),i=null==i?1:Math.floor(i),!(r<n&&i>0))return o;do{o.push(s=new Date(+r)),t(r,i),e(r)}while(s<r&&r<n);return o},a.filter=function(r){return s(function(t){if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},function(e,n){if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););})},r&&(a.count=function(t,s){return n.setTime(+t),i.setTime(+s),e(n),e(i),Math.floor(r(n,i))},a.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(o?function(t){return o(t)%e==0}:function(t){return a.count(0,t)%e==0}):a:null}),a}},"./node_modules/d3-time/src/millisecond.js":function(e,t,r){"use strict";r.r(t),r.d(t,"milliseconds",function(){return s});var n=r("./node_modules/d3-time/src/interval.js"),i=Object(n.default)(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Object(n.default)(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):i:null},t.default=i;var s=i.range},"./node_modules/d3-time/src/minute.js":function(e,t,r){"use strict";r.r(t),r.d(t,"minutes",function(){return o});var n=r("./node_modules/d3-time/src/interval.js"),i=r("./node_modules/d3-time/src/duration.js"),s=Object(n.default)(function(e){e.setTime(Math.floor(e/i.durationMinute)*i.durationMinute)},function(e,t){e.setTime(+e+t*i.durationMinute)},function(e,t){return(t-e)/i.durationMinute},function(e){return e.getMinutes()});t.default=s;var o=s.range},"./node_modules/d3-time/src/month.js":function(e,t,r){"use strict";r.r(t),r.d(t,"months",function(){return s});var n=r("./node_modules/d3-time/src/interval.js"),i=Object(n.default)(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});t.default=i;var s=i.range},"./node_modules/d3-time/src/second.js":function(e,t,r){"use strict";r.r(t),r.d(t,"seconds",function(){return o});var n=r("./node_modules/d3-time/src/interval.js"),i=r("./node_modules/d3-time/src/duration.js"),s=Object(n.default)(function(e){e.setTime(Math.floor(e/i.durationSecond)*i.durationSecond)},function(e,t){e.setTime(+e+t*i.durationSecond)},function(e,t){return(t-e)/i.durationSecond},function(e){return e.getUTCSeconds()});t.default=s;var o=s.range},"./node_modules/d3-time/src/utcDay.js":function(e,t,r){"use strict";r.r(t),r.d(t,"utcDays",function(){return o});var n=r("./node_modules/d3-time/src/interval.js"),i=r("./node_modules/d3-time/src/duration.js"),s=Object(n.default)(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/i.durationDay},function(e){return e.getUTCDate()-1});t.default=s;var o=s.range},"./node_modules/d3-time/src/utcHour.js":function(e,t,r){"use strict";r.r(t),r.d(t,"utcHours",function(){return o});var n=r("./node_modules/d3-time/src/interval.js"),i=r("./node_modules/d3-time/src/duration.js"),s=Object(n.default)(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*i.durationHour)},function(e,t){return(t-e)/i.durationHour},function(e){return e.getUTCHours()});t.default=s;var o=s.range},"./node_modules/d3-time/src/utcMinute.js":function(e,t,r){"use strict";r.r(t),r.d(t,"utcMinutes",function(){return o});var n=r("./node_modules/d3-time/src/interval.js"),i=r("./node_modules/d3-time/src/duration.js"),s=Object(n.default)(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*i.durationMinute)},function(e,t){return(t-e)/i.durationMinute},function(e){return e.getUTCMinutes()});t.default=s;var o=s.range},"./node_modules/d3-time/src/utcMonth.js":function(e,t,r){"use strict";r.r(t),r.d(t,"utcMonths",function(){return s});var n=r("./node_modules/d3-time/src/interval.js"),i=Object(n.default)(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});t.default=i;var s=i.range},"./node_modules/d3-time/src/utcWeek.js":function(e,t,r){"use strict";r.r(t),r.d(t,"utcSunday",function(){return o}),r.d(t,"utcMonday",function(){return a}),r.d(t,"utcTuesday",function(){return u}),r.d(t,"utcWednesday",function(){return l}),r.d(t,"utcThursday",function(){return c}),r.d(t,"utcFriday",function(){return d}),r.d(t,"utcSaturday",function(){return h}),r.d(t,"utcSundays",function(){return f}),r.d(t,"utcMondays",function(){return p}),r.d(t,"utcTuesdays",function(){return m}),r.d(t,"utcWednesdays",function(){return g}),r.d(t,"utcThursdays",function(){return b}),r.d(t,"utcFridays",function(){return y}),r.d(t,"utcSaturdays",function(){return v});var n=r("./node_modules/d3-time/src/interval.js"),i=r("./node_modules/d3-time/src/duration.js");function s(e){return Object(n.default)(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/i.durationWeek})}var o=s(0),a=s(1),u=s(2),l=s(3),c=s(4),d=s(5),h=s(6),f=o.range,p=a.range,m=u.range,g=l.range,b=c.range,y=d.range,v=h.range},"./node_modules/d3-time/src/utcYear.js":function(e,t,r){"use strict";r.r(t),r.d(t,"utcYears",function(){return s});var n=r("./node_modules/d3-time/src/interval.js"),i=Object(n.default)(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Object(n.default)(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null},t.default=i;var s=i.range},"./node_modules/d3-time/src/week.js":function(e,t,r){"use strict";r.r(t),r.d(t,"sunday",function(){return o}),r.d(t,"monday",function(){return a}),r.d(t,"tuesday",function(){return u}),r.d(t,"wednesday",function(){return l}),r.d(t,"thursday",function(){return c}),r.d(t,"friday",function(){return d}),r.d(t,"saturday",function(){return h}),r.d(t,"sundays",function(){return f}),r.d(t,"mondays",function(){return p}),r.d(t,"tuesdays",function(){return m}),r.d(t,"wednesdays",function(){return g}),r.d(t,"thursdays",function(){return b}),r.d(t,"fridays",function(){return y}),r.d(t,"saturdays",function(){return v});var n=r("./node_modules/d3-time/src/interval.js"),i=r("./node_modules/d3-time/src/duration.js");function s(e){return Object(n.default)(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.durationMinute)/i.durationWeek})}var o=s(0),a=s(1),u=s(2),l=s(3),c=s(4),d=s(5),h=s(6),f=o.range,p=a.range,m=u.range,g=l.range,b=c.range,y=d.range,v=h.range},"./node_modules/d3-time/src/year.js":function(e,t,r){"use strict";r.r(t),r.d(t,"years",function(){return s});var n=r("./node_modules/d3-time/src/interval.js"),i=Object(n.default)(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Object(n.default)(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)}):null},t.default=i;var s=i.range},"./node_modules/fast-deep-equal/index.js":function(e,t,r){"use strict";var n=Array.isArray,i=Object.keys,s=Object.prototype.hasOwnProperty;e.exports=function e(t,r){if(t===r)return!0;var o,a,u,l=n(t),c=n(r);if(l&&c){if((a=t.length)!=r.length)return!1;for(o=0;o<a;o++)if(!e(t[o],r[o]))return!1;return!0}if(l!=c)return!1;var d=t instanceof Date,h=r instanceof Date;if(d!=h)return!1;if(d&&h)return t.getTime()==r.getTime();var f=t instanceof RegExp,p=r instanceof RegExp;if(f!=p)return!1;if(f&&p)return t.toString()==r.toString();if(t instanceof Object&&r instanceof Object){var m=i(t);if((a=m.length)!==i(r).length)return!1;for(o=0;o<a;o++)if(!s.call(r,m[o]))return!1;for(o=0;o<a;o++)if(!e(t[u=m[o]],r[u]))return!1;return!0}return!1}},"./node_modules/lineupengine/build/lineupengine.js":function(e,t,r){(function(t){var r;"undefined"!=typeof self&&self,r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=12)}([function(e,t,r){"use strict";t.e=function(e,t,r){void 0===r&&(r=0);return{exceptions:[],exceptionsLookup:{keys:function(){return[].values()},get:function(){return t},has:function(){return!1},size:0},totalHeight:e*(t+=r),numberOfRows:e,defaultRowHeight:t,padding:function(){return r}}},t.b=i,t.c=function(e,t,r,n,s,o){void 0===r&&(r=2);void 0===n&&(n=10*t);void 0===s&&(s=.2);void 0===o&&(o=Date.now());var a=o,u=function(){var e=1e4*Math.sin(a++);return e-Math.floor(e)},l=function(){var e=u();return e<s?r+Math.round(u()*(n-r)):t};return i({forEach:function(t){for(var r=0;r<e;++r)t(l(),r)}},t)},t.d=function(e,t,r,n,i){if(0===i)return{first:0,last:-1,firstRowPos:0,endPos:0};if(1===i)return{first:0,last:0,firstRowPos:0,endPos:0===n.length?r:n[0].y2};var s=e,o=s+t;function a(e,t){return Math.min(i-1,t+Math.max(0,Math.floor(e/r)))}function u(e,t,n){void 0===n&&(n=!1);var u=s-e,l=o-e,c=a(u,t),d=a(l,t),h=e+(c-t)*r,f=e+(d+1-t)*r;return console.assert(!n||!(h>s||f<o&&d<i-1),"error",n,h,f,s,o,t,e),{first:c,last:d,firstRowPos:h,endPos:f}}var l=u(0,0,!0);if(0===n.length)return l;if(l.last<n[0].index)return l;if(l.last===n[0].index&&n[0].height>r)return Object.assign(l,{endPos:n[0].y2});var c=n[n.length-1];if(s>=c.y){var d=u(c.y2,c.index+1);return s<c.y2?Object.assign(d,{first:c.index,firstRowPos:c.y}):d}for(var h=[],f=n[0],p=0,m=n;p<m.length;p++){var g=m[p],b=g.y,y=g.y2;if(b>=o)break;y<=s?f=g:h.push(g)}if(0===h.length)return u(f.y2,f.index+1);var v=h[0],E=h[h.length-1],_=Math.max(0,v.index-Math.max(0,Math.ceil((v.y-s)/r))),C=E.index;o>=E.y2&&(C=a(o-E.y2,E.index+1));var T=v.y-(v.index-_)*r,O=E.y2+(C-E.index)*r;return console.assert(T<=s&&(O>=o||C===i-1),"error",T,O,s,o,v,E),{first:_,last:C,firstRowPos:T,endPos:O}},t.a=function(e,t){var r=e.length,n=t.length;if(0===r)return{added:t,removed:[],common:0};if(0===n)return{added:[],removed:e,common:0};if(r===n)return{added:[],removed:[],common:r};var i=e.slice(Math.min(n,r));return{added:t.slice(Math.min(n,r)),removed:i,common:r-i.length}},t.f=function(e,t,r){for(var n=0===e.length?0:e[e.length-1]+1,i=[],s=[],o=e.length-1;o>=0;--o){var a=e[o];if(!(a>=r))break;s.push(e.pop())}for(var o=n;o<r;++o)t[o].frozen&&(i.push(o),e.push(o));return{target:e,added:i,removed:s}};var n=function(){function e(e,t,r){this.index=e,this.y=t,this.height=r}return Object.defineProperty(e.prototype,"y2",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),e}();function i(e,t,r){void 0===t&&(t=NaN),void 0===r&&(r=0);var i=new Map,s=[],o="function"==typeof r?r:function(){return r};isNaN(t)&&(t=function(e){var t=new Map;if(e.forEach(function(e){t.set(e,(t.get(e)||0)+1)}),0===t.size)return 20;var r=Array.from(t).sort(function(e,t){return e[1]!==t[1]?t[1]-e[1]:e[0]-t[0]}),n=r[0][0];return 0===n?r.length>1?r[1][0]:20:n}(e)),t+=o(-1);var a=-1,u=0,l=0,c=0;return e.forEach(function(e,r){if(e+=o(r),l+=e,c++,e!==t){i.set(r,e);var d=(r-a-1)*t;a=r;var h=u+d;u=h+e,s.push(new n(r,h,e))}}),{exceptionsLookup:i,exceptions:s,totalHeight:l,defaultRowHeight:t,numberOfRows:c,padding:o}}},function(e,t,r){"use strict";var n=r(8);r.d(t,"a",function(){return n.a});var i=r(14);r.d(t,"b",function(){return i.a})},function(e,t,r){"use strict";t.a=function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};Object.assign},function(e,r,n){"use strict";n.d(r,"a",function(){return l});var i=n(5),s=n(6),o=n(7),a=n(0),u=n(1),l=function(){function e(e,t){void 0===t&&(t={});var r=this;this.body=e,this.pool=[],this.loadingPool=[],this.loading=new Map,this.visible={first:0,forcedFirst:0,last:-1,forcedLast:-1},this.visibleFirstRowPos=0,this.abortAnimation=function(){},this.options={async:Boolean(window.chrome)?"animation":"immediate",minScrollDelta:3,mixins:[],scrollingHint:!1},this.adapter=this.createAdapter(),Object.assign(this.options,t),this.mixins=this.options.mixins.map(function(e){return new e(r.adapter)}),this.fragment=e.ownerDocument.createDocumentFragment()}return e.prototype.addMixin=function(e,t){this.mixins.push(new e(this.adapter,t))},e.prototype.createAdapter=function(){var e=this,t={visible:this.visible,addAtBeginning:this.addAtBeginning.bind(this),addAtBottom:this.addAtBottom.bind(this),removeFromBeginning:this.removeFromBeginning.bind(this),removeFromBottom:this.removeFromBottom.bind(this),updateOffset:this.updateOffset.bind(this),scroller:this.bodyScroller};return Object.defineProperties(t,{visibleFirstRowPos:{get:function(){return e.visibleFirstRowPos},enumerable:!0},context:{get:function(){return e.context},enumerable:!0}}),t},Object.defineProperty(e.prototype,"bodyScroller",{get:function(){return this.body.parentElement},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this,t=this.bodyScroller,r=t.scrollTop,n=t.clientHeight;this.scrollListener=this.createDelayedHandler(function(){var i=t.scrollTop,s=t.clientHeight;if(!(Math.abs(r-i)<e.options.minScrollDelta&&Math.abs(n-s)<e.options.minScrollDelta)){var o=i>r;r=i,n=s,e.onScrolledVertically(i,s,o),e.options.scrollingHint&&t.classList.remove("le-scrolling")}},function(){e.options.scrollingHint&&t.classList.add("le-scrolling")}),t.addEventListener("scroll",this.scrollListener),this.recreate()},e.prototype.createDelayedHandler=function(e,r){var n,i=this,s="function"==typeof window.setImmediate;n="immediate"===this.options.async&&s?t:"animation"===this.options.async||"immediate"===this.options.async?requestAnimationFrame:"number"==typeof this.options.async?function(e){return self.setTimeout(e,i.options.async)}:function(e){return e(),-1};var o=-1,a=function(){o=-1,e()};return function(){r&&r(),o>-1||(o=n(a))}},e.prototype.destroy=function(){this.bodyScroller.removeEventListener("scroll",this.scrollListener),this.body.remove()},e.cleanUp=function(e){e.style.height&&(e.style.height=null)},e.prototype.select=function(e){var t,r;return this.pool.length>0?(t=this.pool.pop(),r=this.updateRow(t,e)):this.loadingPool.length>0?((t=this.loadingPool.pop()).classList.remove("loading"),r=this.createRow(t,e)):(t=this.body.ownerDocument.createElement("div"),r=this.createRow(t,e)),t.dataset.index=String(e),{item:t,result:r}},e.prototype.selectProxy=function(){var e;return this.loadingPool.length>0?e=this.loadingPool.pop():(e=this.body.ownerDocument.createElement("div")).classList.add("loading"),e},e.prototype.recycle=function(t){(e.cleanUp(t),this.loading.has(t))?this.loading.get(t).abort():this.pool.push(t)},e.prototype.proxy=function(t,r){var n=this;if(!Object(i.b)(r))return t;var s=r,o=t,a=this.selectProxy();return a.dataset.index=o.dataset.index,a.style.height=o.style.height,this.loading.set(a,s),s.then(function(t){t===i.a?(e.cleanUp(o),n.pool.push(o)):n.body.replaceChild(o,a),n.loading.delete(a),e.cleanUp(a),n.loadingPool.push(a)}),a},e.prototype.create=function(e){var t=this.select(e),r=t.item,n=t.result,i=this.context,s=i.exceptionsLookup,o=i.padding;return s.has(e)&&(r.style.height=s.get(e)-o(e)+"px"),this.proxy(r,n)},e.prototype.removeAll=function(){var e=this,t=Array.from(this.body.children);this.body.innerHTML="",t.forEach(function(t){e.recycle(t)})},e.prototype.update=function(){var e=this,t=this.visible.first,r=this.fragment,n=Array.from(this.body.children);this.body.innerHTML="",n.forEach(function(n,i){if(!e.loading.has(n)){var s=e.updateRow(n,i+t);r.appendChild(e.proxy(n,s))}}),this.body.appendChild(r)},e.prototype.forEachRow=function(e,t){var r=this;void 0===t&&(t=!1);var n=Array.from(this.body.children),i=this.fragment;t||(this.body.innerHTML=""),n.forEach(function(n,s){n.classList.contains("loading")||"update_remove"===n.dataset.animation||"hide"===n.dataset.animation||e(n,s+r.visible.first),t||i.appendChild(n)}),t||this.body.appendChild(i)},e.prototype.removeFromBeginning=function(e,t){return this.remove(e,t,!0)},e.prototype.removeFromBottom=function(e,t){return this.remove(e,t,!1)},e.prototype.remove=function(e,t,r){for(var n=e;n<=t;++n){var i=r?this.body.firstChild:this.body.lastChild;i.remove(),this.recycle(i)}},e.prototype.addAtBeginning=function(e,t){if(e!==t){for(var r=this.fragment,n=e;n<=t;++n)r.appendChild(this.create(n));this.body.insertBefore(r,this.body.firstChild)}else this.body.insertBefore(this.create(e),this.body.firstChild)},e.prototype.addAtBottom=function(e,t){if(e!==t){for(var r=this.fragment,n=e;n<=t;++n)r.appendChild(this.create(n));this.body.appendChild(r)}else this.body.appendChild(this.create(e))},e.prototype.updateOffset=function(e){var t=this.context.totalHeight;this.visibleFirstRowPos=e,this.body.classList.toggle("odd",this.visible.first%2==1),this.body.style.transform="translate(0, "+e.toFixed(0)+"px)",this.body.style.height=Math.max(1,t-e).toFixed(0)+"px"},e.prototype.recreate=function(e){return this.abortAnimation(),e?this.recreateAnimated(e):this.recreatePure()},e.prototype.recreatePure=function(){var e=this.context,t=this.bodyScroller;this.updateOffset(0),this.removeAll(),this.clearPool();var r=Object(a.d)(t.scrollTop,t.clientHeight,e.defaultRowHeight,e.exceptions,e.numberOfRows),n=r.first,i=r.last,s=r.firstRowPos;this.visible.first=this.visible.forcedFirst=n,this.visible.last=this.visible.forcedLast=i,n<0?this.updateOffset(0):(this.addAtBottom(n,i),this.updateOffset(s))},e.prototype.recreateAnimated=function(e){var t=this,r=new Map,n=new o.a(e.previous,e.previousKey),i=new o.a(this.context,e.currentKey),u=Object(a.d)(this.bodyScroller.scrollTop,this.bodyScroller.clientHeight,i.context.defaultRowHeight,i.context.exceptions,i.context.numberOfRows),l=Array.from(this.body.children),c=Object.assign({},this.visible);n.positions(c.first,Math.min(c.last,c.first+l.length),this.visibleFirstRowPos,function(e,t,n){var i=l[e];i&&r.set(t,{n:i,pos:n,i:e})}),this.body.innerHTML="",this.visible.first=this.visible.forcedFirst=u.first,this.visible.last=this.visible.forcedLast=u.last;var d=this.fragment,h=[],f=u.firstRowPos;i.positions(u.first,u.last,u.firstRowPos,function(e,o,a){var u,l,c=s.a.UPDATE;if(r.has(o)){var p=r.get(o);r.delete(o),p.n.dataset.index=String(e),u=t.proxy(p.n,t.updateRow(p.n,e)),l={index:p.i,y:p.pos,height:n.exceptionHeightOf(p.i,!0)}}else{var m=n.posByKey(o);u=t.create(e),c=m.index<0?s.a.SHOW:s.a.UPDATE_CREATE,l={index:m.index,y:m.pos>=0?m.pos:a,height:m.index<0?i.exceptionHeightOf(e,!0):n.exceptionHeightOf(m.index,!0)}}h.push({node:u,key:o,mode:c,previous:l,nodeY:f,nodeYCurrentHeight:a,current:{index:e,y:a,height:i.exceptionHeightOf(e)}}),u.style.transform="translate(0, "+(f-a)+"px)",f+=l.height+(l.index<0?i.padding(e):n.padding(l.index)),d.appendChild(u)});var p=u.endPos;r.forEach(function(e,t){var r=i.posByKey(t),o=r.pos>=0?r.pos:e.pos,a=e.n;a.style.transform="translate(0, "+(e.pos-f)+"px)",d.appendChild(a);var u=n.exceptionHeightOf(e.i,!0);h.push({node:e.n,key:t,mode:r.index<0?s.a.HIDE:s.a.UPDATE_REMOVE,previous:{index:e.i,y:e.pos,height:u},nodeY:f,nodeYCurrentHeight:p,current:{index:r.index,y:o,height:r.index<0?null:i.exceptionHeightOf(r.index)}}),p+=r.index<0?i.context.defaultRowHeight:i.exceptionHeightOf(r.index,!0)+i.padding(r.index),f+=u+n.padding(e.i)}),this.updateOffset(u.firstRowPos),this.animate(h,e.phases||s.c,n,i,d)},e.prototype.animate=function(e,t,r,n,i){var o=this;if(e.length<=0)this.body.appendChild(i);else{for(var a=-1,u=0,l=function(t,i){void 0===i&&(i=e),i.forEach(function(e){return t.apply(e,r,n)})},c=function(){if(console.assert(e[0].node.offsetTop>=0,"dummy log for forcing dom update"),l(t[u++]),u<t.length){var r=t[u];a=setTimeout(c,r.delay)}else{var n=o.body.classList;Array.from(n).forEach(function(e){e.startsWith("le-")&&e.endsWith("-animation")&&n.remove(e)}),e.forEach(function(e){var t=e.node,r=e.mode;r!==s.a.UPDATE_REMOVE&&r!==s.a.HIDE||(t.remove(),t.style.transform=null,o.recycle(t))}),o.abortAnimation=function(){},a=-1}};0===t[u].delay;)l(t[u++]);var d=this.body;this.body.appendChild(i);var h=[];e=e.filter(function(e){return!Object(s.d)(e,r.context.defaultRowHeight,n.context.defaultRowHeight)||(h.push(e),!1)}),h.length>0&&t.slice(u).forEach(function(e){return l(e,h)}),0!==e.length&&(d.classList.add("le-row-animation"),new Set(e.map(function(e){return e.mode})).forEach(function(e){d.classList.add("le-"+s.a[e].toLowerCase().split("_")[0]+"-animation")}),this.abortAnimation=function(){a<=0||(clearTimeout(a),a=-1,u=t.length-1,c())},a=setTimeout(c,t[u].delay))}},e.prototype.clearPool=function(){this.pool.splice(0,this.pool.length)},e.prototype.revalidate=function(){var e=this.bodyScroller;this.onScrolledVertically(e.scrollTop,e.clientHeight,!0),this.updateOffset(this.visibleFirstRowPos)},e.prototype.onScrolledVertically=function(e,t,r){var n=this.onScrolledImpl(e,t);return this.mixins.forEach(function(e){return e.onScrolled(r,n)}),n},e.prototype.onScrolledImpl=function(e,t){var r=this.context,n=Object(a.d)(e,t,r.defaultRowHeight,r.exceptions,r.numberOfRows),i=n.first,s=n.last,o=n.firstRowPos,l=this.visible;if(l.forcedFirst=i,l.forcedLast=s,i-l.first>=0&&s-l.last<=0)return u.a.NONE;var c=u.a.PARTIAL;return i>l.last||s<l.first?(this.removeAll(),this.addAtBottom(i,s),c=u.a.ALL):i<l.first?(this.removeFromBottom(s+1,l.last),this.addAtBeginning(i,l.first-1)):(this.removeFromBeginning(l.first,i-1),this.addAtBottom(l.last+1,s)),l.first=i,l.last=s,this.updateOffset(o),c},e}();r.b=l},function(e,t,r){"use strict";var n=r(9);r.d(t,"a",function(){return n.b}),r.d(t,"d",function(){return n.c}),r.d(t,"c",function(){return n.a}),r.d(t,"e",function(){return n.d});var i=r(10);r.d(t,"b",function(){return i.a})},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),t.b=function(e){return void 0!==e&&null!==e&&e&&"function"==typeof e.then&&"function"==typeof e.abort};var n=Symbol("aborted")},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),t.d=function(e,t,r){var i=e.previous,o=e.mode,a=e.nodeY,u=e.current,l=null==i.height?t:i.height,c=null==u.height?r:u.height;return o===n.UPDATE&&Math.abs(i.y-a)<=s&&Math.abs(l-c)<=s},r.d(t,"c",function(){return o});var n,i=r(7);r.d(t,"b",function(){return i.a}),function(e){e[e.UPDATE=0]="UPDATE",e[e.UPDATE_CREATE=1]="UPDATE_CREATE",e[e.UPDATE_REMOVE=2]="UPDATE_REMOVE",e[e.SHOW=3]="SHOW",e[e.HIDE=4]="HIDE"}(n||(n={}));var s=1;var o=[{delay:0,apply:function(e){var t=e.mode,r=e.previous,i=e.nodeY,s=e.current,o=e.node;o.dataset.animation=n[t].toLowerCase(),o.style.transform="translate(0, "+(r.y-i)+"px)",t===n.SHOW?o.style.height=null!==s.height?s.height+"px":null:o.style.height=r.height+"px",o.style.opacity=t===n.SHOW?"0":t===n.HIDE?"1":null}},{delay:10,apply:function(e){var t=e.mode,r=e.current,i=e.nodeY,s=e.node;s.style.transform=t===n.HIDE||t===n.UPDATE_REMOVE?"translate(0, "+(r.y-i)+"px)":null,t!==n.HIDE&&(s.style.height=null!==r.height?r.height+"px":null),s.style.opacity=t===n.SHOW?"1":t===n.HIDE?"0":null}},{delay:1100,apply:function(e){var t=e.node;delete t.dataset.animation,t.style.opacity=null,t.style.transform=null}}]},function(e,t,r){"use strict";var n=function(){function e(e,t){var r=this;this.context=e,this.key=t,this.cache=[],this.lastFilled=0,this.key2index=new Map,this.context.exceptions.forEach(function(e){r.cache[e.index]=e.y,r.key2index.set(t(e.index),e.index)})}return e.prototype.findValidStart=function(e){for(var t=e-1;t>=0;--t)if(void 0!==this.cache[t])return t;return-1},e.prototype.posByKey=function(e){if(this.key2index.has(e)){var t=this.key2index.get(e);return{index:t,pos:this.pos(t)}}return this.fillCacheTillKey(e)},e.prototype.pos=function(e){if(0===this.context.exceptions.length)return e*this.context.defaultRowHeight;var t=this.cache[e];if(void 0!==t)return t;var r=this.findValidStart(e);return r<0?this.fillCache(0,e,0):this.fillCache(r+1,e,this.cache[r]+this.heightOf(r)),this.cache[e]},e.prototype.fillCache=function(e,t,r,n){if(t<=this.lastFilled){if(!n)return;for(var i=e;i<=t;++i)n(i,this.key(i),this.cache[i])}else{var s=r;for(i=e;i<=t;++i){this.cache[i]=s;var o=this.key(i);this.key2index.set(o,i),n&&n(i,o,s),s+=this.heightOf(i)}}},e.prototype.heightOf=function(e){var t=this.context.exceptionsLookup;return t.has(e)?t.get(e):this.context.defaultRowHeight},e.prototype.exceptionHeightOf=function(e,t){void 0===t&&(t=!1);var r=this.context.padding(e),n=this.context.exceptionsLookup;return n.has(e)?n.get(e)-r:t?this.context.defaultRowHeight-r:null},e.prototype.padding=function(e){return this.context.padding(e)},e.prototype.fillCacheTillKey=function(e){for(var t=0,r=this.lastFilled;r<this.context.numberOfRows;++r,++this.lastFilled){var n=this.cache[r];if(void 0===n){var i=this.key(r);if(this.cache[r]=t,this.key2index.set(i,r),i===e)return{index:r,pos:t};t+=this.heightOf(r)}else t=n+this.heightOf(r)}return{index:-1,pos:-1}},e.prototype.positions=function(e,t,r,n){this.fillCache(e,t,r,n)},e}();t.a=n},function(e,t,r){"use strict";var n;r.d(t,"a",function(){return n}),function(e){e[e.NONE=0]="NONE",e[e.ALL=1]="ALL",e[e.PARTIAL=2]="PARTIAL"}(n||(n={}))},function(e,t,r){"use strict";r.d(t,"a",function(){return i}),t.d=function(e){return e.innerHTML=i,e},t.c=function(e,t){e.style.gridColumnStart=t.id,e.dataset.id=t.id};var n=r(2),i="\n  <header>\n    <article></article>\n  </header>\n  <main>\n    <article></article>\n  </main>";var s=function(e){function t(t,r){var n=e.call(this,t)||this;n.id=r;var i=t.querySelector("header"),s=t.querySelector("main"),o=0;return s.addEventListener("scroll",function(){var e=i.scrollLeft,t=s.scrollLeft;e!==t&&requestAnimationFrame(function(){return i.scrollLeft=t});var r=s.clientWidth-i.clientWidth;r!==o&&(o=r,n.updateRule("__scollBarFix","\n        "+n.id+" > header > :last-child {\n          margin-right: "+r+"px;\n        }\n      "))}),n}return n.a(t,e),t.columnWidths=function(e,t){void 0===t&&(t="px");var r=function(e,t){return"repeat("+e+", "+t+")"},n=0,i=0,s="";return e.forEach(function(e){var o=e.width;n!==o?(i>0&&(s+=1===i?""+n+t+" ":r(i,""+n+t)+" "),i=1,n=o):i++}),i>0&&(s+=1===i?""+n+t:""+r(i,""+n+t)),s},t.gridColumn=function(e,r){return void 0===r&&(r="px"),"grid-template-columns: "+t.columnWidths(e,r)+';\n      grid-template-areas: "'+e.map(function(e){return e.id}).join(" ")+'";'},t.prototype.update=function(e,r,n,i,s){void 0===s&&(s="px");var o=void 0!==i?this.tableIds(i,!0):{header:this.id+" > header > article",body:this.id+" > main > article"};if(this.updateRule("__heightsRule"+o.body,o.body+" > div {\n      height: "+e+"px;\n    }"),0!==r.length){var a=t.gridColumn(r,s);this.updateRule("__widthRule"+o.body,o.body+" > div, "+o.header+" { "+a+" }"),this.updateFrozen(r,o,n,s)}else this.deleteRule("__widthRule"+o.body)},t.prototype.remove=function(e){var t=this.tableIds(e,!0);this.deleteRule("__heightsRule"+t.body),this.deleteRule("__widthRule"+t.body);for(var r="__frozen"+t.body+"_",n=this.ruleNames.reduce(function(e,t){return e+(t.startsWith(r)?1:0)},0),i=0;i<n;++i)this.deleteRule(""+r+i)},t.prototype.tableIds=function(e,t){void 0===t&&(t=!1);var r=this.id.startsWith("#")?this.id.slice(1):this.id;return{header:(t?"#":"")+r+"_H"+e,body:(t?"#":"")+r+"_B"+e}},t.prototype.updateFrozen=function(e,t,r,n){var i=this,s="__frozen"+t.body+"_",o=this.ruleNames.reduce(function(e,t){return e+(t.startsWith(s)?1:0)},0),a=e.filter(function(e){return e.frozen});if(a.length<=0)for(var u=0;u<o;++u)this.deleteRule(""+s+u);else{var l=a[0].width;a.slice(1).forEach(function(e,r){var o=t.body+' > div > .frozen[data-id="'+e.id+'"], '+t.header+' .frozen[data-id="'+e.id+'"] {\n        left: '+l+n+";\n      }";l+=e.width,i.updateRule(""+s+r,o)});for(u=a.length-1;u<o;++u)this.deleteRule(""+s+u)}},t}(r(10).a);t.b=s},function(e,t,r){"use strict";var n=function(){function e(e){this.rules=new Map,this.node=e.ownerDocument.createElement("style"),e.appendChild(this.node)}return e.prototype.destroy=function(){this.node.remove()},e.prototype.recreate=function(){this.node.innerHTML=Array.from(this.rules.values()).join("\n")},e.prototype.addRule=function(e,t){return this.rules.set(e,t),this.recreate(),e},e.prototype.updateRule=function(e,t){return this.rules.set(e,t),this.recreate(),e},e.prototype.deleteRule=function(e){this.rules.get(e)&&(this.rules.delete(e),this.recreate())},Object.defineProperty(e.prototype,"ruleNames",{get:function(){return Array.from(this.rules.keys())},enumerable:!0,configurable:!0}),e}();t.a=n},function(e,t,r){"use strict";var n=r(0),i=r(1),s=r(9),o=function(){function e(e,t,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];var s=this;this.header=e,this.style=t,this.tableId=r,this.cellPool=[],this.visibleColumns={frozen:[],first:0,forcedFirst:0,last:-1,forcedLast:-1},this.visibleFirstColumnPos=0,this.columnAdapter=this.createColumnAdapter(),this.columnMixins=n.map(function(e){return new e(s.columnAdapter)}),this.columnFragment=e.ownerDocument.createDocumentFragment()}return Object.defineProperty(e.prototype,"headerScroller",{get:function(){return this.header.parentElement},enumerable:!0,configurable:!0}),e.prototype.addColumnMixin=function(e,t){this.columnMixins.push(new e(this.columnAdapter,t))},e.prototype.createColumnAdapter=function(){var e=this,t={visible:this.visibleColumns,addAtBeginning:this.addColumnAtStart.bind(this),addAtBottom:this.addColumnAtEnd.bind(this),removeFromBeginning:this.removeColumnFromStart.bind(this),removeFromBottom:this.removeColumnFromEnd.bind(this),updateOffset:this.updateColumnOffset.bind(this),scroller:this.headerScroller,syncFrozen:this.syncFrozen.bind(this)};return Object.defineProperties(t,{visibleFirstRowPos:{get:function(){return e.visibleFirstColumnPos},enumerable:!0},context:{get:function(){return e.context.column},enumerable:!0}}),t},e.prototype.init=function(){var e=this,t=this.context;this.style.update(t.defaultRowHeight-t.padding(-1),t.columns,t.column.padding,this.tableId),t.columns.forEach(function(){e.cellPool.push([])})},e.prototype.onScrolledHorizontally=function(e,t,r){var n=this.onScrolledHorizontallyImpl(e,t);return this.columnMixins.forEach(function(e){return e.onScrolled(r,n)}),n},e.prototype.removeColumnFromStart=function(e,t,r){var n=this;void 0===r&&(r=this.visibleColumns.frozen.length),this.forEachRow(function(i){n.removeCellFromStart(i,e,t,r)})},e.prototype.removeCellFromStart=function(e,t,r,n){for(var i=t;i<=r;++i){var s=0===n?e.firstElementChild:e.children[n];s.remove(),this.recycleCell(s,i)}},e.prototype.removeColumnFromEnd=function(e,t){var r=this;this.forEachRow(function(n){r.removeCellFromEnd(n,e,t)})},e.prototype.removeCellFromEnd=function(e,t,r){for(var n=r;n>=t;--n){var i=e.lastElementChild;i.remove(),this.recycleCell(i,n)}},e.prototype.removeFrozenCells=function(e,t,r){for(var n=0,i=t;n<i.length;n++){var s=i[n],o=e.children[r];o.remove(),this.recycleCell(o,s)}},e.prototype.removeFrozenColumns=function(e,t){var r=this;this.forEachRow(function(n){r.removeFrozenCells(n,e,t)})},e.prototype.removeAllColumns=function(e){var t=this;this.forEachRow(function(r){t.removeAllCells(r,e)})},e.prototype.removeAllCells=function(e,t,r){var n=this;void 0===r&&(r=this.visibleColumns.first);var i=Array.from(e.children),s=this.visibleColumns.frozen;if(e.innerHTML="",t||0===s.length)for(var o=0,a=s;o<a.length;o++){var u=a[o];this.recycleCell(i.shift(),u)}else for(var l=0,c=s;l<c.length;l++){c[l];e.appendChild(i.shift())}i.forEach(function(e,t){n.recycleCell(e,t+r)})},e.prototype.selectCell=function(e,t,r){var n=this.cellPool[t],i=r[t];if(n.length>0){var o=n.pop(),a=this.updateCell(o,e,i);return a&&a!==o&&Object(s.c)(a,i),a||o}var u=this.createCell(this.header.ownerDocument,e,i);return Object(s.c)(u,i),u},e.prototype.recycleCell=function(e,t){this.cellPool[t].push(e)},e.prototype.addColumnAtStart=function(e,t,r){var n=this;void 0===r&&(r=this.visibleColumns.frozen.length);var i=this.context.columns;this.forEachRow(function(s,o){n.addCellAtStart(s,o,e,t,r,i)})},e.prototype.addCellAtStart=function(e,t,r,n,i,s){for(var o=n;o>=r;--o){var a=this.selectCell(t,o,s);e.insertBefore(a,i>0?e.children[i]:e.firstChild)}},e.prototype.insertFrozenCells=function(e,t,r,n,i){for(var s=e.children[n],o=0,a=r;o<a.length;o++){var u=a[o],l=this.selectCell(t,u,i);s?e.insertBefore(l,s):e.appendChild(l)}},e.prototype.insertFrozenColumns=function(e,t){var r=this,n=this.context.columns;this.forEachRow(function(i,s){r.insertFrozenCells(i,s,e,t,n)})},e.prototype.addColumnAtEnd=function(e,t){var r=this,n=this.context.columns;this.forEachRow(function(i,s){r.addCellAtEnd(i,s,e,t,n)})},e.prototype.verifyRows=function(){var e=this.context.columns;this.forEachRow(function(t,r){return a(t,r,e)})},e.prototype.addCellAtEnd=function(e,t,r,n,i){for(var s=r;s<=n;++s){var o=this.selectCell(t,s,i);e.appendChild(o)}},e.prototype.updateHeaders=function(){var e=this,t=this.context.columns;Array.from(this.header.children).forEach(function(r,n){e.updateHeader(r,t[n])})},e.prototype.recreate=function(e,t){var r=this,i=this.context;this.style.update(i.defaultRowHeight-i.padding(-1),i.columns,i.column.padding,this.tableId),this.clearPool();for(var o=this.cellPool.length;o<i.columns.length;++o)this.cellPool.push([]);var a=this.columnFragment,u=a.ownerDocument;this.header.innerHTML="",i.columns.forEach(function(e){var t=r.createHeader(u,e);Object(s.c)(t,e),a.appendChild(t)}),this.header.appendChild(a);var l=Object(n.d)(e,t,i.column.defaultRowHeight,i.column.exceptions,i.column.numberOfRows),c=l.first,d=l.last,h=l.firstRowPos;if(this.visibleColumns.first=this.visibleColumns.forcedFirst=c,this.visibleColumns.last=this.visibleColumns.forcedLast=d,i.columns.some(function(e){return e.frozen})){var f=Object(n.f)([],i.columns,c).target;this.visibleColumns.frozen=f}else this.visibleColumns.frozen=[];this.updateColumnOffset(h)},e.prototype.clearPool=function(){this.cellPool.forEach(function(e){return e.splice(0,e.length)})},e.prototype.updateColumnOffset=function(e){this.visibleFirstColumnPos=e},e.prototype.createRow=function(e,t){var r=this.context.columns,n=this.visibleColumns;if(n.frozen.length>0)for(var i=0,s=n.frozen;i<s.length;i++){var o=s[i],a=this.selectCell(t,o,r);e.appendChild(a)}for(o=n.first;o<=n.last;++o){a=this.selectCell(t,o,r);e.appendChild(a)}},e.prototype.updateRow=function(e,t){var r=this.context.columns,n=this.visibleColumns,i=Array.from(e.children);switch(i.length){case 0:n.frozen.length>0&&this.insertFrozenCells(e,t,n.frozen,0,r),this.addCellAtEnd(e,t,n.first,n.last,r);break;case 1:var s=i[0],o=s.dataset.id,a=r.findIndex(function(e){return e.id===o});e.removeChild(s),a>=0&&this.recycleCell(s,a),n.frozen.length>0&&this.insertFrozenCells(e,t,n.frozen,0,r),this.addCellAtEnd(e,t,n.first,n.last,r);break;default:this.mergeColumns(e,t,i)}},e.prototype.mergeColumns=function(e,t,r){var n=this,i=this.context.columns,o=this.visibleColumns;e.innerHTML="";var a=new Map(r.map(function(e){return[e.dataset.id,e]})),u=function(r){var o=i[r],u=a.get(o.id);if(u){var l=n.updateCell(u,t,o);l&&l!==u&&Object(s.c)(l,o),e.appendChild(l||u)}else{var c=n.selectCell(t,r,i);e.appendChild(c)}};o.frozen.forEach(u);for(var l=o.first;l<=o.last;++l)u(l)},e.prototype.syncFrozen=function(e){var t=this.context.columns,r=this.visibleColumns;if(!t.some(function(e){return e.frozen}))return 0;if(0===e)return r.frozen.length>0&&(this.removeFrozenColumns(r.frozen,0),r.frozen=[]),0;var i=r.frozen.length,s=Object(n.f)(r.frozen,t,e),o=s.target,a=s.added,u=s.removed;return u.length>0&&this.removeFrozenColumns(u,i-u.length),a.length>0&&this.insertFrozenColumns(a,i-u.length),r.frozen=o,o.length},e.prototype.onScrolledHorizontallyImpl=function(e,t){var r=this.context.column,s=Object(n.d)(e,t,r.defaultRowHeight,r.exceptions,r.numberOfRows),o=s.first,a=s.last,u=s.firstRowPos,l=this.visibleColumns;if(l.forcedFirst=o,l.forcedLast=a,o-l.first>=0&&a-l.last<=0)return i.a.NONE;var c=i.a.PARTIAL,d=this.syncFrozen(o);return o>l.last||a<l.first?(this.removeAllColumns(!1),this.addColumnAtEnd(o,a),c=i.a.ALL):o<l.first?(this.removeColumnFromEnd(a+1,l.last),this.addColumnAtStart(o,l.first-1,d)):(this.removeColumnFromStart(l.first,o-1,d),this.addColumnAtEnd(l.last+1,a)),l.first=o,l.last=a,this.updateColumnOffset(u),c},e}();function a(e,t,r){var n=Array.from(e.children);if(!(n.length<=1)){var i=n.map(function(e){return r.find(function(t){return t.id===e.dataset.id})});console.assert(i.every(function(e){return Boolean(e)}),"all columns must exist",t),console.assert(i.every(function(e,t){return 0===t||e.index>=i[t-1].index}),"all columns in ascending order",t),console.assert(new Set(i).size===i.length,"unique columns",i)}}t.a=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"version",function(){return d});var n=r(13);r.d(t,"ACellRenderer",function(){return n.a});var i=r(3);r.d(t,"ARowRenderer",function(){return i.a});var s=r(0);r.d(t,"uniformContext",function(){return s.e}),r.d(t,"nonUniformContext",function(){return s.b}),r.d(t,"randomContext",function(){return s.c}),r.d(t,"range",function(){return s.d}),r.d(t,"frozenDelta",function(){return s.a}),r.d(t,"updateFrozen",function(){return s.f});var o=r(5);r.d(t,"ABORTED",function(){return o.a}),r.d(t,"isAbortAble",function(){return o.b});var a=r(4);r.d(t,"GridStyleManager",function(){return a.a}),r.d(t,"setColumn",function(){return a.d}),r.d(t,"TEMPLATE",function(){return a.c}),r.d(t,"setTemplate",function(){return a.e}),r.d(t,"StyleManager",function(){return a.b});var u=r(1);r.d(t,"EScrollResult",function(){return u.a}),r.d(t,"PrefetchMixin",function(){return u.b});var l=r(15);r.d(t,"ACellTableSection",function(){return l.a}),r.d(t,"MultiTableRowRenderer",function(){return l.b});var c=r(6);r.d(t,"KeyFinder",function(){return c.b}),r.d(t,"EAnimationMode",function(){return c.a}),r.d(t,"noAnimationChange",function(){return c.d}),r.d(t,"defaultPhases",function(){return c.c});var d="1.0.0-alpha.3"},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(2),i=r(3),s=r(4),o=r(11),a=function(e){function t(t,r,i){void 0===i&&(i={});var a=e.call(this,Object(s.e)(t).querySelector("main > article"),i)||this;a.root=t,t.classList.add("lineup-engine"),a.style=new s.a(a.root,r);var u=a,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.a(t,e),Object.defineProperty(t.prototype,"context",{get:function(){return u.context},enumerable:!0,configurable:!0}),t.prototype.createHeader=function(e,t){return u.createHeader(e,t)},t.prototype.updateHeader=function(e,t){return u.updateHeader(e,t)},t.prototype.createCell=function(e,t,r){return u.createCell(e,t,r)},t.prototype.updateCell=function(e,t,r){return u.updateCell(e,t,r)},t.prototype.forEachRow=function(e){return u.forEachRow(e)},t}(o.a);return a.cell=new(l.bind.apply(l,[void 0,a.header,a.style,void 0].concat(i.mixins||[]))),a}return n.a(t,e),Object.defineProperty(t.prototype,"header",{get:function(){return this.root.querySelector("header > article")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerScroller",{get:function(){return this.root.querySelector("header")},enumerable:!0,configurable:!0}),t.prototype.addColumnMixin=function(e,t){this.cell.addColumnMixin(e,t)},t.prototype.init=function(){var t=this;this.cell.init();var r=this.body.parentElement,n=r.scrollLeft,i=r.clientWidth;r.addEventListener("scroll",this.createDelayedHandler(function(){var e=r.scrollLeft,s=r.clientWidth;if(!(Math.abs(n-e)<t.options.minScrollDelta&&Math.abs(i-s)<t.options.minScrollDelta)){var o=e>n;n=e,i=s,t.onScrolledHorizontally(e,s,o)}})),e.prototype.init.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.root.remove()},t.prototype.onScrolledHorizontally=function(e,t,r){return this.cell.onScrolledHorizontally(e,t,r)},t.prototype.updateHeaders=function(){this.cell.updateHeaders()},t.prototype.updateColumnWidths=function(){var e=this.context;this.style.update(e.defaultRowHeight-e.padding(-1),e.columns,e.column.padding)},t.prototype.recreate=function(t){var r=this.bodyScroller,n=r.scrollLeft;this.cell.recreate(n,r.clientWidth),e.prototype.recreate.call(this,t),r.scrollLeft=n},t.prototype.clearPool=function(){e.prototype.clearPool.call(this),this.cell.clearPool()},t.prototype.createRow=function(e,t){this.cell.createRow(e,t)},t.prototype.updateRow=function(e,t){this.cell.updateRow(e,t)},t}(i.a)},function(e,t,r){"use strict";var n=r(0),i=r(8),s=function(){function e(e,t){return this.adapter=e,this.prefetchTimeout=-1,this.options={prefetchRows:20,cleanUpRows:3,delay:50},Object.assign(this.options,t),this}return e.prototype.prefetchDown=function(){this.prefetchTimeout=-1;var e=this.adapter.context,t=Math.min(this.adapter.visible.last+this.options.prefetchRows,e.numberOfRows-1);this.adapter.visible.last===t&&this.adapter.visible.last>=this.adapter.visible.forcedLast+this.options.prefetchRows||(this.adapter.addAtBottom(this.adapter.visible.last+1,t),this.adapter.visible.last=t)},e.prototype.prefetchUp=function(){if(this.prefetchTimeout=-1,!(this.adapter.visible.first<=this.adapter.visible.forcedFirst-this.options.prefetchRows)){var e=this.adapter.context,t=this.adapter.scroller,r=Math.max(t.scrollTop-this.options.prefetchRows*e.defaultRowHeight,0),i=t.clientHeight,s=Object(n.d)(r,i,e.defaultRowHeight,e.exceptions,e.numberOfRows),o=s.first,a=s.firstRowPos;if(o!==this.adapter.visible.first){var u=this.adapter.syncFrozen?this.adapter.syncFrozen(o):0;this.adapter.addAtBeginning(o,this.adapter.visible.first-1,u),this.adapter.visible.first=o,this.adapter.updateOffset(a)}}},e.prototype.triggerPrefetch=function(e){this.prefetchTimeout>=0&&clearTimeout(this.prefetchTimeout);var t=this.adapter.visible.last<this.adapter.visible.forcedLast+this.options.prefetchRows,r=this.adapter.visible.first>this.adapter.visible.forcedFirst-this.options.prefetchRows,n=this.adapter.visible.last===this.adapter.context.numberOfRows,i=0===this.adapter.visible.first;if((!e||t||n)&&(e||r||i)){var s=e||i?this.prefetchDown.bind(this):this.prefetchUp.bind(this);this.prefetchTimeout=setTimeout(s,this.options.delay)}},e.prototype.cleanUpTop=function(e){this.prefetchTimeout=-1;var t=Math.max(0,e-this.options.cleanUpRows);if(!(t<=this.adapter.visible.first)){var r=this.adapter.syncFrozen?this.adapter.syncFrozen(t):0;this.adapter.removeFromBeginning(this.adapter.visible.first,t-1,r);var n=this.adapter.context,i=(t-this.adapter.visible.first)*n.defaultRowHeight;if(n.exceptions.length>0)for(var s=this.adapter.visible.first;s<t;++s)n.exceptionsLookup.has(s)&&(i+=n.exceptionsLookup.get(s)-n.defaultRowHeight);this.adapter.visible.first=t,this.adapter.updateOffset(this.adapter.visibleFirstRowPos+i),this.prefetchDown()}},e.prototype.cleanUpBottom=function(e){this.prefetchTimeout=-1;var t=e+this.options.cleanUpRows;this.adapter.visible.last<=t||(this.adapter.removeFromBottom(t+1,this.adapter.visible.last),this.adapter.visible.last=t,this.prefetchUp())},e.prototype.triggerCleanUp=function(e,t,r){this.prefetchTimeout>=0&&clearTimeout(this.prefetchTimeout),r&&e-this.options.cleanUpRows<=this.adapter.visible.first||!r&&this.adapter.visible.last<=t+this.options.cleanUpRows||(this.prefetchTimeout=setTimeout(r?this.cleanUpTop.bind(this):this.cleanUpBottom.bind(this),this.options.delay,r?e:t))},e.prototype.onScrolled=function(e,t){t===i.a.NONE?this.options.cleanUpRows>0&&this.triggerCleanUp(this.adapter.visible.forcedFirst,this.adapter.visible.forcedLast,e):this.options.prefetchRows>0&&this.triggerPrefetch(e)},e}();t.a=s},function(e,t,r){"use strict";var n=r(16);r.d(t,"a",function(){return n.a});var i=r(17);r.d(t,"b",function(){return i.a})},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(2),i=r(3),s=r(1),o=r(11),a=function(e){function t(t,r,i,s,a){void 0===a&&(a={});var u=e.call(this,r,a)||this;u.header=t,u.tableId=i,u.style=s;var l=u,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.a(t,e),Object.defineProperty(t.prototype,"context",{get:function(){return l.context},enumerable:!0,configurable:!0}),t.prototype.createHeader=function(e,t){return l.createHeader(e,t)},t.prototype.updateHeader=function(e,t){return l.updateHeader(e,t)},t.prototype.createCell=function(e,t,r){return l.createCell(e,t,r)},t.prototype.updateCell=function(e,t,r){return l.updateCell(e,t,r)},t.prototype.forEachRow=function(e){return l.forEachRow(e)},t}(o.a);return u.cell=new(c.bind.apply(c,[void 0,u.header,u.style,i].concat(a.mixins||[]))),u}return n.a(t,e),t.prototype.addColumnMixin=function(e,t){this.cell.addColumnMixin(e,t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.context.column.totalHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this.header.classList.contains("loading")},set:function(e){this.hidden!==e&&(this.header.classList.toggle("loading",e),this.body.classList.toggle("loading",e),this.onVisibilityChanged(!e))},enumerable:!0,configurable:!0}),t.prototype.onVisibilityChanged=function(e){},t.prototype.hide=function(){this.hidden=!0},t.prototype.show=function(e,t,r){this.hidden=!1,this.cell.onScrolledHorizontally(e,t,r)},t.prototype.init=function(){this.hide(),this.cell.init(),e.prototype.init.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.header.remove(),this.style.remove(this.tableId)},t.prototype.onScrolledVertically=function(t,r,n){return this.hidden?s.a.NONE:e.prototype.onScrolledVertically.call(this,t,r,n)},t.prototype.onScrolledHorizontally=function(e,t,r){return this.cell.onScrolledHorizontally(e,t,r)},t.prototype.updateHeaders=function(){this.cell.updateHeaders()},t.prototype.updateColumnWidths=function(){var e=this.context;this.style.update(e.defaultRowHeight-e.padding(-1),e.columns,e.column.padding,this.tableId)},t.prototype.recreate=function(t){var r=this.bodyScroller,n=r.scrollLeft;this.cell.recreate(n,r.clientWidth),e.prototype.recreate.call(this,t),r.scrollLeft=n},t.prototype.clearPool=function(){e.prototype.clearPool.call(this),this.cell.clearPool()},t.prototype.createRow=function(e,t){this.cell.createRow(e,t)},t.prototype.updateRow=function(e,t){this.cell.updateRow(e,t)},t}(i.b)},function(e,t,r){"use strict";var n=r(0),i=r(1),s=r(4),o=function(){function e(e,t,r){void 0===r&&(r={});var i=this;this.node=e,this.tableId=0,this.sections=[],this.visible={first:0,forcedFirst:0,last:0,forcedLast:0},this.options={columnPadding:0},this.context=Object(n.e)(0,500),Object.assign(this.options,r),e.innerHTML="<header></header><main></main>",e.classList.add("lineup-engine","lineup-multi-engine"),this.style=new s.a(this.node,t);var o=this.main,a=o.scrollLeft,u=o.clientWidth;o.addEventListener("scroll",function(){var e=o.scrollLeft,t=o.clientWidth;if(e!==a||t!==u){var r=e>a;a=e,u=t,i.onScrolledHorizontally(e,t,r)}})}return e.prototype.update=function(){this.context=Object(n.b)(this.sections.map(function(e){return e.width}),NaN,this.options.columnPadding),this.updateGrid(),this.onScrolledHorizontally(this.main.scrollLeft,this.main.clientWidth,!1)},e.prototype.updateGrid=function(){var e=s.a.gridColumn(this.sections);this.style.updateRule("multiTableRule",this.style.id+" > header, "+this.style.id+" > main { "+e+" }")},e.prototype.onScrolledHorizontally=function(e,t,r){var s=Object(n.d)(e,t,this.context.defaultRowHeight,this.context.exceptions,this.context.numberOfRows),o=s.first,a=s.last,u=this.visible;u.forcedFirst=o,u.forcedLast=a;var l=0;return this.sections.forEach(function(n,i){i>=o&&i<=a?n.show(Math.max(0,e-l),Math.min(e+t-l,n.width),r):n.hide(),l+=n.width}),u.first=o,u.last=a,i.a.PARTIAL},e.prototype.destroy=function(){this.sections.forEach(function(e){return e.destroy()}),this.node.remove()},Object.defineProperty(e.prototype,"doc",{get:function(){return this.node.ownerDocument},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"header",{get:function(){return this.node.querySelector("header")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"main",{get:function(){return this.node.querySelector("main")},enumerable:!0,configurable:!0}),e.prototype.pushTable=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=this.doc.createElement("article"),i=this.doc.createElement("article"),s="T"+this.tableId++,o=this.style.tableIds(s);n.id=o.header,i.id=o.body,this.header.appendChild(n),this.main.appendChild(i);var a=e.apply(void 0,[n,i,s,this.style].concat(t));return a.init(),this.sections.push(a),this.update(),a},e.prototype.pushSeparator=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=this.doc.createElement("section"),i=this.doc.createElement("section");this.header.appendChild(n),this.main.appendChild(i);var s=e.apply(void 0,[n,i,this.style].concat(t));return s.init(),this.sections.push(s),this.update(),s},e.prototype.remove=function(e){var t=this.sections.indexOf(e);return!(t<0)&&(this.sections.splice(t,1),e.destroy(),this.update(),!0)},e.prototype.clear=function(){this.sections.splice(0,this.sections.length).forEach(function(e){return e.destroy()}),this.update()},e.prototype.widthChanged=function(){this.update()},e}();t.a=o}])},e.exports=r()}).call(this,r("../node_modules/node-libs-browser/node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/popper.js/dist/esm/popper.js":function(e,t,r){"use strict";r.r(t),function(e){for(var r="undefined"!=typeof window&&"undefined"!=typeof document,n=["Edge","Trident","Firefox"],i=0,s=0;s<n.length;s+=1)if(r&&navigator.userAgent.indexOf(n[s])>=0){i=1;break}var o=r&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},i))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function u(e,t){if(1!==e.nodeType)return[];var r=getComputedStyle(e,null);return t?r[t]:r}function l(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=u(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/(auto|scroll)/.test(r+i+n)?e:c(l(e))}function d(e){var t=e&&e.offsetParent,r=t&&t.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TD","TABLE"].indexOf(t.nodeName)&&"static"===u(t,"position")?d(t):t:e?e.ownerDocument.documentElement:document.documentElement}function h(e){return null!==e.parentNode?h(e.parentNode):e}function f(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,i=r?t:e,s=document.createRange();s.setStart(n,0),s.setEnd(i,0);var o,a,u=s.commonAncestorContainer;if(e!==u&&t!==u||n.contains(i))return"BODY"===(a=(o=u).nodeName)||"HTML"!==a&&d(o.firstElementChild)!==o?d(u):u;var l=h(e);return l.host?f(l.host,t):f(e,h(t).host)}function p(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var n=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||n)[t]}return e[t]}function m(e,t){var r="x"===t?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"],10)+parseFloat(e["border"+n+"Width"],10)}var g=void 0,b=function(){return void 0===g&&(g=-1!==navigator.appVersion.indexOf("MSIE 10")),g};function y(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],b()?r["offset"+e]+n["margin"+("Height"===e?"Top":"Left")]+n["margin"+("Height"===e?"Bottom":"Right")]:0)}function v(){var e=document.body,t=document.documentElement,r=b()&&getComputedStyle(t);return{height:y("Height",e,t,r),width:y("Width",e,t,r)}}var E=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),C=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function O(e){return T({},e,{right:e.left+e.width,bottom:e.top+e.height})}function N(e){var t={};if(b())try{t=e.getBoundingClientRect();var r=p(e,"top"),n=p(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}catch(e){}else t=e.getBoundingClientRect();var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?v():{},o=s.width||e.clientWidth||i.right-i.left,a=s.height||e.clientHeight||i.bottom-i.top,l=e.offsetWidth-o,c=e.offsetHeight-a;if(l||c){var d=u(e);l-=m(d,"x"),c-=m(d,"y"),i.width-=l,i.height-=c}return O(i)}function R(e,t){var r=b(),n="HTML"===t.nodeName,i=N(e),s=N(t),o=c(e),a=u(t),l=parseFloat(a.borderTopWidth,10),d=parseFloat(a.borderLeftWidth,10),h=O({top:i.top-s.top-l,left:i.left-s.left-d,width:i.width,height:i.height});if(h.marginTop=0,h.marginLeft=0,!r&&n){var f=parseFloat(a.marginTop,10),m=parseFloat(a.marginLeft,10);h.top-=l-f,h.bottom-=l-f,h.left-=d-m,h.right-=d-m,h.marginTop=f,h.marginLeft=m}return(r?t.contains(o):t===o&&"BODY"!==o.nodeName)&&(h=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=p(t,"top"),i=p(t,"left"),s=r?-1:1;return e.top+=n*s,e.bottom+=n*s,e.left+=i*s,e.right+=i*s,e}(h,t)),h}function D(e,t,r,n){var i={top:0,left:0},s=f(e,t);if("viewport"===n)i=function(e){var t=e.ownerDocument.documentElement,r=R(e,t),n=Math.max(t.clientWidth,window.innerWidth||0),i=Math.max(t.clientHeight,window.innerHeight||0),s=p(t),o=p(t,"left");return O({top:s-r.top+r.marginTop,left:o-r.left+r.marginLeft,width:n,height:i})}(s);else{var o=void 0;"scrollParent"===n?"BODY"===(o=c(l(t))).nodeName&&(o=e.ownerDocument.documentElement):o="window"===n?e.ownerDocument.documentElement:n;var a=R(o,s);if("HTML"!==o.nodeName||function e(t){var r=t.nodeName;return"BODY"!==r&&"HTML"!==r&&("fixed"===u(t,"position")||e(l(t)))}(s))i=a;else{var d=v(),h=d.height,m=d.width;i.top+=a.top-a.marginTop,i.bottom=h+a.top,i.left+=a.left-a.marginLeft,i.right=m+a.left}}return i.left+=r,i.top+=r,i.right-=r,i.bottom-=r,i}function j(e,t,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=D(r,n,s,i),a={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},u=Object.keys(a).map(function(e){return T({key:e},a[e],{area:(t=a[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),l=u.filter(function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight}),c=l.length>0?l[0].key:u[0].key,d=e.split("-")[1];return c+(d?"-"+d:"")}function A(e,t,r){return R(r,f(t,r))}function x(e){var t=getComputedStyle(e),r=parseFloat(t.marginTop)+parseFloat(t.marginBottom),n=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+n,height:e.offsetHeight+r}}function M(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function S(e,t,r){r=r.split("-")[0];var n=x(e),i={width:n.width,height:n.height},s=-1!==["right","left"].indexOf(r),o=s?"top":"left",a=s?"left":"top",u=s?"height":"width",l=s?"width":"height";return i[o]=t[o]+t[u]/2-n[u]/2,i[a]=r===a?t[a]-n[l]:t[M(a)],i}function w(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function L(e,t,r){return(void 0===r?e:e.slice(0,function(e,t,r){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===r});var n=w(e,function(e){return e[t]===r});return e.indexOf(n)}(e,"name",r))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&a(r)&&(t.offsets.popper=O(t.offsets.popper),t.offsets.reference=O(t.offsets.reference),t=r(t,e))}),t}function I(e,t){return e.some(function(e){var r=e.name;return e.enabled&&r===t})}function V(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length-1;n++){var i=t[n],s=i?""+i+r:e;if(void 0!==document.body.style[s])return s}return null}function H(e){var t=e.ownerDocument;return t?t.defaultView:window}function P(e,t,r,n){r.updateBound=n,H(e).addEventListener("resize",r.updateBound,{passive:!0});var i=c(e);return function e(t,r,n,i){var s="BODY"===t.nodeName,o=s?t.ownerDocument.defaultView:t;o.addEventListener(r,n,{passive:!0}),s||e(c(o.parentNode),r,n,i),i.push(o)}(i,"scroll",r.updateBound,r.scrollParents),r.scrollElement=i,r.eventsEnabled=!0,r}function k(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,H(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function G(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function F(e,t){Object.keys(t).forEach(function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&G(t[r])&&(n="px"),e.style[r]=t[r]+n})}function $(e,t,r){var n=w(e,function(e){return e.name===t}),i=!!n&&e.some(function(e){return e.name===r&&e.enabled&&e.order<n.order});if(!i){var s="`"+t+"`",o="`"+r+"`";console.warn(o+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}var B=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],U=B.slice(3);function Y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=U.indexOf(e),n=U.slice(r+1).concat(U.slice(0,r));return t?n.reverse():n}var W={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function q(e,t,r,n){var i=[0,0],s=-1!==["right","left"].indexOf(n),o=e.split(/(\+|\-)/).map(function(e){return e.trim()}),a=o.indexOf(w(o,function(e){return-1!==e.search(/,|\s/)}));o[a]&&-1===o[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==a?[o.slice(0,a).concat([o[a].split(u)[0]]),[o[a].split(u)[1]].concat(o.slice(a+1))]:[o];return(l=l.map(function(e,n){var i=(1===n?!s:s)?"height":"width",o=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,r,n){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],o=i[2];if(!s)return e;if(0===o.indexOf("%")){var a=void 0;switch(o){case"%p":a=r;break;case"%":case"%r":default:a=n}return O(a)[t]/100*s}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s;return s}(e,i,t,r)})})).forEach(function(e,t){e.forEach(function(r,n){G(r)&&(i[t]+=r*("-"===e[n-1]?-1:1))})}),i}var z={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var i=e.offsets,s=i.reference,o=i.popper,a=-1!==["bottom","top"].indexOf(r),u=a?"left":"top",l=a?"width":"height",c={start:C({},u,s[u]),end:C({},u,s[u]+s[l]-o[l])};e.offsets.popper=T({},o,c[n])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var r=t.offset,n=e.placement,i=e.offsets,s=i.popper,o=i.reference,a=n.split("-")[0],u=void 0;return u=G(+r)?[+r,0]:q(r,s,o,a),"left"===a?(s.top+=u[0],s.left-=u[1]):"right"===a?(s.top+=u[0],s.left+=u[1]):"top"===a?(s.left+=u[0],s.top-=u[1]):"bottom"===a&&(s.left+=u[0],s.top+=u[1]),e.popper=s,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var r=t.boundariesElement||d(e.instance.popper);e.instance.reference===r&&(r=d(r));var n=D(e.instance.popper,e.instance.reference,t.padding,r);t.boundaries=n;var i=t.priority,s=e.offsets.popper,o={primary:function(e){var r=s[e];return s[e]<n[e]&&!t.escapeWithReference&&(r=Math.max(s[e],n[e])),C({},e,r)},secondary:function(e){var r="right"===e?"left":"top",i=s[r];return s[e]>n[e]&&!t.escapeWithReference&&(i=Math.min(s[r],n[e]-("right"===e?s.width:s.height))),C({},r,i)}};return i.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";s=T({},s,o[t](e))}),e.offsets.popper=s,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,r=t.popper,n=t.reference,i=e.placement.split("-")[0],s=Math.floor,o=-1!==["top","bottom"].indexOf(i),a=o?"right":"bottom",u=o?"left":"top",l=o?"width":"height";return r[a]<s(n[u])&&(e.offsets.popper[u]=s(n[u])-r[l]),r[u]>s(n[a])&&(e.offsets.popper[u]=s(n[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var r;if(!$(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],s=e.offsets,o=s.popper,a=s.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",d=l?"Top":"Left",h=d.toLowerCase(),f=l?"left":"top",p=l?"bottom":"right",m=x(n)[c];a[p]-m<o[h]&&(e.offsets.popper[h]-=o[h]-(a[p]-m)),a[h]+m>o[p]&&(e.offsets.popper[h]+=a[h]+m-o[p]),e.offsets.popper=O(e.offsets.popper);var g=a[h]+a[c]/2-m/2,b=u(e.instance.popper),y=parseFloat(b["margin"+d],10),v=parseFloat(b["border"+d+"Width"],10),E=g-e.offsets.popper[h]-y-v;return E=Math.max(Math.min(o[c]-m,E),0),e.arrowElement=n,e.offsets.arrow=(C(r={},h,Math.round(E)),C(r,f,""),r),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(I(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var r=D(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),n=e.placement.split("-")[0],i=M(n),s=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case W.FLIP:o=[n,i];break;case W.CLOCKWISE:o=Y(n);break;case W.COUNTERCLOCKWISE:o=Y(n,!0);break;default:o=t.behavior}return o.forEach(function(a,u){if(n!==a||o.length===u+1)return e;n=e.placement.split("-")[0],i=M(n);var l=e.offsets.popper,c=e.offsets.reference,d=Math.floor,h="left"===n&&d(l.right)>d(c.left)||"right"===n&&d(l.left)<d(c.right)||"top"===n&&d(l.bottom)>d(c.top)||"bottom"===n&&d(l.top)<d(c.bottom),f=d(l.left)<d(r.left),p=d(l.right)>d(r.right),m=d(l.top)<d(r.top),g=d(l.bottom)>d(r.bottom),b="left"===n&&f||"right"===n&&p||"top"===n&&m||"bottom"===n&&g,y=-1!==["top","bottom"].indexOf(n),v=!!t.flipVariations&&(y&&"start"===s&&f||y&&"end"===s&&p||!y&&"start"===s&&m||!y&&"end"===s&&g);(h||b||v)&&(e.flipped=!0,(h||b)&&(n=o[u+1]),v&&(s=function(e){return"end"===e?"start":"start"===e?"end":e}(s)),e.placement=n+(s?"-"+s:""),e.offsets.popper=T({},e.offsets.popper,S(e.instance.popper,e.offsets.reference,e.placement)),e=L(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,i=n.popper,s=n.reference,o=-1!==["left","right"].indexOf(r),a=-1===["top","left"].indexOf(r);return i[o?"left":"top"]=s[r]-(a?i[o?"width":"height"]:0),e.placement=M(t),e.offsets.popper=O(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!$(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=w(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var r=t.x,n=t.y,i=e.offsets.popper,s=w(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==s?s:t.gpuAcceleration,a=N(d(e.instance.popper)),u={position:i.position},l={left:Math.floor(i.left),top:Math.floor(i.top),bottom:Math.floor(i.bottom),right:Math.floor(i.right)},c="bottom"===r?"top":"bottom",h="right"===n?"left":"right",f=V("transform"),p=void 0,m=void 0;if(m="bottom"===c?-a.height+l.bottom:l.top,p="right"===h?-a.width+l.right:l.left,o&&f)u[f]="translate3d("+p+"px, "+m+"px, 0)",u[c]=0,u[h]=0,u.willChange="transform";else{var g="bottom"===c?-1:1,b="right"===h?-1:1;u[c]=m*g,u[h]=p*b,u.willChange=c+", "+h}var y={"x-placement":e.placement};return e.attributes=T({},y,e.attributes),e.styles=T({},u,e.styles),e.arrowStyles=T({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,r;return F(e.instance.popper,e.styles),t=e.instance.popper,r=e.attributes,Object.keys(r).forEach(function(e){!1!==r[e]?t.setAttribute(e,r[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&F(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,r,n,i){var s=A(0,t,e),o=j(r.placement,s,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",o),F(t,{position:"absolute"}),r},gpuAcceleration:void 0}}},K=function(){function e(t,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};E(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=o(this.update.bind(this)),this.options=T({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(T({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){n.options.modifiers[t]=T({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return T({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&a(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return _(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=A(this.state,this.popper,this.reference),e.placement=j(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=S(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=L(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,I(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[V("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=P(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return k.call(this)}}]),e}();K.Utils=("undefined"!=typeof window?window:e).PopperUtils,K.placements=B,K.Defaults=z,t.default=K}.call(this,r("../node_modules/webpack/buildin/global.js"))},"./node_modules/reflect-metadata/Reflect.js":function(e,t,r){(function(e,t){var r;!function(r){!function(n){var i="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),s=o(r);function o(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===i.Reflect?i.Reflect=r:s=o(i.Reflect,s),function(t){var r=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,i=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",s=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,a={__proto__:[]}instanceof Array,u=!o&&!a,l={create:o?function(){return w(Object.create(null))}:a?function(){return w({__proto__:null})}:function(){return w({})},has:u?function(e,t){return r.call(e,t)}:function(e,t){return t in e},get:u?function(e,t){return r.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),d="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,h=d||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[s]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,i)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[s]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function i(e,t){return t}function o(e,t){return[e,t]}}():Map,f=d||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new h}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[s]=function(){return this.keys()},e}():Set,p=new(d||"function"!=typeof WeakMap?function(){var e=16,t=l.create(),n=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=s(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=s(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){var r=s(e,!0);return r[this._key]=t,this},e.prototype.delete=function(e){var t=s(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+a()}while(l.has(t,e));return t[e]=!0,e}function s(e,t){if(!r.call(e,n)){if(!t)return;Object.defineProperty(e,n,{value:l.create()})}return e[n]}function o(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function a(){var t=function(e){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e);return o(new Array(e),e)}(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",n=0;n<e;++n){var i=t[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}():WeakMap);function m(e,t,r){var n=p.get(e);if(_(n)){if(!r)return;n=new h,p.set(e,n)}var i=n.get(t);if(_(i)){if(!r)return;i=new h,n.set(t,i)}return i}function g(e,t,r){var n=m(t,r,!1);return!_(n)&&!!n.has(e)}function b(e,t,r){var n=m(t,r,!1);if(!_(n))return n.get(e)}function y(e,t,r,n){var i=m(r,n,!0);i.set(e,t)}function v(e,t){var r=[],n=m(e,t,!1);if(_(n))return r;for(var i=n.keys(),o=function(e){var t=A(e,s);if(!D(t))throw new TypeError;var r=t.call(e);if(!T(r))throw new TypeError;return r}(i),a=0;;){var u=x(o);if(!u)return r.length=a,r;var l=u.value;try{r[a]=l}catch(e){try{M(o)}finally{throw e}}a++}}function E(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function _(e){return void 0===e}function C(e){return null===e}function T(e){return"object"==typeof e?null!==e:"function"==typeof e}function O(e,t){switch(E(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",n=A(e,i);if(void 0!==n){var s=n.call(e,r);if(T(s))throw new TypeError;return s}return function(e,t){if("string"===t){var r=e.toString;if(D(r)){var n=r.call(e);if(!T(n))return n}var i=e.valueOf;if(D(i)){var n=i.call(e);if(!T(n))return n}}else{var i=e.valueOf;if(D(i)){var n=i.call(e);if(!T(n))return n}var s=e.toString;if(D(s)){var n=s.call(e);if(!T(n))return n}}throw new TypeError}(e,"default"===r?"number":r)}function N(e){var t=O(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function R(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function D(e){return"function"==typeof e}function j(e){return"function"==typeof e}function A(e,t){var r=e[t];if(void 0!==r&&null!==r){if(!D(r))throw new TypeError;return r}}function x(e){var t=e.next();return!t.done&&t}function M(e){var t=e.return;t&&t.call(e)}function S(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c)return t;if(t!==c)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!=typeof i?t:i===e?t:i}function w(e){return e.__=void 0,delete e.__,e}t("decorate",function(e,t,r,n){if(_(r)){if(!R(e))throw new TypeError;if(!j(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=e[r],i=n(t);if(!_(i)&&!C(i)){if(!j(i))throw new TypeError;t=i}}return t}(e,t)}if(!R(e))throw new TypeError;if(!T(t))throw new TypeError;if(!T(n)&&!_(n)&&!C(n))throw new TypeError;return C(n)&&(n=void 0),r=N(r),function(e,t,r,n){for(var i=e.length-1;i>=0;--i){var s=e[i],o=s(t,r,n);if(!_(o)&&!C(o)){if(!T(o))throw new TypeError;n=o}}return n}(e,t,r,n)}),t("metadata",function(e,t){return function(r,n){if(!T(r))throw new TypeError;if(!_(n)&&!function(e){switch(E(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;y(e,t,r,n)}}),t("defineMetadata",function(e,t,r,n){if(!T(r))throw new TypeError;_(n)||(n=N(n));return y(e,t,r,n)}),t("hasMetadata",function(e,t,r){if(!T(t))throw new TypeError;_(r)||(r=N(r));return function e(t,r,n){var i=g(t,r,n);if(i)return!0;var s=S(r);if(!C(s))return e(t,s,n);return!1}(e,t,r)}),t("hasOwnMetadata",function(e,t,r){if(!T(t))throw new TypeError;_(r)||(r=N(r));return g(e,t,r)}),t("getMetadata",function(e,t,r){if(!T(t))throw new TypeError;_(r)||(r=N(r));return function e(t,r,n){var i=g(t,r,n);if(i)return b(t,r,n);var s=S(r);if(!C(s))return e(t,s,n);return}(e,t,r)}),t("getOwnMetadata",function(e,t,r){if(!T(t))throw new TypeError;_(r)||(r=N(r));return b(e,t,r)}),t("getMetadataKeys",function(e,t){if(!T(e))throw new TypeError;_(t)||(t=N(t));return function e(t,r){var n=v(t,r);var i=S(t);if(null===i)return n;var s=e(i,r);if(s.length<=0)return n;if(n.length<=0)return s;var o=new f;var a=[];for(var u=0,l=n;u<l.length;u++){var c=l[u],d=o.has(c);d||(o.add(c),a.push(c))}for(var h=0,p=s;h<p.length;h++){var c=p[h],d=o.has(c);d||(o.add(c),a.push(c))}return a}(e,t)}),t("getOwnMetadataKeys",function(e,t){if(!T(e))throw new TypeError;_(t)||(t=N(t));return v(e,t)}),t("deleteMetadata",function(e,t,r){if(!T(t))throw new TypeError;_(r)||(r=N(r));var n=m(t,r,!1);if(_(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var i=p.get(t);return i.delete(r),i.size>0||(p.delete(t),!0)})}(s)}()}(r||(r={}))}).call(this,r("../node_modules/process/browser.js"),r("../node_modules/webpack/buildin/global.js"))},"./node_modules/tslib/tslib.es6.js":function(e,t,r){"use strict";r.r(t),r.d(t,"__extends",function(){return i}),r.d(t,"__assign",function(){return s}),r.d(t,"__rest",function(){return o}),r.d(t,"__decorate",function(){return a}),r.d(t,"__param",function(){return u}),r.d(t,"__metadata",function(){return l}),r.d(t,"__awaiter",function(){return c}),r.d(t,"__generator",function(){return d}),r.d(t,"__exportStar",function(){return h}),r.d(t,"__values",function(){return f}),r.d(t,"__read",function(){return p}),r.d(t,"__spread",function(){return m}),r.d(t,"__await",function(){return g}),r.d(t,"__asyncGenerator",function(){return b}),r.d(t,"__asyncDelegator",function(){return y}),r.d(t,"__asyncValues",function(){return v}),r.d(t,"__makeTemplateObject",function(){return E}),r.d(t,"__importStar",function(){return _}),r.d(t,"__importDefault",function(){return C});var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]])}return r}function a(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function u(e,t){return function(r,n){t(r,n,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,a)}u((n=n.apply(e,t||[])).next())})}function d(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=n[2&s[0]?"return":s[0]?"throw":"next"])&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[0,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function h(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function f(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function p(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{(r=i[e](t)).value instanceof g?Promise.resolve(r.value.v).then(u,l):c(s[0][2],r)}catch(e){c(s[0][3],e)}var r}function u(e){a("next",e)}function l(e){a("throw",e)}function c(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function y(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){e[n]&&(t[n]=function(t){return(r=!r)?{value:g(e[n](t)),done:"return"===n}:i?i(t):t})}}function v(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):f(e)}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}},"./src/builder/DataBuilder.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return c}),r.d(t,"builder",function(){return d});var n=r("./src/provider/index.ts"),i=r("./src/provider/LocalDataProvider.ts"),s=r("./src/ui/LineUp.ts"),o=r("./src/ui/taggle/Taggle.ts"),a=r("./src/builder/column/ColumnBuilder.ts"),u=r("./src/builder/LineUpBuilder.ts"),l=r("./src/builder/RankingBuilder.ts");class c extends u.default{constructor(e){super(),this.data=e,this.columns=[],this.providerOptions={columnTypes:{}},this.rankBuilders=[],this._deriveColors=!1}singleSelection(){return this.providerOptions.multiSelection=!1,this}filterGlobally(){return this.providerOptions.filterGlobally=!0,this}noCriteriaLimits(){return this.providerOptions.maxGroupColumns=1/0,this.providerOptions.maxNestedSortingCriteria=1/0,this}limitCriteria(e,t){return this.providerOptions.maxGroupColumns=e,this.providerOptions.maxNestedSortingCriteria=t,this}deriveColumns(...e){return this.columns.push(...Object(n.deriveColumnDescriptions)(this.data,{columns:e})),this}deriveColors(){return this._deriveColors=!0,this}registerColumnType(e,t){this.providerOptions.columnTypes[e]=t}column(e){return this.columns.push(e instanceof a.default?e.build.bind(e):e),this}restore(e){return this.rankBuilders.push(t=>t.restore(e)),this}defaultRanking(e=!0){return this.rankBuilders.push(t=>t.deriveDefault(e)),this}ranking(e){return this.rankBuilders.push(e instanceof l.default?e.build.bind(e):e),this}buildData(){const e=this.columns.map(e=>"function"==typeof e?e(this.data):e);this._deriveColors&&Object(n.deriveColors)(e);const t=new i.default(this.data,e,this.providerOptions);return 0===this.rankBuilders.length&&this.defaultRanking(),this.rankBuilders.forEach(e=>e(t)),t}build(e){return new s.default(e,this.buildData(),this.options)}buildTaggle(e){return new o.default(e,this.buildData(),this.options)}}function d(e){return new c(e)}},"./src/builder/LineUpBuilder.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return n});class n{constructor(){this.options={renderers:{},toolbar:{}}}animated(e){return this.options.animated=e,this}sidePanel(e,t=!1){return this.options.sidePanel=e,this.options.sidePanelCollapsed=t,this}defaultSlopeGraphMode(e){return this.options.defaultSlopeGraphMode=e,this}summaryHeader(e){return this.options.summaryHeader=e,this}expandLineOnHover(e){return this.options.expandLineOnHover=e,this}overviewMode(){return this.options.overviewMode=!0,this}registerRenderer(e,t){return this.options.renderers[e]=t,this}registerToolbarAction(e,t){return this.options.toolbar[e]=t,this}rowHeight(e,t){return this.options.rowHeight=e,this.options.rowPadding=t,this}groupRowHeight(e,t){return this.options.groupHeight=e,this.options.groupPadding=t,this}dynamicHeight(e){return this.options.dynamicHeight=e,this}}},"./src/builder/RankingBuilder.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i}),r.d(t,"buildRanking",function(){return s});var n=r("./src/model/index.ts");class i{constructor(){this.columns=[],this.sort=[],this.groups=[]}sortBy(e,t=!0){if(e.includes(":")){const r=e.indexOf(":");t=e.slice(r+1),e=e.slice(0,r)}return this.sort.push({column:e,asc:!0===t||"a"===String(t)[0]}),this}groupBy(...e){return this.groups.push(...e),this}column(e){if("string"==typeof e){switch(e){case"_aggregate":return this.aggregate();case"_selection":return this.selection();case"_group":return this.group();case"_rank":return this.rank();case"_*":return this.supportTypes();case"*":return this.allColumns()}return this.columns.push(e),this}const t=e.label||null;switch(e.type){case"impose":return this.impose(t,e.column,e.categoricalColumn);case"min":case"max":case"median":case"mean":return console.assert(e.columns.length>=2),this.reduce(t,e.type,e.columns[0],e.columns[1],...e.columns.slice(2));case"nested":return console.assert(e.columns.length>=1),this.nested(t,e.columns[0],...e.columns.slice(1));case"script":return console.assert(e.columns.length>=2),this.scripted(t,e.code,e.columns[0],e.columns[1],...e.columns.slice(2));case"weightedSum":console.assert(e.columns.length>=2),console.assert(e.columns.length===e.weights.length);const r=[];return e.columns.slice(2).forEach((t,n)=>{r.push(t),r.push(e.weights[n+2])}),this.weightedSum(t,e.columns[0],e.weights[0],e.columns[1],e.weights[1],...r)}return console.error("invalid column type: ",e),this}impose(e,t,r){return this.columns.push({desc:r=>{const i=r.getColumns().find(e=>e.label===t||e.column===t);switch(i?i.type:""){case"boxplot":return Object(n.createImpositionBoxPlotDesc)(e||void 0);case"numbers":return Object(n.createImpositionsDesc)(e||void 0);default:return Object(n.createImpositionDesc)(e||void 0)}},columns:[t,r]}),this}nested(e,t,...r){return this.columns.push({desc:Object(n.createNestedDesc)(e||void 0),columns:[t].concat(r)}),this}weightedSum(e,t,r,i,s,...o){const a=[r,s].concat(o.filter((e,t)=>t%2==1));return this.columns.push({desc:Object(n.createStackDesc)(e||void 0),columns:[t,i].concat(o.filter((e,t)=>t%2==0)),post:e=>{e.setWeights(a)}}),this}reduce(e,t,r,i,...s){return this.columns.push({desc:Object(n.createReduceDesc)(e||void 0),columns:[r,i].concat(s),post:e=>{e.setReduce(t)}}),this}scripted(e,t,r,i,...s){return this.columns.push({desc:Object(n.createScriptDesc)(e||void 0),columns:[r,i].concat(s),post:e=>{e.setScript(t)}}),this}selection(){return this.columns.push({desc:Object(n.createSelectionDesc)(),columns:[]}),this}group(){return this.columns.push({desc:Object(n.createGroupDesc)(),columns:[]}),this}aggregate(){return this.columns.push({desc:Object(n.createAggregateDesc)(),columns:[]}),this}rank(){return this.columns.push({desc:Object(n.createRankDesc)(),columns:[]}),this}supportTypes(){return this.aggregate().rank().selection()}allColumns(){return this.columns.push(i.ALL_MAGIC_FLAG),this}build(e){const t=e.pushRanking(),r=e.getColumns(),n=e=>r.find(t=>t.label===e||t.column===e);this.columns.forEach(s=>{if(s===i.ALL_MAGIC_FLAG)return void r.forEach(r=>e.push(t,r));if("string"==typeof s)return void(r=>{const i=n(r);i?e.push(t,i):console.warn("invalid column: ",r)})(s);const o=e.create("function"==typeof s.desc?s.desc(e):s.desc);t.push(o),s.columns.forEach(t=>{const r=n(t),i=r?e.create(r):null;i?o.push(i):console.warn("invalid column: ",t)}),s.post&&s.post(o)});const s=t.children;{const r=[];this.groups.forEach(i=>{const o=s.find(e=>e.desc.label===i||e.desc.column===i);if(o)return void r.push(o);const a=n(i);a&&e.push(t,a)||console.warn("invalid group criteria column: ",i)}),r.length>0&&t.setGroupCriteria(r)}{const r=[];this.sort.forEach(({column:i,asc:o})=>{const a=s.find(e=>e.desc.label===i||e.desc.column===i);if(a)return void r.push({col:a,asc:o});const u=n(i);u&&e.push(t,u)||console.warn("invalid sort criteria column: ",i)}),r.length>0&&t.setSortCriteria(r)}return t}}function s(){return new i}i.ALL_MAGIC_FLAG="*"},"./src/builder/adapter/column.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"build",function(){return i}),r.d(t,"buildCategorical",function(){return s}),r.d(t,"buildDate",function(){return o}),r.d(t,"buildHierarchy",function(){return a}),r.d(t,"buildNumber",function(){return u}),r.d(t,"buildString",function(){return l});var n=r("./node_modules/d3-array/index.js");function i(e,t){const{column:r}=e,n={column:r,type:e.type,label:r[0].toUpperCase()+r.slice(1)};if(["label","description","frozen","color","width","renderer","groupRenderer","summaryRenderer","visible","fixed"].forEach(t=>{e.hasOwnProperty(t)&&(n[t]=e[t])}),e.asMap&&(console.assert(["categorical","date","number","string"].includes(n.type)),n.type+="Map"),null!=e.asArray){console.assert(["boolean","categorical","date","number","string"].includes(n.type)),n.type+="s";const t=n,r=e.asArray;Array.isArray(r)?(t.labels=r,t.dataLength=r.length):"number"==typeof r&&(t.dataLength=r)}return n}function s(e,t){const r=i(Object.assign({},e,{type:"categorical"}));if(e.asOrdinal&&(r.type="ordinal"),e.missingCategory&&(r.missingCategory=e.missingCategory),e.asSet&&("string"==typeof e.asSet&&(r.separator=e.asSet),r.type="set"),e.categories)r.categories=e.categories;else{const e=new Set(t.map(e=>e[r.column]));r.categories=Array.from(e).sort()}return r}function o(e){const t=i(Object.assign({},e,{type:"date"}));return["dateFormat","dateParse"].forEach(r=>{e.hasOwnProperty(r)&&(t[r]=e[r])}),t}function a(e){const t=i(Object.assign({},e,{type:"hierarchy"}));return["hierarchy","hierarchySeparator"].forEach(r=>{e.hasOwnProperty(r)&&(t[r]=e[r])}),t}function u(e,t){const r=i(Object.assign({},e,{type:"number"})),s=e.domain?e.domain:Object(n.extent)(t,e=>e[r.column]);return["sort"].forEach(t=>{e.hasOwnProperty(t)&&(r[t]=e[t])}),e.scripted?r.map={domain:s,code:e.scripted,type:"script"}:e.mapping&&"linear"!==e.mapping?r.map={type:e.mapping,domain:s,range:e.range||[0,1]}:(r.domain=s,e.range&&(r.range=e.range)),r}function l(e){const t=i(Object.assign({},e,{type:"string"}));return["pattern","patternTemplate"].forEach(r=>{e.hasOwnProperty(r)&&(t[r]=e[r])}),e.editable&&(t.type="annotate"),e.html&&(t.escape=!1),t}},"./src/builder/adapter/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"builderAdapter",function(){return a});var n=r("./src/builder/adapter/column.ts");r.d(t,"IBuilderAdapterCategoricalColumnDescProps",function(){return n.IBuilderAdapterCategoricalColumnDescProps}),r.d(t,"IBuilderAdapterColumnDescProps",function(){return n.IBuilderAdapterColumnDescProps}),r.d(t,"IBuilderAdapterDateColumnDescProps",function(){return n.IBuilderAdapterDateColumnDescProps}),r.d(t,"IBuilderAdapterHierarchyColumnDescProps",function(){return n.IBuilderAdapterHierarchyColumnDescProps}),r.d(t,"IBuilderAdapterNumberColumnDescProps",function(){return n.IBuilderAdapterNumberColumnDescProps}),r.d(t,"IBuilderAdapterStringColumnDescProps",function(){return n.IBuilderAdapterStringColumnDescProps});var i=r("./src/builder/adapter/lineup.ts");r.d(t,"IChangeDetecter",function(){return i.IChangeDetecter}),r.d(t,"IBuilderAdapter",function(){return i.IBuilderAdapter}),r.d(t,"IBuilderAdapterDataProps",function(){return i.IBuilderAdapterDataProps}),r.d(t,"IBuilderAdapterProps",function(){return i.IBuilderAdapterProps});var s=r("./src/builder/adapter/ranking.ts");r.d(t,"IBuilderAdapterImposeColumnProps",function(){return s.IBuilderAdapterImposeColumnProps}),r.d(t,"IBuilderAdapterNestedColumnProps",function(){return s.IBuilderAdapterNestedColumnProps}),r.d(t,"IBuilderAdapterRankingProps",function(){return s.IBuilderAdapterRankingProps}),r.d(t,"IBuilderAdapterReduceColumnProps",function(){return s.IBuilderAdapterReduceColumnProps}),r.d(t,"IBuilderAdapterScriptColumnProps",function(){return s.IBuilderAdapterScriptColumnProps}),r.d(t,"IBuilderAdapterSupportColumnProps",function(){return s.IBuilderAdapterSupportColumnProps}),r.d(t,"IBuilderAdapterWeightedSumColumnProps",function(){return s.IBuilderAdapterWeightedSumColumnProps});var o=r("./src/builder/adapter/utils.ts");const a={buildString:n.buildString,buildNumber:n.buildNumber,buildHierarchy:n.buildHierarchy,buildDate:n.buildDate,buildCategorical:n.buildCategorical,build:n.build,buildGeneric:s.buildGeneric,buildWeightedSumRanking:s.buildWeightedSumRanking,buildSupportRanking:s.buildSupportRanking,buildScriptRanking:s.buildScriptRanking,buildReduceRanking:s.buildReduceRanking,buildRanking:s.buildRanking,buildNestedRanking:s.buildNestedRanking,buildImposeRanking:s.buildImposeRanking,buildAllColumnsRanking:s.buildAllColumnsRanking,equal:o.equal,isSame:o.isSame,isTypeInstance:o.isTypeInstance,Adapter:i.Adapter}},"./src/builder/adapter/lineup.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"Adapter",function(){return l});var n=r("./src/ui/index.ts"),i=r("./src/builder/adapter/ranking.ts"),s=r("./src/builder/adapter/utils.ts"),o=r("./src/provider/index.ts");const a=["singleSelection","filterGlobally","noCriteriaLimits","maxGroupColumns","maxNestedSortingCriteria","columnTypes"],u=["animated","sidePanel","sidePanelCollapsed","defaultSlopeGraphMode","summaryHeader","expandLineOnHover","overviewMode","renderer","toolbar","rowHeight","rowPadding","groupHeight","groupPadding","dynamicHeight"];class l{constructor(e){this.adapter=e,this.data=null,this.instance=null,this.prevRankings=null,this.prevColumns=null,this.prevHighlight=null,this.onSelectionChanged=(e=>{this.props.onSelectionChanged&&!Object(s.equal)(this.props.selection,e)&&this.props.onSelectionChanged(e)}),this.onHighlightChanged=(e=>{(null!=this.prevHighlight?this.prevHighlight:-1)!==e&&(this.prevHighlight=e,this.props.onHighlightChanged&&this.props.onHighlightChanged(e))})}get props(){return this.adapter.props()}componentDidMount(){this.data=this.buildProvider(),this.instance=this.adapter.createInstance(this.data,Object(s.pick)(this.props,u)),this.instance.on(n.LineUp.EVENT_HIGHLIGHT_CHANGED,this.onHighlightChanged)}resolveColumnDescs(e){const t=this.adapter.columnDescs(e),r=0===t.length||Boolean(this.props.deriveColumns),n=Array.isArray(this.props.deriveColumns)?this.props.deriveColumns:[];return{columns:t,deriveColors:Boolean(this.props.deriveColors),deriveColumns:r,deriveColumnNames:n}}resolveRankings(){const e=this.adapter.rankingBuilders();return{builders:e,restore:this.props.restore,derive:0===e.length&&!this.props.restore||Boolean(this.props.defaultRanking),supportTypes:"noSupportTypes"!==this.props.defaultRanking}}buildColumns(e,t){this.prevColumns=t;const r=t.columns.slice();return t.deriveColumns&&r.push(...Object(o.deriveColumnDescriptions)(e,{columns:t.deriveColumnNames})),t.deriveColors&&Object(o.deriveColors)(r),r}buildRankings(e,t){e.clearRankings(),this.prevRankings=t,t.derive&&e.deriveDefault(t.supportTypes),t.restore&&e.restore(t.restore),t.builders.forEach(t=>Object(i.buildRanking)(t,e))}buildProvider(){const e=this.buildColumns(this.props.data,this.resolveColumnDescs(this.props.data)),t=new o.LocalDataProvider(this.props.data,e,Object(s.pick)(this.props,a));return this.buildRankings(t,this.resolveRankings()),t.setSelection(this.props.selection||[]),t.on(o.LocalDataProvider.EVENT_SELECTION_CHANGED,this.onSelectionChanged),t}updateLineUp(e,t){const r=Object(s.isSame)(this.props,e,u);return r?(this.instance&&this.instance.destroy(),this.instance=this.adapter.createInstance(this.data,r),this.prevHighlight=null==this.props.highlight?-1:this.props.highlight,this.instance.setHighlight(this.prevHighlight),this.instance.on(n.LineUp.EVENT_HIGHLIGHT_CHANGED,this.onHighlightChanged),!0):(t&&this.instance.setDataProvider(this.data),!!(t||null!=this.props.highlight&&this.prevHighlight!==this.props.highlight)&&(this.prevHighlight=null==this.props.highlight?-1:this.props.highlight,this.instance.on(n.LineUp.EVENT_HIGHLIGHT_CHANGED,null),this.instance.setHighlight(this.prevHighlight),this.instance.on(n.LineUp.EVENT_HIGHLIGHT_CHANGED,this.onHighlightChanged),!0))}updateProvider(e){if(Object(s.isSame)(this.props,e,a)||!this.data||e("data"))return this.data=this.buildProvider(),!0;const t=this.resolveRankings(),r=this.resolveColumnDescs(this.props.data),n=!Object(s.equal)(this.prevColumns,r);if(n){const e=this.buildColumns(this.props.data,r);this.data.clearColumns(),e.forEach(e=>this.data.pushDesc(e))}return!n&&Object(s.equal)(t,this.prevRankings)||this.buildRankings(this.data,t),this.data.on(o.LocalDataProvider.EVENT_SELECTION_CHANGED,null),this.data.setSelection(this.props.selection||[]),this.data.on(o.LocalDataProvider.EVENT_SELECTION_CHANGED,this.onSelectionChanged),!1}componentDidUpdate(e){const t=this.updateProvider(e);this.updateLineUp(e,t)}componentWillUnmount(){this.instance&&(this.instance.destroy(),this.instance=null),this.data=null}}},"./src/builder/adapter/ranking.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"buildRanking",function(){return i}),r.d(t,"buildGeneric",function(){return s}),r.d(t,"buildImposeRanking",function(){return o}),r.d(t,"buildNestedRanking",function(){return a}),r.d(t,"buildWeightedSumRanking",function(){return u}),r.d(t,"buildReduceRanking",function(){return l}),r.d(t,"buildScriptRanking",function(){return c}),r.d(t,"buildSupportRanking",function(){return d}),r.d(t,"buildAllColumnsRanking",function(){return h});var n=r("./src/builder/index.ts");function i(e,t){const r=Object(n.buildRanking)();if(e.sortBy){(Array.isArray(e.sortBy)?e.sortBy:[e.sortBy]).forEach(e=>{"string"==typeof e?r.sortBy(e):r.sortBy(e.column,e.asc)})}if(e.groupBy){const t=Array.isArray(e.groupBy)?e.groupBy:[e.groupBy];r.groupBy(...t)}return e.columns&&e.columns.forEach(e=>r.column(e)),r.build(t)}function s(e){return e.column}function o(e){return Object.assign({type:"impose"},e)}function a(e,t){const r={type:"nested",columns:t};return e.label&&(r.label=e.label),r}function u(e,t){const r={type:"weightedSum",columns:t.map(e=>e.column),weights:t.map(e=>e.weight)};return e.label&&(r.label=e.label),r}function l(e,t){const r={type:e.type,columns:t};return e.label&&(r.label=e.label),r}function c(e,t){const r={type:"script",code:e.code,columns:t};return e.label&&(r.label=e.label),r}function d(e){return`_${e.type}`}function h(){return"*"}},"./src/builder/adapter/utils.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"equal",function(){return i}),r.d(t,"isTypeInstance",function(){return s}),r.d(t,"pick",function(){return o}),r.d(t,"isSame",function(){return a});var n=r("./node_modules/fast-deep-equal/index.js");const i=n;function s(e,t){let r=e;for(;r&&r!==t;)r=r.__proto__;return r===t}function o(e,t){const r={};return t.forEach(t=>{e.hasOwnProperty(t)&&(r[t]=e[t])}),r}function a(e,t,r){return r.every(e=>!t(e))?null:o(e,r)}},"./src/builder/column/CategoricalColumnBuilder.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i}),r.d(t,"buildCategoricalColumn",function(){return s});var n=r("./src/builder/column/ColumnBuilder.ts");class i extends n.default{constructor(e){super("categorical",e)}asOrdinal(){return this.desc.type="ordinal",this}categories(e){return this.desc.categories=e,this}missingCategory(e){return this.desc.missingCategory=e,this}asSet(e){return e&&(this.desc.separator=e),this.desc.type="set",this}build(e){if(!this.desc.categories){const t=new Set(e.map(e=>e[this.desc.column]));this.categories(Array.from(t).sort())}return super.build(e)}}function s(e,t){const r=new i(e);return t&&r.categories(t),r}},"./src/builder/column/ColumnBuilder.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return n}),r.d(t,"buildColumn",function(){return i});class n{constructor(e,t){this.desc={column:t,type:e,label:t[0].toUpperCase()+t.slice(1)}}label(e){return this.desc.label=e,this}description(e){return this.desc.description=e,this}frozen(){return this.desc.frozen=!0,this}renderer(e,t,r){return e&&(this.desc.renderer=e),t&&(this.desc.groupRenderer=t),r&&(this.desc.summaryRenderer=r),this}custom(e,t){return this.desc[e]=t,this}width(e){return this.desc.width=e,this}color(e){return this.desc.color=e,this}asArray(e){console.assert(["boolean","categorical","date","number","string"].includes(this.desc.type)),this.desc.type+="s";const t=this.desc;return Array.isArray(e)?(t.labels=e,t.dataLength=e.length):"number"==typeof e&&(t.dataLength=e),this}asMap(){return console.assert(["categorical","date","number","string"].includes(this.desc.type)),this.desc.type+="Map",this}build(e){return this.desc}}function i(e,t){return new n(e,t)}},"./src/builder/column/DateColumnBuilder.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i}),r.d(t,"buildDateColumn",function(){return s});var n=r("./src/builder/column/ColumnBuilder.ts");class i extends n.default{constructor(e){super("date",e)}format(e,t){return this.desc.dateFormat=e,t&&(this.desc.dateParse=t),this}}function s(e){return new i(e)}},"./src/builder/column/HierarchyColumnBuilder.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i}),r.d(t,"buildHierarchicalColumn",function(){return s});var n=r("./src/builder/column/ColumnBuilder.ts");class i extends n.default{constructor(e){super("hierarchy",e)}hierarchy(e,t){return this.desc.hierarchy=e,t&&(this.desc.hierarchySeparator=t),this}build(e){return console.assert(Boolean(this.desc.hierarchy)),super.build(e)}}function s(e,t){const r=new i(e);return t&&r.hierarchy(t),r}},"./src/builder/column/NumberColumnBuilder.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s}),r.d(t,"buildNumberColumn",function(){return o});var n=r("./node_modules/d3-array/index.js"),i=r("./src/builder/column/ColumnBuilder.ts");class s extends i.default{constructor(e){super("number",e)}mapping(e,t,r){return"linear"===e?(this.desc.domain=t,void(r&&(this.desc.range=r))):(this.desc.map={type:e,domain:t,range:r||[0,1]},this)}scripted(e,t){return this.desc.map={domain:t,code:e,type:"script"},this}asArray(e,t){return t&&(this.desc.sort=t),super.asArray(e)}asMap(e){return e&&(this.desc.sort=e),super.asMap()}asBoxPlot(e){return e&&(this.desc.sort=e),this.desc.type="boxplot",this}build(e){return this.desc.map||this.desc.domain||this.mapping("linear",Object(n.extent)(e,e=>e[this.desc.column])),super.build(e)}}function o(e,t){const r=new s(e);return t&&r.mapping("linear",t),r}},"./src/builder/column/StringColumnBuilder.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i}),r.d(t,"buildStringColumn",function(){return s});var n=r("./src/builder/column/ColumnBuilder.ts");class i extends n.default{constructor(e){super("string",e)}editable(){return this.desc.type="annotate",this}html(){return this.desc.escape=!1,this}pattern(e,t){return this.desc.pattern=e,t&&(this.desc.patternTemplates=t),this}}function s(e){return new i(e)}},"./src/builder/column/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/builder/column/CategoricalColumnBuilder.ts");r.d(t,"buildCategoricalColumn",function(){return n.buildCategoricalColumn});var i=r("./src/builder/column/ColumnBuilder.ts");r.d(t,"buildColumn",function(){return i.buildColumn});var s=r("./src/builder/column/NumberColumnBuilder.ts");r.d(t,"buildNumberColumn",function(){return s.buildNumberColumn});var o=r("./src/builder/column/StringColumnBuilder.ts");r.d(t,"buildStringColumn",function(){return o.buildStringColumn});var a=r("./src/builder/column/DateColumnBuilder.ts");r.d(t,"buildDateColumn",function(){return a.buildDateColumn});var u=r("./src/builder/column/HierarchyColumnBuilder.ts");r.d(t,"buildHierarchicalColumn",function(){return u.buildHierarchicalColumn})},"./src/builder/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"asTaggle",function(){return a}),r.d(t,"asLineUp",function(){return u});var n=r("./src/builder/DataBuilder.ts");r.d(t,"builder",function(){return n.builder});var i=r("./src/builder/column/index.ts");r.d(t,"buildCategoricalColumn",function(){return i.buildCategoricalColumn}),r.d(t,"buildColumn",function(){return i.buildColumn}),r.d(t,"buildNumberColumn",function(){return i.buildNumberColumn}),r.d(t,"buildStringColumn",function(){return i.buildStringColumn}),r.d(t,"buildDateColumn",function(){return i.buildDateColumn}),r.d(t,"buildHierarchicalColumn",function(){return i.buildHierarchicalColumn});var s=r("./src/builder/RankingBuilder.ts");r.d(t,"buildRanking",function(){return s.buildRanking});var o=r("./src/builder/adapter/index.ts");function a(e,t,...r){return Object(n.builder)(t).deriveColumns(...r).deriveColors().defaultRanking().buildTaggle(e)}function u(e,t,...r){return Object(n.builder)(t).deriveColumns(...r).deriveColors().defaultRanking().build(e)}r.d(t,"IBuilderAdapterCategoricalColumnDescProps",function(){return o.IBuilderAdapterCategoricalColumnDescProps}),r.d(t,"IBuilderAdapterColumnDescProps",function(){return o.IBuilderAdapterColumnDescProps}),r.d(t,"IBuilderAdapterDateColumnDescProps",function(){return o.IBuilderAdapterDateColumnDescProps}),r.d(t,"IBuilderAdapterHierarchyColumnDescProps",function(){return o.IBuilderAdapterHierarchyColumnDescProps}),r.d(t,"IBuilderAdapterNumberColumnDescProps",function(){return o.IBuilderAdapterNumberColumnDescProps}),r.d(t,"IBuilderAdapterStringColumnDescProps",function(){return o.IBuilderAdapterStringColumnDescProps}),r.d(t,"IChangeDetecter",function(){return o.IChangeDetecter}),r.d(t,"IBuilderAdapter",function(){return o.IBuilderAdapter}),r.d(t,"IBuilderAdapterDataProps",function(){return o.IBuilderAdapterDataProps}),r.d(t,"IBuilderAdapterProps",function(){return o.IBuilderAdapterProps}),r.d(t,"IBuilderAdapterImposeColumnProps",function(){return o.IBuilderAdapterImposeColumnProps}),r.d(t,"IBuilderAdapterNestedColumnProps",function(){return o.IBuilderAdapterNestedColumnProps}),r.d(t,"IBuilderAdapterRankingProps",function(){return o.IBuilderAdapterRankingProps}),r.d(t,"IBuilderAdapterReduceColumnProps",function(){return o.IBuilderAdapterReduceColumnProps}),r.d(t,"IBuilderAdapterScriptColumnProps",function(){return o.IBuilderAdapterScriptColumnProps}),r.d(t,"IBuilderAdapterSupportColumnProps",function(){return o.IBuilderAdapterSupportColumnProps}),r.d(t,"IBuilderAdapterWeightedSumColumnProps",function(){return o.IBuilderAdapterWeightedSumColumnProps}),r.d(t,"builderAdapter",function(){return o.builderAdapter})},"./src/config.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"defaultOptions",function(){return o});var n=r("./src/renderer/index.ts"),i=r("./src/ui/index.ts"),s=r("./src/interfaces.ts");function o(){return{idPrefix:`lu${Math.random().toString(36).slice(-8).substr(0,3)}`,toolbar:Object.assign({},i.toolbarActions),renderers:Object.assign({},n.renderers),summaryHeader:!0,animated:!0,expandLineOnHover:!1,sidePanel:!0,sidePanelCollapsed:!1,defaultSlopeGraphMode:"item",overviewMode:!1,rowHeight:18,groupHeight:40,groupPadding:5,rowPadding:2,levelOfDetail:()=>"high",customRowUpdate:()=>void 0,dynamicHeight:()=>null}}r.d(t,"DENSE_HISTOGRAM",function(){return s.DENSE_HISTOGRAM}),r.d(t,"MIN_LABEL_WIDTH",function(){return s.MIN_LABEL_WIDTH}),r.d(t,"HOVER_DELAY_SHOW_DETAIL",function(){return s.HOVER_DELAY_SHOW_DETAIL})},"./src/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"version",function(){return h}),r.d(t,"buildId",function(){return f}),r.d(t,"license",function(){return p}),r.d(t,"createLocalDataProvider",function(){return m}),r.d(t,"createLineUp",function(){return g}),r.d(t,"createTaggle",function(){return b});r("./src/style.scss");var n=r("./src/provider/LocalDataProvider.ts"),i=r("./src/ui/LineUp.ts"),s=r("./src/ui/taggle/index.ts"),o=r("./src/provider/index.ts");r.d(t,"DataProvider",function(){return o.DataProvider}),r.d(t,"LocalDataProvider",function(){return o.LocalDataProvider}),r.d(t,"RemoteDataProvider",function(){return o.RemoteDataProvider}),r.d(t,"IExportOptions",function(){return o.IExportOptions}),r.d(t,"deriveColumnDescriptions",function(){return o.deriveColumnDescriptions}),r.d(t,"deriveColors",function(){return o.deriveColors}),r.d(t,"exportRanking",function(){return o.exportRanking});var a=r("./src/renderer/index.ts");r.d(t,"IRenderContext",function(){return a.IRenderContext}),r.d(t,"IImposer",function(){return a.IImposer}),r.d(t,"IGroupCellRenderer",function(){return a.IGroupCellRenderer}),r.d(t,"ICellRenderer",function(){return a.ICellRenderer}),r.d(t,"ICellRendererFactory",function(){return a.ICellRendererFactory}),r.d(t,"renderers",function(){return a.renderers}),r.d(t,"chooseRenderer",function(){return a.chooseRenderer}),r.d(t,"chooseGroupRenderer",function(){return a.chooseGroupRenderer}),r.d(t,"chooseSummaryRenderer",function(){return a.chooseSummaryRenderer}),r.d(t,"possibleRenderer",function(){return a.possibleRenderer}),r.d(t,"possibleGroupRenderer",function(){return a.possibleGroupRenderer}),r.d(t,"possibleSummaryRenderer",function(){return a.possibleSummaryRenderer});var u=r("./src/model/index.ts");r.d(t,"isSupportType",function(){return u.isSupportType}),r.d(t,"Category",function(){return u.Category}),r.d(t,"SupportType",function(){return u.SupportType}),r.d(t,"isMissingValue",function(){return u.isMissingValue}),r.d(t,"isUnknown",function(){return u.isUnknown}),r.d(t,"FIRST_IS_NAN",function(){return u.FIRST_IS_NAN}),r.d(t,"missingGroup",function(){return u.missingGroup}),r.d(t,"ActionColumn",function(){return u.ActionColumn}),r.d(t,"AggregateGroupColumn",function(){return u.AggregateGroupColumn}),r.d(t,"AnnotateColumn",function(){return u.AnnotateColumn}),r.d(t,"ArrayColumn",function(){return u.ArrayColumn}),r.d(t,"BooleanColumn",function(){return u.BooleanColumn}),r.d(t,"BooleansColumn",function(){return u.BooleansColumn}),r.d(t,"BoxPlotColumn",function(){return u.BoxPlotColumn}),r.d(t,"CategoricalColumn",function(){return u.CategoricalColumn}),r.d(t,"CategoricalMapColumn",function(){return u.CategoricalMapColumn}),r.d(t,"CategoricalsColumn",function(){return u.CategoricalsColumn}),r.d(t,"Column",function(){return u.Column}),r.d(t,"CompositeColumn",function(){return u.CompositeColumn}),r.d(t,"CompositeNumberColumn",function(){return u.CompositeNumberColumn}),r.d(t,"DateColumn",function(){return u.DateColumn}),r.d(t,"DatesMapColumn",function(){return u.DatesMapColumn}),r.d(t,"DummyColumn",function(){return u.DummyColumn}),r.d(t,"GroupColumn",function(){return u.GroupColumn}),r.d(t,"HierarchyColumn",function(){return u.HierarchyColumn}),r.d(t,"ImpositionBoxPlotColumn",function(){return u.ImpositionBoxPlotColumn}),r.d(t,"ImpositionCompositeColumn",function(){return u.ImpositionCompositeColumn}),r.d(t,"ImpositionCompositesColumn",function(){return u.ImpositionCompositesColumn}),r.d(t,"MapColumn",function(){return u.MapColumn}),r.d(t,"MultiLevelCompositeColumn",function(){return u.MultiLevelCompositeColumn}),r.d(t,"NestedColumn",function(){return u.NestedColumn}),r.d(t,"NumberColumn",function(){return u.NumberColumn}),r.d(t,"NumberMapColumn",function(){return u.NumberMapColumn}),r.d(t,"NumbersColumn",function(){return u.NumbersColumn}),r.d(t,"OrdinalColumn",function(){return u.OrdinalColumn}),r.d(t,"RankColumn",function(){return u.RankColumn}),r.d(t,"Ranking",function(){return u.Ranking}),r.d(t,"ReduceColumn",function(){return u.ReduceColumn}),r.d(t,"ScriptColumn",function(){return u.ScriptColumn}),r.d(t,"SelectionColumn",function(){return u.SelectionColumn}),r.d(t,"SetColumn",function(){return u.SetColumn}),r.d(t,"StackColumn",function(){return u.StackColumn}),r.d(t,"StringColumn",function(){return u.StringColumn}),r.d(t,"StringMapColumn",function(){return u.StringMapColumn}),r.d(t,"StringsColumn",function(){return u.StringsColumn}),r.d(t,"ValueColumn",function(){return u.ValueColumn}),r.d(t,"defineColumn",function(){return u.defineColumn}),r.d(t,"models",function(){return u.models}),r.d(t,"defaultGroup",function(){return u.defaultGroup}),r.d(t,"isGroup",function(){return u.isGroup}),r.d(t,"isSetColumn",function(){return u.isSetColumn}),r.d(t,"toCategory",function(){return u.toCategory}),r.d(t,"compareCategory",function(){return u.compareCategory}),r.d(t,"toCategories",function(){return u.toCategories}),r.d(t,"isCategoricalColumn",function(){return u.isCategoricalColumn}),r.d(t,"isEqualCategoricalFilter",function(){return u.isEqualCategoricalFilter}),r.d(t,"isCategoryIncluded",function(){return u.isCategoryIncluded}),r.d(t,"DEFAULT_FORMATTER",function(){return u.DEFAULT_FORMATTER}),r.d(t,"isNumberColumn",function(){return u.isNumberColumn}),r.d(t,"compareBoxPlot",function(){return u.compareBoxPlot}),r.d(t,"getBoxPlotNumber",function(){return u.getBoxPlotNumber}),r.d(t,"ESortMethod",function(){return u.ESortMethod}),r.d(t,"isBoxPlotColumn",function(){return u.isBoxPlotColumn}),r.d(t,"EAdvancedSortMethod",function(){return u.EAdvancedSortMethod}),r.d(t,"isNumbersColumn",function(){return u.isNumbersColumn}),r.d(t,"numberCompare",function(){return u.numberCompare}),r.d(t,"noNumberFilter",function(){return u.noNumberFilter}),r.d(t,"isEqualNumberFilter",function(){return u.isEqualNumberFilter}),r.d(t,"isNumberIncluded",function(){return u.isNumberIncluded}),r.d(t,"isMapColumn",function(){return u.isMapColumn}),r.d(t,"isArrayColumn",function(){return u.isArrayColumn}),r.d(t,"createActionDesc",function(){return u.createActionDesc}),r.d(t,"createAggregateDesc",function(){return u.createAggregateDesc}),r.d(t,"IColumnDesc",function(){return u.IColumnDesc}),r.d(t,"isMultiLevelColumn",function(){return u.isMultiLevelColumn}),r.d(t,"createGroupDesc",function(){return u.createGroupDesc}),r.d(t,"resolveInnerNodes",function(){return u.resolveInnerNodes}),r.d(t,"isHierarchical",function(){return u.isHierarchical}),r.d(t,"deriveHierarchy",function(){return u.deriveHierarchy}),r.d(t,"createImpositionBoxPlotDesc",function(){return u.createImpositionBoxPlotDesc}),r.d(t,"createImpositionDesc",function(){return u.createImpositionDesc}),r.d(t,"createImpositionsDesc",function(){return u.createImpositionsDesc}),r.d(t,"isMapAbleColumn",function(){return u.isMapAbleColumn}),r.d(t,"ScaleMappingFunction",function(){return u.ScaleMappingFunction}),r.d(t,"ScriptMappingFunction",function(){return u.ScriptMappingFunction}),r.d(t,"createMappingFunction",function(){return u.createMappingFunction}),r.d(t,"restoreMapping",function(){return u.restoreMapping}),r.d(t,"createNestedDesc",function(){return u.createNestedDesc}),r.d(t,"INumberColumn",function(){return u.INumberColumn}),r.d(t,"createRankDesc",function(){return u.createRankDesc}),r.d(t,"createReduceDesc",function(){return u.createReduceDesc}),r.d(t,"createScriptDesc",function(){return u.createScriptDesc}),r.d(t,"createSelectionDesc",function(){return u.createSelectionDesc}),r.d(t,"createStackDesc",function(){return u.createStackDesc}),r.d(t,"EAlignment",function(){return u.EAlignment});var l=r("./src/builder/index.ts");r.d(t,"asTaggle",function(){return l.asTaggle}),r.d(t,"asLineUp",function(){return l.asLineUp}),r.d(t,"builder",function(){return l.builder}),r.d(t,"buildRanking",function(){return l.buildRanking}),r.d(t,"IBuilderAdapterCategoricalColumnDescProps",function(){return l.IBuilderAdapterCategoricalColumnDescProps}),r.d(t,"IBuilderAdapterColumnDescProps",function(){return l.IBuilderAdapterColumnDescProps}),r.d(t,"IBuilderAdapterDateColumnDescProps",function(){return l.IBuilderAdapterDateColumnDescProps}),r.d(t,"IBuilderAdapterHierarchyColumnDescProps",function(){return l.IBuilderAdapterHierarchyColumnDescProps}),r.d(t,"IBuilderAdapterNumberColumnDescProps",function(){return l.IBuilderAdapterNumberColumnDescProps}),r.d(t,"IBuilderAdapterStringColumnDescProps",function(){return l.IBuilderAdapterStringColumnDescProps}),r.d(t,"IChangeDetecter",function(){return l.IChangeDetecter}),r.d(t,"IBuilderAdapter",function(){return l.IBuilderAdapter}),r.d(t,"IBuilderAdapterDataProps",function(){return l.IBuilderAdapterDataProps}),r.d(t,"IBuilderAdapterProps",function(){return l.IBuilderAdapterProps}),r.d(t,"IBuilderAdapterImposeColumnProps",function(){return l.IBuilderAdapterImposeColumnProps}),r.d(t,"IBuilderAdapterNestedColumnProps",function(){return l.IBuilderAdapterNestedColumnProps}),r.d(t,"IBuilderAdapterRankingProps",function(){return l.IBuilderAdapterRankingProps}),r.d(t,"IBuilderAdapterReduceColumnProps",function(){return l.IBuilderAdapterReduceColumnProps}),r.d(t,"IBuilderAdapterScriptColumnProps",function(){return l.IBuilderAdapterScriptColumnProps}),r.d(t,"IBuilderAdapterSupportColumnProps",function(){return l.IBuilderAdapterSupportColumnProps}),r.d(t,"IBuilderAdapterWeightedSumColumnProps",function(){return l.IBuilderAdapterWeightedSumColumnProps}),r.d(t,"builderAdapter",function(){return l.builderAdapter}),r.d(t,"buildCategoricalColumn",function(){return l.buildCategoricalColumn}),r.d(t,"buildColumn",function(){return l.buildColumn}),r.d(t,"buildNumberColumn",function(){return l.buildNumberColumn}),r.d(t,"buildStringColumn",function(){return l.buildStringColumn}),r.d(t,"buildDateColumn",function(){return l.buildDateColumn}),r.d(t,"buildHierarchicalColumn",function(){return l.buildHierarchicalColumn});var c=r("./src/ui/index.ts");r.d(t,"Taggle",function(){return c.Taggle}),r.d(t,"ITaggleOptions",function(){return c.ITaggleOptions}),r.d(t,"TaggleRenderer",function(){return c.TaggleRenderer}),r.d(t,"IRuleInstance",function(){return c.IRuleInstance}),r.d(t,"IRule",function(){return c.IRule}),r.d(t,"EngineRenderer",function(){return c.EngineRenderer}),r.d(t,"EngineRanking",function(){return c.EngineRanking}),r.d(t,"IEngineRankingContext",function(){return c.IEngineRankingContext}),r.d(t,"IEngineRankingOptions",function(){return c.IEngineRankingOptions}),r.d(t,"SlopeGraph",function(){return c.SlopeGraph}),r.d(t,"EMode",function(){return c.EMode}),r.d(t,"LineUp",function(){return c.LineUp}),r.d(t,"ILineUpOptions",function(){return c.ILineUpOptions}),r.d(t,"IDialogOptions",function(){return c.IDialogOptions}),r.d(t,"ADialog",function(){return c.ADialog}),r.d(t,"SidePanel",function(){return c.SidePanel}),r.d(t,"ISidePanelOptions",function(){return c.ISidePanelOptions}),r.d(t,"SearchBox",function(){return c.SearchBox}),r.d(t,"IGroupSearchItem",function(){return c.IGroupSearchItem}),r.d(t,"IItem",function(){return c.IItem}),r.d(t,"ISearchBoxOptions",function(){return c.ISearchBoxOptions}),r.d(t,"toolbarActions",function(){return c.toolbarActions}),r.d(t,"WEIRD_CANVAS_OFFSET",function(){return c.WEIRD_CANVAS_OFFSET});var d=r("./src/interfaces.ts");r.d(t,"DENSE_HISTOGRAM",function(){return d.DENSE_HISTOGRAM}),r.d(t,"MIN_LABEL_WIDTH",function(){return d.MIN_LABEL_WIDTH}),r.d(t,"HOVER_DELAY_SHOW_DETAIL",function(){return d.HOVER_DELAY_SHOW_DETAIL}),r.d(t,"default",function(){return i.default});const h="3.0.1-beta.3",f="20180303-130528",p="BSD-3-Clause";function m(e,t,r={}){return new n.default(e,t,r)}function g(e,t,r={}){return new i.default(e,t,r)}function b(e,t,r={}){return new s.default(e,t,r)}},"./src/interfaces.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"DENSE_HISTOGRAM",function(){return n}),r.d(t,"MIN_LABEL_WIDTH",function(){return i}),r.d(t,"HOVER_DELAY_SHOW_DETAIL",function(){return s});const n=19,i=30,s=500},"./src/internal/AEventDispatcher.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"suffix",function(){return i}),r.d(t,"default",function(){return s});var n=r("./node_modules/d3-dispatch/index.js");function i(e,...t){return t.map(t=>`${t}${e}`)}class s{constructor(){this.listeners=Object(n.dispatch)(...this.createEventList());const e=this;this.forwarder=function(...t){e.fireImpl(this.type,this.primaryType,this.origin,...t)}}on(e,t){return void 0!==t?(Array.isArray(e)?e.forEach(e=>this.listeners.on(e,t)):this.listeners.on(e,t),this):this.listeners.on(e)}createEventList(){return[]}fire(e,...t){const r=Array.isArray(e)?e[0]:e;this.fireImpl(e,r,this,...t)}fireImpl(e,t,r,...n){const i=e=>{const i={source:this,origin:r,type:e,primaryType:t,args:n};this.listeners.apply(e,i,n)};Array.isArray(e)?e.forEach(i.bind(this)):i(e)}forward(e,...t){e.on(t,this.forwarder)}unforward(e,...t){e.on(t,null)}}},"./src/internal/OrderedSet.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return n});class n{constructor(e=[]){this[Symbol.toStringTag]=Symbol("OrderedSet"),this.set=new Set,this.list=[],this.addAll(e)}get size(){return this.set.size}clear(){this.set.clear(),this.list.splice(0,this.list.length)}addAll(e){return e.forEach(e=>this.add(e)),this}add(e){return this.set.has(e)?this:(this.set.add(e),this.list.push(e),this)}has(e){return this.set.has(e)}delete(e){if(!this.set.delete(e))return!1;const t=this.list.indexOf(e);return console.assert(t>=0),this.list.splice(t,1),!0}deleteAll(e){return e.reduce((e,t)=>this.delete(t)&&e,!0)}forEach(e,t){this.list.forEach(function(t){e.call(this,t,t,this)},t)}[Symbol.iterator](){return this.list[Symbol.iterator]()}}},"./src/internal/debounce.ts":function(e,t,r){"use strict";function n(e,t=100,r){let n=-1,i=null;return function(...s){n>=0&&(clearTimeout(n),n=-1);const o={self:this,args:s};i=i&&r?r(i,o):o,n=setTimeout(()=>{console.assert(null!=i),e.call(i.self,...i.args),i=null},t)}}r.r(t),r.d(t,"default",function(){return n})},"./src/internal/dnd.ts":function(e,t,r){"use strict";function n(e,...t){const r=e.dataTransfer.types;return"function"==typeof r.indexOf?t.some(e=>r.indexOf(e)>=0):"function"==typeof r.includes?t.some(e=>r.includes(e)):"function"==typeof r.contains&&t.some(e=>r.contains(e))}r.r(t),r.d(t,"hasDnDType",function(){return n}),r.d(t,"copyDnD",function(){return o}),r.d(t,"updateDropEffect",function(){return a}),r.d(t,"dragAble",function(){return l}),r.d(t,"dropAble",function(){return c});const i=new Map;function s(e){return i.size>0&&n(e,"text/plain")}function o(e){const t=e.dataTransfer;return Boolean(e.ctrlKey&&t.effectAllowed.match(/copy/gi)||!t.effectAllowed.match(/move/gi))}function a(e){const t=e.dataTransfer;o(e)?t.dropEffect="copy":t.dropEffect="move"}let u=0;function l(e,t,r=!1){const n=++u;e.draggable=!0,e.addEventListener("dragstart",s=>{e.classList.add("lu-dragging");const o=t();if(s.dataTransfer.effectAllowed=o.effectAllowed,r&&s.stopPropagation(),Object.keys(o.data).every(e=>{try{return s.dataTransfer.setData(e,o.data[e]),!0}catch(e){return!1}}))return;const a=o.data["text/plain"]||"";s.dataTransfer.setData("text/plain",`${n}${a?`: ${a}`:""}`),i.set(n,o.data)}),e.addEventListener("dragend",t=>{e.classList.remove("lu-dragging"),r&&t.stopPropagation(),i.size>0&&i.delete(n);const s=e.ownerDocument.querySelector(".lu-dragover");s&&s.classList.remove("lu-dragover")})}function c(e,t,r,o=null,u=!1){e.addEventListener("dragenter",r=>{if(!e.classList.contains("lu-dragging")&&(n(r,...t)||s(r)))return e.classList.add("lu-dragover"),u&&r.stopPropagation(),!1;e.classList.remove("lu-dragover")}),e.addEventListener("dragover",r=>{if(!e.classList.contains("lu-dragging")&&(n(r,...t)||s(r)))return r.preventDefault(),a(r),e.classList.add("lu-dragover"),u&&r.stopPropagation(),o&&o(r),!1}),e.addEventListener("dragleave",e=>{e.target.classList.remove("lu-dragover")}),e.addEventListener("drop",o=>{o.preventDefault(),u&&o.stopPropagation(),a(o);const l=o.dataTransfer.dropEffect;if(e.classList.remove("lu-dragover"),s(o)){const e=o.dataTransfer.getData("text/plain"),t=parseInt(e.indexOf(":")>=0?e.substring(0,e.indexOf(":")):e,10);if(i.has(t)){const e=i.get(t);return i.delete(t),!r({effect:l,data:e},o)}}else if(n(o,...t)){const e={};return t.forEach(t=>{const r=o.dataTransfer.getData(t);""!==r&&(e[t]=r)}),!r({effect:l,data:e},o)}})}},"./src/internal/index.ts":function(e,t,r){"use strict";r.r(t);r("./src/internal/debounce.ts"),r("./src/internal/OrderedSet.ts");var n=r("./src/internal/math.ts");r.d(t,"getNumberOfBins",function(){return n.getNumberOfBins}),r.d(t,"LazyBoxPlotData",function(){return n.LazyBoxPlotData}),r.d(t,"computeStats",function(){return n.computeStats}),r.d(t,"computeHist",function(){return n.computeHist}),r.d(t,"round",function(){return n.round}),r.d(t,"similar",function(){return n.similar});var i=r("./src/internal/utils.ts");r.d(t,"findOption",function(){return i.findOption}),r.d(t,"equalArrays",function(){return i.equalArrays}),r.d(t,"fixCSS",function(){return i.fixCSS})},"./src/internal/math.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"getNumberOfBins",function(){return o}),r.d(t,"LazyBoxPlotData",function(){return a}),r.d(t,"computeStats",function(){return u}),r.d(t,"computeHist",function(){return l}),r.d(t,"round",function(){return c}),r.d(t,"similar",function(){return d});var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./node_modules/d3-array/index.js"),s=r("./src/model/index.ts");function o(e){return Math.ceil(Math.log(e)/Math.LN2)+1}class a{constructor(e,t,r){this.scale=t,this.histGen=r,this.values=e.filter(e=>!Object(s.isMissingValue)(e)),this.missing=e.length-this.values.length}get count(){return this.values.length+this.missing}get sorted(){return this.values.slice().sort(i.ascending)}map(e){return this.scale&&null!=e?this.scale.apply(e):e}get hist(){return this.histGen?this.histGen(this.values):[]}get maxBin(){return Math.max(...this.hist.map(e=>e.length))}get min(){return this.map(Math.min(...this.values))}get max(){return this.map(Math.max(...this.values))}get median(){return this.map(Object(i.median)(this.sorted))}get q1(){return this.map(Object(i.quantile)(this.sorted,.25))}get q3(){return this.map(Object(i.quantile)(this.sorted,.75))}get mean(){return this.map(Object(i.mean)(this.values))}get outlier(){const e=this.q1,t=this.q3,r=t-e,n=e-1.5*r,i=t+1.5*r;let o=this.sorted.filter(e=>(e<n||e>i)&&!Object(s.isMissingValue)(e));return this.scale&&(o=o.map(e=>this.scale.apply(e))),o}}function u(e,t,r,n,s){if(0===e.length)return{min:NaN,max:NaN,mean:NaN,q1:NaN,q3:NaN,outlier:[],median:NaN,count:0,maxBin:0,hist:[],missing:0};const u=Object(i.histogram)();n&&u.domain(n),s?u.thresholds(s):u.thresholds(o(e.length));const l=e.map(e=>r(e)?NaN:t(e));return new a(l,void 0,u)}function l(e,t,r){const n=new Map;let i=0;r.forEach(e=>n.set(e.name,0)),e.forEach(e=>{const r=t(e);null!=r?n.set(r.name,(n.get(r.name)||0)+1):i+=1});const s=[];return n.forEach((e,t)=>s.push({cat:t,y:e})),{maxBin:Math.max(...s.map(e=>e.y)),hist:s,missing:i}}function c(e,t=0){if(0===t)return Math.round(e);const r=Math.pow(10,t);return Math.round(e*r)/r}function d(e,t,r=.5){return e===t||Math.abs(e-t)<r}n.__decorate([function(e,t,r){const n=r.get,i=`__${t}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const e=n.call(this);return this[i]=e,e},r}],a.prototype,"sorted",null),n.__decorate([function(e,t,r){const n=r.get,i=`__${t}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const e=n.call(this);return this[i]=e,e},r}],a.prototype,"hist",null),n.__decorate([function(e,t,r){const n=r.get,i=`__${t}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const e=n.call(this);return this[i]=e,e},r}],a.prototype,"maxBin",null),n.__decorate([function(e,t,r){const n=r.get,i=`__${t}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const e=n.call(this);return this[i]=e,e},r}],a.prototype,"min",null),n.__decorate([function(e,t,r){const n=r.get,i=`__${t}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const e=n.call(this);return this[i]=e,e},r}],a.prototype,"max",null),n.__decorate([function(e,t,r){const n=r.get,i=`__${t}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const e=n.call(this);return this[i]=e,e},r}],a.prototype,"median",null),n.__decorate([function(e,t,r){const n=r.get,i=`__${t}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const e=n.call(this);return this[i]=e,e},r}],a.prototype,"q1",null),n.__decorate([function(e,t,r){const n=r.get,i=`__${t}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const e=n.call(this);return this[i]=e,e},r}],a.prototype,"q3",null),n.__decorate([function(e,t,r){const n=r.get,i=`__${t}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const e=n.call(this);return this[i]=e,e},r}],a.prototype,"mean",null),n.__decorate([function(e,t,r){const n=r.get,i=`__${t}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const e=n.call(this);return this[i]=e,e},r}],a.prototype,"outlier",null)},"./src/internal/merge.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i});const n="[object Object]";function i(...e){let t=null;for(const r of e){const e=Object.keys(r);if(null!=t)for(const s of e){const e=r[s];Object.prototype.toString.call(e)===n&&Object.getPrototypeOf(e)===Object.prototype?(void 0===t[s]&&(t[s]={}),t[s]=i(t[s],e)):Array.isArray(e)?(void 0===t[s]&&(t[s]=[]),t[s]=e.concat(t[s])):t[s]=e}else t=r}return t}},"./src/internal/utils.ts":function(e,t,r){"use strict";function n(e){return(t,r)=>{if(t in e)return e[t];if(t.indexOf(".")>0){const r=t.substring(0,t.indexOf("."));if(t=t.substring(t.indexOf(".")+1),r in e&&t in e[r])return e[r][t]}return r}}function i(e,t){return e.length===t.length&&e.every((e,r)=>e===t[r])}function s(e){return e.replace(/[\s!#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~]/g,"_")}r.r(t),r.d(t,"findOption",function(){return n}),r.d(t,"equalArrays",function(){return i}),r.d(t,"fixCSS",function(){return s})},"./src/model/ActionColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"createActionDesc",function(){return o});var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/model/annotations.ts"),s=r("./src/model/Column.ts");function o(e="actions",t=[],r=[]){return{type:"actions",label:e,actions:t,groupActions:r,fixed:!0}}let a=class extends s.default{constructor(e,t){super(e,t),this.actions=t.actions||[],this.groupActions=t.groupActions||[]}getLabel(){return""}getValue(){return""}compare(){return 0}};a=n.__decorate([Object(i.SupportType)(),Object(i.Category)("support")],a),t.default=a},"./src/model/AggregateGroupColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"createAggregateDesc",function(){return o});var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/model/annotations.ts"),s=r("./src/model/Column.ts");function o(e="Aggregate Groups"){return{type:"aggregate",label:e,fixed:!0}}let a=u=class extends s.default{constructor(e,t){super(e,t),this.setDefaultWidth(20)}get frozen(){return!1!==this.desc.frozen}createEventList(){return super.createEventList().concat([u.EVENT_AGGREGATE])}isAggregated(e){const t=this.findMyRanker();return!!this.desc.isAggregated&&this.desc.isAggregated(t,e)}setAggregated(e,t){const r=this.findMyRanker();return(this.desc.isAggregated&&this.desc.isAggregated(r,e))===t||(this.desc.setAggregated&&this.desc.setAggregated(r,e,t),this.fire(u.EVENT_AGGREGATE,r,e,t),!1)}};var u;a.EVENT_AGGREGATE="aggregate",a=u=n.__decorate([Object(i.SupportType)(),Object(i.Category)("support")],a),t.default=a},"./src/model/AnnotateColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/model/Column.ts"),i=r("./src/model/StringColumn.ts");class s extends i.default{constructor(){super(...arguments),this.annotations=new Map}createEventList(){return super.createEventList().concat([s.EVENT_VALUE_CHANGED])}getValue(e){return this.annotations.has(e.i)?this.annotations.get(e.i):super.getValue(e)}dump(e){const t=super.dump(e);return t.annotations={},this.annotations.forEach((e,r)=>{t.annotations[r]=e}),t}restore(e,t){super.restore(e,t),e.annotations&&Object.keys(e.annotations).forEach(t=>{this.annotations.set(Number(t),e.annotations[t])})}setValue(e,t){const r=this.getValue(e);return r===t||(""===t||null==t?this.annotations.delete(e.i):this.annotations.set(e.i,t),this.fire([s.EVENT_VALUE_CHANGED,n.default.EVENT_DIRTY_VALUES,n.default.EVENT_DIRTY],e.i,r,t),!0)}}s.EVENT_VALUE_CHANGED="valueChanged"},"./src/model/ArrayColumn.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/model/annotations.ts"),s=r("./src/model/Column.ts"),o=r("./node_modules/d3-array/index.js"),a=r("./src/model/ValueColumn.ts");let u=l=class extends a.default{constructor(e,t){super(e,t),this._dataLength=null==t.dataLength||isNaN(t.dataLength)?null:t.dataLength,this.originalLabels=t.labels||Object(o.range)(null==this._dataLength?0:this._dataLength).map((e,t)=>`Column ${t}`),this.splicer={length:this._dataLength,splice:e=>e}}setSplicer(e){this.fire([l.EVENT_SPLICE_CHANGED,s.default.EVENT_DIRTY_VALUES,s.default.EVENT_DIRTY_HEADER,s.default.EVENT_DIRTY],this.splicer,this.splicer=e)}get labels(){return this.splicer?this.splicer.splice(this.originalLabels):this.originalLabels}getSplicer(){return this.splicer}get dataLength(){return this.splicer?this.splicer.length:this._dataLength}getValue(e){return this.getValues(e)}getValues(e){let t=super.getValue(e);return this.splicer&&null!=t&&(t=this.splicer.splice(t)),null==t?[]:t}getLabels(e){return this.getValues(e).map(String)}getLabel(e){const t=this.getLabels(e);return t?t.toString():""}getMap(e){const t=this.labels;return this.getValues(e).map((e,r)=>({key:t[r],value:e}))}getMapLabel(e){const t=this.labels;return this.getLabels(e).map((e,r)=>({key:t[r],value:e}))}createEventList(){return super.createEventList().concat([l.EVENT_SPLICE_CHANGED])}};var l;u.EVENT_SPLICE_CHANGED="spliceChanged",u=l=n.__decorate([Object(i.Category)("array")],u),t.default=u},"./src/model/BooleanColumn.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/model/annotations.ts"),s=r("./src/model/CategoricalColumn.ts"),o=r("./src/model/Column.ts"),a=r("./src/model/ValueColumn.ts");let u=l=class extends a.default{constructor(e,t){super(e,t),this.currentFilter=null,this.setWidthImpl(30),this.categories=[{name:t.trueMarker||"✓",color:l.GROUP_TRUE.color,label:l.GROUP_TRUE.name,value:0},{name:t.trueMarker||"",color:l.GROUP_FALSE.color,label:l.GROUP_FALSE.name,value:1}]}get dataLength(){return this.categories.length}get labels(){return this.categories.map(e=>e.label)}getValue(e){const t=super.getValue(e);return void 0!==t&&null!=t&&(!0===t||"true"===t||"yes"===t||"x"===t)}isMissing(){return!1}getCategory(e){const t=this.getValue(e);return this.categories[t?0:1]}getLabel(e){return s.default.prototype.getLabel.call(this,e)}getLabels(e){return s.default.prototype.getLabels.call(this,e)}getValues(e){return s.default.prototype.getValues.call(this,e)}getMap(e){return s.default.prototype.getMap.call(this,e)}getMapLabel(e){return s.default.prototype.getMapLabel.call(this,e)}getSet(e){const t=this.getValue(e),r=new Set;return r.add(this.categories[t?0:1]),r}dump(e){const t=super.dump(e);return null!=this.currentFilter&&(t.filter=this.currentFilter),t}restore(e,t){super.restore(e,t),void 0!==e.filter&&(this.currentFilter=e.filter)}isFiltered(){return null!=this.currentFilter}filter(e){if(!this.isFiltered())return!0;return this.getValue(e)===this.currentFilter}getFilter(){return this.currentFilter}setFilter(e){this.currentFilter!==e&&this.fire([o.default.EVENT_FILTER_CHANGED,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY],this.currentFilter,this.currentFilter=e)}compare(e,t){const r=this.getValue(e),n=this.getValue(t);return r===n?0:r<n?-1:1}group(e){return this.getValue(e)?l.GROUP_TRUE:l.GROUP_FALSE}};var l;u.GROUP_TRUE={name:"True",color:"black"},u.GROUP_FALSE={name:"False",color:"white"},u=l=n.__decorate([Object(i.toolbar)("stratify","filterBoolean"),Object(i.Category)("categorical")],u),t.default=u},"./src/model/BooleansColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return o});var n=r("./src/model/ArrayColumn.ts"),i=r("./src/model/ICategoricalColumn.ts"),s=r("./src/model/missing.ts");class o extends n.default{constructor(e,t){super(e,t),this.setDefaultRenderer("upset")}get categories(){return this.labels.map((e,t)=>Object(i.toCategory)(e,t))}getSet(e){const t=this.getValues(e);return new Set(this.categories.filter((e,r)=>t[r]))}compare(e,t){const r=this.getValue(e),n=this.getValue(t);return null==r?null==n?0:s.FIRST_IS_NAN:null==n?-1*s.FIRST_IS_NAN:r.filter(e=>e).length-n.filter(e=>e).length}}},"./src/model/BoxPlotColumn.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./node_modules/d3-format/index.js"),s=r("./src/model/annotations.ts"),o=r("./src/model/Column.ts"),a=r("./src/model/internal.ts"),u=r("./src/model/INumberColumn.ts"),l=r("./src/model/MappingFunction.ts"),c=r("./src/model/NumberColumn.ts"),d=r("./src/model/ValueColumn.ts");let h=f=class extends d.default{constructor(e,t){super(e,t),this.currentFilter=Object(u.noNumberFilter)(),this.mapping=Object(l.restoreMapping)(t),this.original=this.mapping.clone(),this.sort=t.sort||u.ESortMethod.min}compare(e,t){return Object(u.compareBoxPlot)(this,e,t)}getBoxPlotData(e){return this.getValue(e)}getRange(){return this.mapping.getRange(f.DEFAULT_FORMATTER)}getRawBoxPlotData(e){return this.getRawValue(e)}getRawValue(e){return super.getValue(e)}getValue(e){const t=this.getRawValue(e);return null==t?t:{min:this.mapping.apply(t.min),max:this.mapping.apply(t.max),median:this.mapping.apply(t.median),q1:this.mapping.apply(t.q1),q3:this.mapping.apply(t.q3)}}getNumber(e){return Object(u.getBoxPlotNumber)(this,e,"normalized")}getRawNumber(e){return Object(u.getBoxPlotNumber)(this,e,"raw")}getLabel(e){const t=this.getRawValue(e);if(null==t)return"";const r=f.DEFAULT_FORMATTER;return`BoxPlot(min = ${r(t.min)}, q1 = ${r(t.q1)}, median = ${r(t.median)}, q3 = ${r(t.q3)}, max = ${r(t.max)})`}getSortMethod(){return this.sort}setSortMethod(e){this.sort!==e&&(this.fire(o.default.EVENT_SORTMETHOD_CHANGED,this.sort,this.sort=e),this.isSortedByMe().asc||this.sortByMe())}dump(e){const t=super.dump(e);return t.sortMethod=this.getSortMethod(),t.filter=Object(a.isDummyNumberFilter)(this.currentFilter)?null:this.currentFilter,t.map=this.mapping.dump(),t}restore(e,t){super.restore(e,t),e.sortMethod&&(this.sort=e.sortMethod),e.filter&&(this.currentFilter=Object(a.restoreFilter)(e.filter)),e.map?this.mapping=Object(l.createMappingFunction)(e.map):e.domain&&(this.mapping=new l.ScaleMappingFunction(e.domain,"linear",e.range||[0,1]))}createEventList(){return super.createEventList().concat([c.default.EVENT_MAPPING_CHANGED])}getOriginalMapping(){return this.original.clone()}getMapping(){return this.mapping.clone()}setMapping(e){this.mapping.eq(e)||this.fire([f.EVENT_MAPPING_CHANGED,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY],this.mapping.clone(),this.mapping=e)}isFiltered(){return c.default.prototype.isFiltered.call(this)}getFilter(){return c.default.prototype.getFilter.call(this)}setFilter(e={min:-1/0,max:1/0,filterMissing:!1}){c.default.prototype.setFilter.call(this,e)}filter(e){return c.default.prototype.filter.call(this,e)}};var f;h.EVENT_MAPPING_CHANGED=c.default.EVENT_MAPPING_CHANGED,h.DEFAULT_FORMATTER=Object(i.format)(".3n"),h=f=n.__decorate([Object(s.toolbar)("sortNumbers","filterMapped"),Object(s.Category)("array")],h),t.default=h},"./src/model/CategoricalColumn.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/model/annotations.ts"),s=r("./src/model/Column.ts"),o=r("./src/model/ICategoricalColumn.ts"),a=r("./src/model/missing.ts"),u=r("./src/model/ValueColumn.ts");let l=class extends u.default{constructor(e,t){super(e,t),this.lookup=new Map,this.currentFilter=null,this.categories=Object(o.toCategories)(t),this.missingCategory=t.missingCategory?Object(o.toCategory)(t.missingCategory,NaN):null,this.categories.forEach(e=>this.lookup.set(e.name,e))}getValue(e){const t=this.getCategory(e);return t?t.name:null}getCategory(e){const t=super.getValue(e);if(!t)return this.missingCategory;const r=String(t);return this.lookup.has(r)?this.lookup.get(r):this.missingCategory}get dataLength(){return this.categories.length}get labels(){return this.categories.map(e=>e.label)}getLabel(e){const t=this.getCategory(e);return t?t.label:""}getValues(e){const t=this.getCategory(e);return this.categories.map(e=>e===t)}getLabels(e){return this.getValues(e).map(String)}getMap(e){const t=this.categories;return this.getValues(e).map((e,r)=>({key:t[r].label,value:e}))}getMapLabel(e){const t=this.categories;return this.getLabels(e).map((e,r)=>({key:t[r].label,value:e}))}getSet(e){const t=this.getCategory(e),r=new Set;return t&&t!==this.missingCategory&&r.add(t),r}isMissing(e){return this.getCategory(e)===this.missingCategory}dump(e){const t=super.dump(e);return t.filter=this.currentFilter,t}restore(e,t){if(super.restore(e,t),!("filter"in e))return void(this.currentFilter=null);const r=e.filter;"string"==typeof r||Array.isArray(r)?this.currentFilter={filter:r,filterMissing:!1}:this.currentFilter=r}isFiltered(){return null!=this.currentFilter}filter(e){return Object(o.isCategoryIncluded)(this.currentFilter,this.getCategory(e))}getFilter(){return null==this.currentFilter?null:Object.assign({},this.currentFilter)}setFilter(e){Object(o.isEqualCategoricalFilter)(this.currentFilter,e)||this.fire([s.default.EVENT_FILTER_CHANGED,s.default.EVENT_DIRTY_VALUES,s.default.EVENT_DIRTY],this.currentFilter,this.currentFilter=e)}compare(e,t){return Object(o.compareCategory)(this.getCategory(e),this.getCategory(t))}group(e){const t=this.getCategory(e);return t?{name:t.label,color:t.color}:a.missingGroup}getGroupRenderer(){const e=super.getGroupRenderer();return e===this.desc.type&&this.isGroupedBy()>=0?"catdistributionbar":e}};l=n.__decorate([Object(i.toolbar)("stratify","filterCategorical"),Object(i.Category)("categorical")],l),t.default=l},"./src/model/CategoricalMapColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/model/ICategoricalColumn.ts"),i=r("./src/model/MapColumn.ts");class s extends i.default{constructor(e,t){super(e,t),this.lookup=new Map,this.categories=Object(n.toCategories)(t),this.missingCategory=t.missingCategory?Object(n.toCategory)(t.missingCategory,NaN):null,this.categories.forEach(e=>this.lookup.set(e.name,e))}parseValue(e){if(!e)return this.missingCategory;const t=String(e);return this.lookup.has(t)?this.lookup.get(t):this.missingCategory}getCategories(e){return super.getValue(e).map(({key:e,value:t})=>({key:e,value:this.parseValue(t)}))}getValue(e){return this.getCategories(e).map(({key:e,value:t})=>({key:e,value:t?t.name:null}))}getLabels(e){return this.getCategories(e).map(({key:e,value:t})=>({key:e,value:t?t.label:""}))}}},"./src/model/CategoricalsColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/model/ArrayColumn.ts"),i=r("./src/model/ICategoricalColumn.ts");class s extends n.default{constructor(e,t){super(e,t),this.lookup=new Map,this.categories=Object(i.toCategories)(t),this.missingCategory=t.missingCategory?Object(i.toCategory)(t.missingCategory,NaN):null,this.categories.forEach(e=>this.lookup.set(e.name,e))}getCategories(e){return super.getValues(e).map(e=>{if(!e)return this.missingCategory;const t=String(e);return this.lookup.has(t)?this.lookup.get(t):this.missingCategory})}getSet(e){const t=new Set(this.getCategories(e));return t.delete(this.missingCategory),t}getValues(e){return this.getCategories(e).map(e=>e?e.name:null)}getLabels(e){return this.getCategories(e).map(e=>e?e.label:"")}}},"./src/model/Column.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return l});var n=r("./src/internal/AEventDispatcher.ts"),i=r("./src/internal/math.ts"),s=r("./src/internal/utils.ts"),o=r("./src/model/Group.ts"),a=r("./src/model/missing.ts"),u=r("./src/model/interfaces.ts");r.d(t,"IColumnDesc",function(){return u.IColumnDesc});class l extends n.default{constructor(e,t){super(),this.desc=t,this.width=100,this.parent=null,this.uid=Object(s.fixCSS)(e),this.renderer=this.desc.renderer||this.desc.type,this.groupRenderer=this.desc.groupRenderer||this.desc.type,this.summaryRenderer=this.desc.summaryRenderer||this.desc.type,this.width=null!=this.desc.width&&this.desc.width>0?this.desc.width:100,this.visible=!1!==this.desc.visible,this.metadata={label:t.label||this.id,description:t.description||"",color:t.color||l.DEFAULT_COLOR}}get fixed(){return Boolean(this.desc.fixed)}get frozen(){return Boolean(this.desc.frozen)}get id(){return this.uid}assignNewId(e){this.uid=Object(s.fixCSS)(e())}get label(){return this.metadata.label}get description(){return this.metadata.description}get color(){return this.metadata.color}get fqid(){return this.parent?`${this.parent.fqid}_${this.id}`:this.id}get fqpath(){return this.parent?`${this.parent.fqpath}@${this.parent.indexOf(this)}`:""}createEventList(){return super.createEventList().concat([l.EVENT_WIDTH_CHANGED,l.EVENT_FILTER_CHANGED,l.EVENT_LABEL_CHANGED,l.EVENT_METADATA_CHANGED,l.EVENT_VISIBILITY_CHANGED,l.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,l.EVENT_ADD_COLUMN,l.EVENT_REMOVE_COLUMN,l.EVENT_RENDERER_TYPE_CHANGED,l.EVENT_GROUP_RENDERER_TYPE_CHANGED,l.EVENT_SORTMETHOD_CHANGED,l.EVENT_MOVE_COLUMN,l.EVENT_DIRTY,l.EVENT_DIRTY_HEADER,l.EVENT_DIRTY_VALUES,l.EVENT_GROUPING_CHANGED,l.EVENT_DATA_LOADED])}getWidth(){return this.width}hide(){this.setVisible(!1)}show(){this.setVisible(!0)}isVisible(){return this.visible}getVisible(){return this.isVisible()}setVisible(e){this.visible!==e&&this.fire([l.EVENT_VISIBILITY_CHANGED,l.EVENT_DIRTY_HEADER,l.EVENT_DIRTY_VALUES,l.EVENT_DIRTY],this.visible,this.visible=e)}flatten(e,t,r=0,n=0){const i=this.getWidth();return e.push({col:this,offset:t,width:i}),i}setWidth(e){Object(i.similar)(this.width,e,.5)||this.fire([l.EVENT_WIDTH_CHANGED,l.EVENT_DIRTY_HEADER,l.EVENT_DIRTY_VALUES,l.EVENT_DIRTY],this.width,this.width=e)}setWidthImpl(e){this.width=e}setMetaData(e){if(e.label===this.label&&this.color===e.color&&this.description===e.description)return;const t=this.color===e.color?[l.EVENT_LABEL_CHANGED,l.EVENT_METADATA_CHANGED,l.EVENT_DIRTY_HEADER,l.EVENT_DIRTY]:[l.EVENT_LABEL_CHANGED,l.EVENT_METADATA_CHANGED,l.EVENT_DIRTY_HEADER,l.EVENT_DIRTY_VALUES,l.EVENT_DIRTY],r=this.getMetaData();this.metadata={label:e.label,color:e.color,description:e.description},this.fire(t,r,this.getMetaData())}getMetaData(){return Object.assign({},this.metadata)}sortByMe(e=!1){const t=this.findMyRanker();return!!t&&t.sortBy(this,e)}groupByMe(){const e=this.findMyRanker();return!!e&&e.toggleGrouping(this)}isGroupedBy(){const e=this.findMyRanker();return e?e.getGroupCriteria().indexOf(this):-1}toggleMySorting(){const e=this.findMyRanker();return!!e&&e.toggleSorting(this)}isSortedByMeImpl(e){const t=this.findMyRanker();if(!t)return{asc:void 0,priority:void 0};const r=e(t),n=r.findIndex(e=>e.col===this);return n<0?{asc:void 0,priority:void 0}:{asc:r[n].asc?"asc":"desc",priority:n.toString()}}isSortedByMe(){return this.isSortedByMeImpl(e=>e.getSortCriteria())}groupSortByMe(e=!1){const t=this.findMyRanker();return!!t&&t.groupSortBy(this,e)}toggleMyGroupSorting(){const e=this.findMyRanker();return!!e&&e.toggleGroupSorting(this)}isGroupSortedByMe(){return this.isSortedByMeImpl(e=>e.getGroupSortCriteria())}removeMe(){return!this.fixed&&(!!this.parent&&this.parent.remove(this))}insertAfterMe(e){return!!this.parent&&null!=this.parent.insertAfter(e,this)}findMyRanker(){return this.parent?this.parent.findMyRanker():null}dump(e){const t={id:this.id,desc:e(this.desc),width:this.width};return this.label!==(this.desc.label||this.id)&&(t.label=this.label),this.color!==(this.desc.color||l.DEFAULT_COLOR)&&this.color&&(t.color=this.color),this.getRenderer()!==this.desc.type&&(t.renderer=this.getRenderer()),this.getGroupRenderer()!==this.desc.type&&(t.groupRenderer=this.getGroupRenderer()),this.getSummaryRenderer()!==this.desc.type&&(t.summaryRenderer=this.getSummaryRenderer()),t}restore(e,t){this.width=e.width||this.width,this.metadata={label:e.label||this.label,color:e.color||this.color,description:this.description},(e.renderer||e.rendererType)&&(this.renderer=e.renderer||e.rendererType),e.groupRenderer&&(this.groupRenderer=e.groupRenderer),e.summaryRenderer&&(this.summaryRenderer=e.summaryRenderer)}getLabel(e){return String(this.getValue(e))}getValue(e){return""}isMissing(e){return Object(a.isMissingValue)(this.getValue(e))}compare(e,t){return 0}group(e){return o.defaultGroup}groupCompare(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}isFiltered(){return!1}filter(e){return null!=e}getRenderer(){return this.renderer}getGroupRenderer(){return this.groupRenderer}getSummaryRenderer(){return this.summaryRenderer}setRenderer(e){e!==this.renderer&&this.fire([l.EVENT_RENDERER_TYPE_CHANGED,l.EVENT_DIRTY_VALUES,l.EVENT_DIRTY],this.renderer,this.renderer=e)}setDefaultRenderer(e){if(this.renderer===this.desc.type)return this.setRenderer(e)}setGroupRenderer(e){e!==this.groupRenderer&&this.fire([l.EVENT_GROUP_RENDERER_TYPE_CHANGED,l.EVENT_DIRTY_VALUES,l.EVENT_DIRTY],this.groupRenderer,this.groupRenderer=e)}setDefaultGroupRenderer(e){if(this.groupRenderer===this.desc.type)return this.setGroupRenderer(e)}setSummaryRenderer(e){e!==this.summaryRenderer&&this.fire([l.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,l.EVENT_DIRTY_HEADER,l.EVENT_DIRTY],this.summaryRenderer,this.summaryRenderer=e)}setDefaultSummaryRenderer(e){if(this.summaryRenderer===this.desc.type)return this.setSummaryRenderer(e)}setDefaultWidth(e){if(100===this.width)return this.setWidthImpl(e)}}l.DEFAULT_COLOR="#C1C1C1",l.FLAT_ALL_COLUMNS=-1,l.EVENT_WIDTH_CHANGED="widthChanged",l.EVENT_FILTER_CHANGED="filterChanged",l.EVENT_LABEL_CHANGED="labelChanged",l.EVENT_METADATA_CHANGED="metaDataChanged",l.EVENT_ADD_COLUMN="addColumn",l.EVENT_MOVE_COLUMN="moveColumn",l.EVENT_REMOVE_COLUMN="removeColumn",l.EVENT_DIRTY="dirty",l.EVENT_DIRTY_HEADER="dirtyHeader",l.EVENT_DIRTY_VALUES="dirtyValues",l.EVENT_RENDERER_TYPE_CHANGED="rendererTypeChanged",l.EVENT_GROUP_RENDERER_TYPE_CHANGED="groupRendererChanged",l.EVENT_SUMMARY_RENDERER_TYPE_CHANGED="summaryRendererChanged",l.EVENT_SORTMETHOD_CHANGED="sortMethodChanged",l.EVENT_GROUPING_CHANGED="groupingChanged",l.EVENT_VISIBILITY_CHANGED="visibilityChanged",l.EVENT_DATA_LOADED="dataLoaded"},"./src/model/CompositeColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"isMultiLevelColumn",function(){return l});var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/internal/AEventDispatcher.ts"),s=r("./src/model/annotations.ts"),o=r("./src/model/Column.ts"),a=r("./src/model/INumberColumn.ts"),u=r("./src/model/ValueColumn.ts");function l(e){return"function"==typeof e.getCollapsed}let c=d=class extends o.default{constructor(){super(...arguments),this._children=[]}assignNewId(e){super.assignNewId(e),this._children.forEach(t=>t.assignNewId(e))}get children(){return this._children.slice()}get length(){return this._children.length}flatten(e,t,r=0,n=0){let i=0;return(0===r||r<=o.default.FLAT_ALL_COLUMNS)&&(i=this.getWidth(),e.push({col:this,offset:t,width:i}),0===r)?i:(this._children.forEach(i=>{i.isVisible()&&r<=o.default.FLAT_ALL_COLUMNS&&i.flatten(e,t,r-1,n)}),i)}dump(e){const t=super.dump(e);return t.children=this._children.map(t=>t.dump(e)),t}restore(e,t){e.children.map(e=>{const r=t(e);r&&this.push(r)}),super.restore(e,t)}insert(e,t){return!Object(a.isNumberColumn)(e)&&this.canJustAddNumbers?null:(this._children.splice(t,0,e),this.insertImpl(e,t))}move(e,t){if(e.parent!==this)return null;const r=this._children.indexOf(e);return t===r?e:(this._children.splice(r,1),this._children.splice(r<t?t-1:t,0,e),this.moveImpl(e,t,r))}insertImpl(e,t){return e.parent=this,this.forward(e,...Object(i.suffix)(".combine",o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY,o.default.EVENT_FILTER_CHANGED,o.default.EVENT_RENDERER_TYPE_CHANGED,o.default.EVENT_GROUP_RENDERER_TYPE_CHANGED)),this.fire([o.default.EVENT_ADD_COLUMN,o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY],e,t),e}moveImpl(e,t,r){return this.fire([o.default.EVENT_MOVE_COLUMN,o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY,o.default.EVENT_RENDERER_TYPE_CHANGED,o.default.EVENT_GROUP_RENDERER_TYPE_CHANGED],e,t,r),e}push(e){return this.insert(e,this._children.length)}at(e){return this._children[e]}indexOf(e){return this._children.indexOf(e)}insertAfter(e,t){const r=this.indexOf(t);return r<0?null:this.insert(e,r+1)}moveAfter(e,t){const r=this.indexOf(t);return r<0?null:this.move(e,r+1)}remove(e){const t=this._children.indexOf(e);return!(t<0)&&(this._children.splice(t,1),this.removeImpl(e,t))}removeImpl(e,t){return e.parent=null,this.unforward(e,...Object(i.suffix)(".combine",o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY,o.default.EVENT_FILTER_CHANGED)),this.fire([o.default.EVENT_REMOVE_COLUMN,o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY],e,t),!0}getColor(e){return this.color}isFiltered(){return this._children.some(e=>e.isFiltered())}filter(e){return this._children.every(t=>t.filter(e))}isLoaded(){return this._children.every(e=>!(e instanceof u.default||e instanceof d)||e.isLoaded())}get canJustAddNumbers(){return!1}};var d;c=d=n.__decorate([Object(s.toolbar)("compositeContained","splitCombined"),Object(s.Category)("composite")],c),t.default=c},"./src/model/CompositeNumberColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return a});var n=r("./node_modules/d3-format/index.js"),i=r("./src/model/CompositeColumn.ts"),s=r("./src/model/missing.ts"),o=r("./src/model/NumberColumn.ts");class a extends i.default{constructor(e,t){super(e,t),this.missingValue=NaN,this.numberFormat=Object(n.format)(".3n"),t.numberFormat&&(this.numberFormat=Object(n.format)(t.numberFormat)),void 0!==t.missingValue&&(this.missingValue=t.missingValue),this.setDefaultRenderer("interleaving"),this.setDefaultGroupRenderer("interleaving"),this.setDefaultSummaryRenderer("interleaving")}dump(e){const t=super.dump(e);return t.missingValue=this.missingValue,t}restore(e,t){void 0!==e.missingValue&&(this.missingValue=e.missingValue),e.numberFormat&&(this.numberFormat=Object(n.format)(e.numberFormat)),super.restore(e,t)}getLabel(e){if(!this.isLoaded())return"";const t=this.getValue(e);return String("number"==typeof t&&!isNaN(t)&&isFinite(t)?this.numberFormat(t):t)}getValue(e){if(!this.isLoaded())return null;const t=this.compute(e);return Object(s.isMissingValue)(t)?this.missingValue:t}compute(e){return NaN}getNumber(e){const t=this.getValue(e);return null==t?NaN:t}getRawNumber(e){return this.getNumber(e)}isMissing(e){return Object(s.isMissingValue)(this.compute(e))}compare(e,t){return o.default.prototype.compare.call(this,e,t)}groupCompare(e,t){return o.default.prototype.groupCompare.call(this,e,t)}getRenderer(){return o.default.prototype.getRenderer.call(this)}}},"./src/model/DateColumn.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./node_modules/d3-time-format/index.js"),s=r("./src/model/annotations.ts"),o=r("./src/model/missing.ts"),a=r("./src/model/ValueColumn.ts");let u=class extends a.default{constructor(e,t){super(e,t),this.format=Object(i.timeFormat)(t.dateFormat||"%x"),this.parse=t.dateParse?Object(i.timeParse)(t.dateParse):Object(i.timeParse)(t.dateFormat||"%x"),this.setDefaultRenderer("default")}getValue(e){const t=super.getValue(e);return Object(o.isMissingValue)(t)?null:t instanceof Date?t:this.parse(String(t))}getLabel(e){const t=this.getValue(e);return t instanceof Date?this.format(t):""}compare(e,t){const r=this.getValue(e),n=this.getValue(t);return r===n?0:r instanceof Date?n instanceof Date?r.getTime()-n.getTime():-1*o.FIRST_IS_NAN:n instanceof Date?o.FIRST_IS_NAN:0}};u=n.__decorate([Object(s.Category)("date")],u),t.default=u},"./src/model/DatesColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"EDateSort",function(){return n});var n,i=r("./node_modules/tslib/tslib.es6.js"),s=r("./node_modules/d3-time-format/index.js"),o=r("./node_modules/d3-array/index.js"),a=r("./src/model/annotations.ts"),u=r("./src/model/ArrayColumn.ts"),l=r("./src/model/Column.ts"),c=r("./src/model/missing.ts");!function(e){e.min="min",e.max="max",e.median="median"}(n||(n={}));let d=class extends u.default{constructor(e,t){super(e,t),this.format=Object(s.timeFormat)(t.dateFormat||"%x"),this.parse=t.dateParse?Object(s.timeParse)(t.dateParse):Object(s.timeParse)(t.dateFormat||"%x"),this.sort=t.sort||n.median,this.setDefaultRenderer("default")}getValue(e){return super.getValue(e).map(e=>Object(c.isMissingValue)(e)?null:e instanceof Date?e:this.parse(String(e)))}getLabels(e){return this.getValue(e).map(e=>e instanceof Date?this.format(e):"")}getSortMethod(){return this.sort}setSortMethod(e){this.sort!==e&&(this.fire([l.default.EVENT_SORTMETHOD_CHANGED],this.sort,this.sort=e),this.isSortedByMe().asc||this.sortByMe())}dump(e){const t=super.dump(e);return t.sortMethod=this.getSortMethod(),t}restore(e,t){super.restore(e,t),e.sortMethod&&(this.sort=e.sortMethod)}compare(e,t){const r=this.getValue(e).filter(Boolean),n=this.getValue(t).filter(Boolean);return r===n?0:0===r.length?0===n.length?0:c.FIRST_IS_NAN:0===n.length?-c.FIRST_IS_NAN:h(r,this.sort)-h(n,this.sort)}};function h(e,t){switch(t){case n.min:return Object(o.min)(e,e=>e.getTime());case n.max:return Object(o.max)(e,e=>e.getTime());case n.median:return Object(o.median)(e,e=>e.getTime())}}d=i.__decorate([Object(a.toolbar)("sortDates")],d),t.default=d},"./src/model/DatesMapColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return o});var n=r("./node_modules/d3-time-format/index.js"),i=r("./src/model/MapColumn.ts"),s=r("./src/model/missing.ts");class o extends i.default{constructor(e,t){super(e,t),this.format=Object(n.timeFormat)(t.dateFormat||"%x"),this.parse=t.dateParse?Object(n.timeParse)(t.dateParse):Object(n.timeParse)(t.dateFormat||"%x"),this.setDefaultRenderer("default")}parseValue(e){return Object(s.isMissingValue)(e)?null:e instanceof Date?e:this.parse(String(e))}getValue(e){return super.getValue(e).map(({key:e,value:t})=>({key:e,value:this.parseValue(t)}))}getLabels(e){return this.getValue(e).map(({key:e,value:t})=>({key:e,value:t instanceof Date?this.format(t):""}))}}},"./src/model/DummyColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i});var n=r("./src/model/Column.ts");class i extends n.default{constructor(e,t){super(e,t)}getLabel(){return""}getValue(){return""}compare(){return 0}}},"./src/model/Group.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"defaultGroup",function(){return n});const n={name:"Default",color:"gray"}},"./src/model/GroupColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"createGroupDesc",function(){return a});var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/model/annotations.ts"),s=r("./src/model/Column.ts"),o=r("./src/model/missing.ts");function a(e="Group Name"){return{type:"group",label:e}}let u=class extends s.default{constructor(){super(...arguments),this.groupSortMethod="name"}get frozen(){return!1!==this.desc.frozen}getLabel(){return""}getValue(){return""}compare(){return 0}getSortMethod(){return this.groupSortMethod}setSortMethod(e){this.groupSortMethod!==e&&(this.fire([s.default.EVENT_SORTMETHOD_CHANGED],this.groupSortMethod,this.groupSortMethod=e),this.isGroupSortedByMe().asc||this.toggleMyGroupSorting())}groupCompare(e,t){switch(this.groupSortMethod){case"count":return e.rows.length-t.rows.length;default:return e.name===o.missingGroup.name?t.name===o.missingGroup.name?0:o.FIRST_IS_NAN:t.name===o.missingGroup.name?-o.FIRST_IS_NAN:e.name.toLowerCase().localeCompare(t.name.toLowerCase())}}};u=n.__decorate([Object(i.SupportType)(),Object(i.toolbar)("sortGroup"),Object(i.Category)("support")],u),t.default=u},"./src/model/HierarchyColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"resolveInnerNodes",function(){return h}),r.d(t,"isHierarchical",function(){return f}),r.d(t,"deriveHierarchy",function(){return p});var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/model/annotations.ts"),s=r("./src/model/CategoricalColumn.ts"),o=r("./src/model/Column.ts"),a=r("./src/model/internal.ts"),u=r("./src/model/missing.ts"),l=r("./src/model/ValueColumn.ts");let c=m=class extends l.default{constructor(e,t){super(e,t),this.currentMaxDepth=1/0,this.currentLeaves=[],this.currentLeavesNameCache=new Map,this.currentLeavesPathCache=new Map,this.hierarchySeparator=t.hierarchySeparator||".",this.hierarchy=this.initHierarchy(t.hierarchy),this.currentNode=this.hierarchy,this.currentLeaves=d(this.currentNode,this.currentMaxDepth),this.updateCaches(),this.setDefaultRenderer("categorical")}initHierarchy(e){const t=Object(a.colorPool)(),r=this.hierarchySeparator,n=(e,i)=>{const s=null==i.name?String(i.value):i.name,o=(i.children||[]).map(i=>{if("string"==typeof i){const r=e+i;return{path:r,name:i,label:r,color:t(),value:0,children:[]}}const o=n(`${e}${s}${r}`,i);return o.color||(o.color=t()),o}),a=e+s,u=i.label?`${i.label}`:a;return{path:a,name:s,children:o,label:u,color:i.color,value:0}};return n("",e)}get categories(){return this.currentLeaves}createEventList(){return super.createEventList().concat([m.EVENT_CUTOFF_CHANGED])}getCutOff(){return{node:this.currentNode,maxDepth:this.currentMaxDepth}}setCutOff(e){const t=null==e.maxDepth?1/0:e.maxDepth;if(this.currentNode===e.node&&this.currentMaxDepth===t)return;const r=this.getCutOff();this.currentNode=e.node,this.currentMaxDepth=t,this.currentLeaves=d(e.node,t),this.updateCaches(),this.fire([m.EVENT_CUTOFF_CHANGED,o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY],r,this.getCutOff())}getCategory(e){let t=super.getValue(e);return null==t||""===t?null:(t=t.trim(),this.currentLeavesNameCache.has(t)?this.currentLeavesNameCache.get(t):this.currentLeavesPathCache.has(t)?this.currentLeavesPathCache.get(t):this.currentLeaves.find(e=>e.path===t||e.name===t||t.startsWith(e.path+this.hierarchySeparator))||null)}get dataLength(){return this.currentLeaves.length}get labels(){return this.currentLeaves.map(e=>e.label)}getValue(e){const t=this.getCategory(e);return t?t.name:null}getLabel(e){return s.default.prototype.getLabel.call(this,e)}getLabels(e){return s.default.prototype.getLabels.call(this,e)}getValues(e){return s.default.prototype.getValues.call(this,e)}getMap(e){return s.default.prototype.getMap.call(this,e)}getMapLabel(e){return s.default.prototype.getMapLabel.call(this,e)}getSet(e){return s.default.prototype.getSet.call(this,e)}compare(e,t){return s.default.prototype.compare.call(this,e,t)}group(e){if(this.isMissing(e))return u.missingGroup;const t=this.getCategory(e);return t?{name:t.label,color:t.color}:super.group(e)}updateCaches(){this.currentLeavesPathCache.clear(),this.currentLeavesNameCache.clear(),this.currentLeaves.forEach(e=>{this.currentLeavesPathCache.set(e.path,e),this.currentLeavesNameCache.set(e.name,e)})}};function d(e,t=1/0){const r=[],n=(e,i)=>{i>=t||0===e.children.length?r.push(e):e.children.forEach(e=>n(e,i+1))};return n(e,0),r}function h(e){const t=[e];let r=0;for(;r<t.length;){const e=t[r++];t.push(...e.children)}return t}function f(e){return 0!==e.length&&"string"!=typeof e[0]&&e.some(e=>null!=e.parent)}function p(e){const t=new Map;e.forEach(e=>{const r=e.parent||"",n=Object.assign({children:[],label:e.name,name:e.name,color:o.default.DEFAULT_COLOR,value:0},t.get(e.name)||{},e);t.set(e.name,n),t.has(r)||t.set(r,{name:r,children:[],label:r,value:0,color:o.default.DEFAULT_COLOR}),t.get(r).children.push(n)});const r=t.get("");return console.assert(void 0!==r,"hierarchy with no root"),1===r.children.length?r.children[0]:r}var m;c.EVENT_CUTOFF_CHANGED="cutOffChanged",c=m=n.__decorate([Object(i.toolbar)("cutoff","stratify"),Object(i.Category)("categorical")],c),t.default=c},"./src/model/IArrayColumn.ts":function(e,t,r){"use strict";function n(e){return"function"==typeof e.getMap&&"function"==typeof e.getMapLabel}function i(e){return"function"==typeof e.getLabels&&"function"==typeof e.getValues&&n(e)}r.r(t),r.d(t,"isMapColumn",function(){return n}),r.d(t,"isArrayColumn",function(){return i})},"./src/model/ICategoricalColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"isSetColumn",function(){return a}),r.d(t,"toCategory",function(){return u}),r.d(t,"compareCategory",function(){return l}),r.d(t,"toCategories",function(){return c}),r.d(t,"isCategoricalColumn",function(){return d}),r.d(t,"isEqualCategoricalFilter",function(){return f}),r.d(t,"isCategoryIncluded",function(){return p});var n=r("./src/model/Column.ts"),i=r("./src/model/IArrayColumn.ts"),s=r("./src/model/internal.ts"),o=r("./src/model/missing.ts");function a(e){return Object(i.isArrayColumn)(e)&&Array.isArray(e.categories)}function u(e,t,r=(()=>n.default.DEFAULT_COLOR)){if("string"==typeof e)return{name:e,label:e,color:r(),value:t};const i=null==e.name?String(e.value):e.name;return{name:i,label:e.label||i,color:e.color||r(),value:null!=e.value?e.value:t}}function l(e,t){const r=null==e||isNaN(e.value),n=null==t||isNaN(t.value);return r||null==e?n?0:o.FIRST_IS_NAN:n||null==t?-o.FIRST_IS_NAN:e.value===t.value?e.label.toLowerCase().localeCompare(t.label.toLowerCase()):e.value-t.value}function c(e){if(!e.categories)return[];const t=Object(s.colorPool)(),r=e.categories.length-1;return e.categories.map((e,n)=>u(e,n/r,t)).sort(l)}function d(e){return e instanceof n.default&&"function"==typeof e.getCategory||!(e instanceof n.default)&&null!=e.type.match(/(categorical|ordinal|hierarchy)/)}function h(e){return null==e||!e.filterMissing&&(null==e.filter||""===e.filter||Array.isArray(e.filter)&&0===e.filter.length)}function f(e,t){return e===t||(null==e||null==t?h(e)===h(t):e.filterMissing===t.filterMissing&&typeof e.filter==typeof t.filter&&(Array.isArray(e.filter)?function(e,t){const r=null!=e?e.length:0,n=null!=t?t.length:0;if(r!==n)return!1;if(0===r)return!0;return e.every((e,r)=>e===t[r])}(e.filter,t.filter):String(e.filter)===String(t.filter)))}function p(e,t){if(!e)return!0;if(null==t||isNaN(t.value))return!e.filterMissing;const r=e.filter;return Array.isArray(r)?r.indexOf(t.name)>=0:"string"==typeof r&&r.length>0?t.name.toLowerCase().indexOf(r.toLowerCase())>=0:!(r instanceof RegExp)||r.test(t.name)}},"./src/model/INumberColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"DEFAULT_FORMATTER",function(){return a}),r.d(t,"isNumberColumn",function(){return u}),r.d(t,"compareBoxPlot",function(){return l}),r.d(t,"getBoxPlotNumber",function(){return c}),r.d(t,"ESortMethod",function(){return d}),r.d(t,"isBoxPlotColumn",function(){return f}),r.d(t,"EAdvancedSortMethod",function(){return h}),r.d(t,"isNumbersColumn",function(){return p}),r.d(t,"numberCompare",function(){return m}),r.d(t,"noNumberFilter",function(){return g}),r.d(t,"isEqualNumberFilter",function(){return b}),r.d(t,"isNumberIncluded",function(){return y});var n=r("./node_modules/d3-format/index.js"),i=r("./src/internal/index.ts"),s=r("./src/model/Column.ts"),o=r("./src/model/missing.ts");const a=Object(n.format)(".3n");function u(e){return e instanceof s.default&&"function"==typeof e.getNumber||!(e instanceof s.default)&&null!=e.type.match(/(number|stack|ordinal)/)}function l(e,t,r){const n=e.getBoxPlotData(t),i=e.getBoxPlotData(r);if(null==n)return null==i?0:o.FIRST_IS_NAN;if(null==i)return-1*o.FIRST_IS_NAN;const s=e.getSortMethod();return m(n[s],i[s])}function c(e,t,r){const n="normalized"===r?e.getBoxPlotData(t):e.getRawBoxPlotData(t);return null==n?NaN:n[e.getSortMethod()]}var d,h;function f(e){return"function"==typeof e.getBoxPlotData}function p(e){return f(e)&&"function"==typeof e.getNumbers}function m(e,t,r=!1,n=!1){return r=r||null==e||isNaN(e),n=n||null==t||isNaN(t),r?n?0:o.FIRST_IS_NAN:n?-1*o.FIRST_IS_NAN:e-t}function g(){return{min:-1/0,max:1/0,filterMissing:!1}}function b(e,t){return Object(i.similar)(e.min,t.min,.001)&&Object(i.similar)(e.max,t.max,.001)&&e.filterMissing===t.filterMissing}function y(e,t){return!e||(isNaN(t)?!e.filterMissing:!(isFinite(e.min)&&t<e.min||isFinite(e.max)&&t>e.max))}!function(e){e.min="min",e.max="max",e.median="median",e.q1="q1",e.q3="q3"}(d||(d={})),function(e){e.min="min",e.max="max",e.median="median",e.q1="q1",e.q3="q3",e.mean="mean"}(h||(h={}))},"./src/model/ImpositionBoxPlotColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"createImpositionBoxPlotDesc",function(){return h});var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/internal/AEventDispatcher.ts"),s=r("./src/model/annotations.ts"),o=r("./src/model/BoxPlotColumn.ts"),a=r("./src/model/CompositeColumn.ts"),u=r("./src/model/ICategoricalColumn.ts"),l=r("./src/model/INumberColumn.ts"),c=r("./src/model/MappingFunction.ts"),d=r("./src/model/NumbersColumn.ts");function h(e="Imposition"){return{type:"impositions",label:e}}let f=p=class extends a.default{constructor(e,t){super(e,t),this.setDefaultRenderer("boxplot"),this.setDefaultGroupRenderer("boxplot")}get label(){const e=super.getMetaData().label,t=this._children;return"Imposition"!==e||0===t.length?e:1===t.length?t[0].label:`${t[0].label} (${t.slice(1).map(e=>e.label).join(", ")})`}get wrapper(){const e=this._children;return 0===e.length?null:e[0]}getLabel(e){const t=this._children;return 0===t.length?"":1===t.length?t[0].getLabel(e):`${t[0].getLabel(e)} (${t.slice(1).map(t=>`${t.label} = ${t.getLabel(e)}`)})`}getColor(e){const t=this._children;if(t.length<2)return this.color;const r=t[1].getCategory(e);return r?r.color:this.color}createEventList(){return super.createEventList().concat([p.EVENT_MAPPING_CHANGED])}getValue(e){const t=this.wrapper;return t?t.getValue(e):null}getNumber(e){const t=this.wrapper;return t?t.getNumber(e):NaN}getRawNumber(e){const t=this.wrapper;return t?t.getRawNumber(e):NaN}getBoxPlotData(e){const t=this.wrapper;return t?t.getBoxPlotData(e):null}getRawBoxPlotData(e){const t=this.wrapper;return t?t.getRawBoxPlotData(e):null}getMapping(){const e=this.wrapper;return e?e.getMapping():new c.ScaleMappingFunction}getOriginalMapping(){const e=this.wrapper;return e?e.getOriginalMapping():new c.ScaleMappingFunction}getSortMethod(){const e=this.wrapper;return e?e.getSortMethod():l.ESortMethod.min}setSortMethod(e){const t=this.wrapper;return t?t.setSortMethod(e):void 0}isMissing(e){const t=this.wrapper;return!t||t.isMissing(e)}setMapping(e){const t=this.wrapper;return t?t.setMapping(e):void 0}getFilter(){const e=this.wrapper;return e?e.getFilter():Object(l.noNumberFilter)()}setFilter(e){const t=this.wrapper;return t?t.setFilter(e):void 0}getRange(){const e=this.wrapper;return e?e.getRange():["0","1"]}compare(e,t){return o.default.prototype.compare.call(this,e,t)}group(e){return o.default.prototype.group.call(this,e)}groupCompare(e,t){return o.default.prototype.groupCompare.call(this,e,t)}insert(e,t){return(0!==this._children.length||Object(l.isBoxPlotColumn)(e))&&(1!==this._children.length||Object(u.isCategoricalColumn)(e))?this._children.length>=2?null:super.insert(e,t):null}insertImpl(e,t){return Object(l.isBoxPlotColumn)(e)&&this.forward(e,...Object(i.suffix)(".impose",o.default.EVENT_MAPPING_CHANGED)),super.insertImpl(e,t)}removeImpl(e,t){return Object(l.isBoxPlotColumn)(e)&&this.unforward(e,...Object(i.suffix)(".impose",o.default.EVENT_MAPPING_CHANGED)),super.removeImpl(e,t)}};var p;f.EVENT_MAPPING_CHANGED=d.default.EVENT_MAPPING_CHANGED,f=p=n.__decorate([Object(s.toolbar)("sortNumbers","filterMapped")],f),t.default=f},"./src/model/ImpositionCompositeColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"createImpositionDesc",function(){return c});var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/internal/AEventDispatcher.ts"),s=r("./src/model/annotations.ts"),o=r("./src/model/CompositeColumn.ts"),a=r("./src/model/ICategoricalColumn.ts"),u=r("./src/model/INumberColumn.ts"),l=r("./src/model/NumberColumn.ts");function c(e="Imposition"){return{type:"imposition",label:e}}let d=h=class extends o.default{constructor(e,t){super(e,t),this.setDefaultRenderer("number"),this.setDefaultGroupRenderer("boxplot")}get label(){const e=super.getMetaData().label,t=this._children;return"Imposition"!==e||0===t.length?e:1===t.length?t[0].label:`${t[0].label} (${t.slice(1).map(e=>e.label).join(", ")})`}get wrapper(){const e=this._children;return 0===e.length?null:e[0]}createEventList(){return super.createEventList().concat([h.EVENT_MAPPING_CHANGED])}getLabel(e){const t=this._children;return 0===t.length?"":1===t.length?t[0].getLabel(e):`${t[0].getLabel(e)} (${t.slice(1).map(t=>`${t.label} = ${t.getLabel(e)}`).join(", ")})`}getColor(e){const t=this._children;if(t.length<2)return this.color;const r=t[1].getCategory(e);return r?r.color:this.color}getValue(e){const t=this.wrapper;return t?t.getValue(e):[]}getNumber(e){const t=this.wrapper;return t?t.getNumber(e):NaN}getRawNumber(e){const t=this.wrapper;return t?t.getRawNumber(e):NaN}isMissing(e){const t=this.wrapper;return!t||t.isMissing(e)}compare(e,t){return l.default.prototype.compare.call(this,e,t)}group(e){return l.default.prototype.group.call(this,e)}groupCompare(e,t){return l.default.prototype.groupCompare.call(this,e,t)}insert(e,t){return(0!==this._children.length||Object(u.isNumberColumn)(e))&&(1!==this._children.length||Object(a.isCategoricalColumn)(e))?this._children.length>=2?null:super.insert(e,t):null}insertImpl(e,t){return Object(u.isNumberColumn)(e)&&this.forward(e,...Object(i.suffix)(".impose",l.default.EVENT_MAPPING_CHANGED)),super.insertImpl(e,t)}removeImpl(e,t){return Object(u.isNumberColumn)(e)&&this.unforward(e,...Object(i.suffix)(".impose",l.default.EVENT_MAPPING_CHANGED)),super.removeImpl(e,t)}};var h;d.EVENT_MAPPING_CHANGED=l.default.EVENT_MAPPING_CHANGED,d=h=n.__decorate([Object(s.toolbar)("filterMapped")],d),t.default=d},"./src/model/ImpositionCompositesColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"createImpositionsDesc",function(){return d});var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/internal/AEventDispatcher.ts"),s=r("./src/model/annotations.ts"),o=r("./src/model/CompositeColumn.ts"),a=r("./src/model/ICategoricalColumn.ts"),u=r("./src/model/INumberColumn.ts"),l=r("./src/model/MappingFunction.ts"),c=r("./src/model/NumbersColumn.ts");function d(e="Imposition"){return{type:"impositions",label:e}}let h=f=class extends o.default{constructor(e,t){super(e,t),this.setDefaultRenderer("numbers"),this.setDefaultGroupRenderer("numbers")}get label(){const e=super.getMetaData().label,t=this._children;return"Imposition"!==e||0===t.length?e:1===t.length?t[0].label:`${t[0].label} (${t.slice(1).map(e=>e.label).join(", ")})`}get wrapper(){const e=this._children;return 0===e.length?null:e[0]}getLabel(e){const t=this._children;return 0===t.length?"":1===t.length?t[0].getLabel(e):`${t[0].getLabel(e)} (${t.slice(1).map(t=>`${t.label} = ${t.getLabel(e)}`)})`}getColor(e){const t=this._children;if(t.length<2)return this.color;const r=t[1].getCategory(e);return r?r.color:this.color}createEventList(){return super.createEventList().concat([f.EVENT_MAPPING_CHANGED])}get labels(){const e=this.wrapper;return e?e.labels:[]}get dataLength(){const e=this.wrapper;return e?e.dataLength:null}getValue(e){const t=this.wrapper;return t?t.getValue(e):[]}getNumber(e){const t=this.wrapper;return t?t.getNumber(e):NaN}getRawNumber(e){const t=this.wrapper;return t?t.getRawNumber(e):NaN}getNumbers(e){const t=this.wrapper;return t?t.getNumbers(e):[]}getRawNumbers(e){const t=this.wrapper;return t?t.getRawNumbers(e):[]}getBoxPlotData(e){const t=this.wrapper;return t?t.getBoxPlotData(e):null}getRawBoxPlotData(e){const t=this.wrapper;return t?t.getRawBoxPlotData(e):null}getMapping(){const e=this.wrapper;return e?e.getMapping():new l.ScaleMappingFunction}getOriginalMapping(){const e=this.wrapper;return e?e.getOriginalMapping():new l.ScaleMappingFunction}getSortMethod(){const e=this.wrapper;return e?e.getSortMethod():u.EAdvancedSortMethod.min}setSortMethod(e){const t=this.wrapper;return t?t.setSortMethod(e):void 0}isMissing(e){const t=this.wrapper;return!t||t.isMissing(e)}setMapping(e){const t=this.wrapper;return t?t.setMapping(e):void 0}getFilter(){const e=this.wrapper;return e?e.getFilter():Object(u.noNumberFilter)()}setFilter(e){const t=this.wrapper;return t?t.setFilter(e):void 0}getRange(){const e=this.wrapper;return e?e.getRange():["0","1"]}getMap(e){const t=this.wrapper;return t?t.getMap(e):[]}getMapLabel(e){const t=this.wrapper;return t?t.getMapLabel(e):[]}getLabels(e){const t=this.wrapper;return t?t.getLabels(e):[]}getValues(e){const t=this.wrapper;return t?t.getValues(e):[]}compare(e,t){return c.default.prototype.compare.call(this,e,t)}group(e){return c.default.prototype.group.call(this,e)}groupCompare(e,t){return c.default.prototype.groupCompare.call(this,e,t)}insert(e,t){return(0!==this._children.length||Object(u.isNumbersColumn)(e))&&(1!==this._children.length||Object(a.isCategoricalColumn)(e))?this._children.length>=2?null:super.insert(e,t):null}insertImpl(e,t){return Object(u.isNumbersColumn)(e)&&this.forward(e,...Object(i.suffix)(".impose",c.default.EVENT_MAPPING_CHANGED)),super.insertImpl(e,t)}removeImpl(e,t){return Object(u.isNumbersColumn)(e)&&this.unforward(e,...Object(i.suffix)(".impose",c.default.EVENT_MAPPING_CHANGED)),super.removeImpl(e,t)}};var f;h.EVENT_MAPPING_CHANGED=c.default.EVENT_MAPPING_CHANGED,h=f=n.__decorate([Object(s.toolbar)("sortNumbers","filterMapped")],h),t.default=h},"./src/model/MapColumn.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/model/annotations.ts"),s=r("./src/model/ValueColumn.ts");let o=class extends s.default{constructor(e,t){super(e,t),this.setDefaultWidth(200)}getValue(e){return function(e){if(!e)return[];if(e instanceof Map)return Array.from(e.entries()).map(([e,t])=>({key:e,value:t})).sort(a);if(Array.isArray(e))return e;return Object.keys(e).map(t=>({key:t,value:e[t]})).sort(a)}(super.getValue(e))}getLabels(e){return this.getValue(e).map(({key:e,value:t})=>({key:e,value:String(t)}))}getMap(e){return this.getValue(e)}getMapLabel(e){return this.getLabels(e)}getLabel(e){return`{${this.getLabels(e).map(({key:e,value:t})=>`${e}: ${t}`).join(", ")}}`}};function a(e,t){return e===t?0:e.key.localeCompare(t.key)}o=n.__decorate([Object(i.Category)("map")],o),t.default=o},"./src/model/MappingFunction.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"isMapAbleColumn",function(){return o}),r.d(t,"ScaleMappingFunction",function(){return l}),r.d(t,"ScriptMappingFunction",function(){return c}),r.d(t,"createMappingFunction",function(){return d}),r.d(t,"restoreMapping",function(){return h});var n=r("./node_modules/d3-scale/index.js"),i=r("./src/internal/index.ts");function s(e="linear"){switch(e){case"log":return Object(n.scaleLog)().clamp(!0);case"sqrt":return Object(n.scaleSqrt)().clamp(!0);case"pow1.1":return Object(n.scalePow)().exponent(1.1).clamp(!0);case"pow2":return Object(n.scalePow)().exponent(2).clamp(!0);case"pow3":return Object(n.scalePow)().exponent(3).clamp(!0);default:return Object(n.scaleLinear)().clamp(!0)}}function o(e){return"function"==typeof e.getMapping}function a(e,t){return e.length===t.length&&e.every((e,r)=>Object(i.similar)(e,t[r],1e-4))}function u(e,t){return"log"===t&&0===e[0]&&(e[0]=1e-7),e}class l{constructor(e=[0,1],t="linear",r=[0,1]){this.type=t,this.s=s(t).domain(u(e,this.type)).range(r)}get domain(){return this.s.domain()}set domain(e){this.s.domain(u(e,this.type))}get range(){return this.s.range()}set range(e){this.s.range(e)}getRange(e){return[e(this.invert(0)),e(this.invert(1))]}apply(e){return this.s(e)}invert(e){return this.s.invert(e)}get scaleType(){return this.type}dump(){return{type:this.type,domain:this.domain,range:this.range}}eq(e){if(!(e instanceof l))return!1;const t=e;return t.type===this.type&&a(this.domain,t.domain)&&a(this.range,t.range)}restore(e){this.type=e.type,this.s=s(e.type).domain(e.domain).range(e.range)}clone(){return new l(this.domain,this.type,this.range)}}class c{constructor(e=[0,1],t="return this.linear(value,this.value_min,this.value_max);"){this.domain=e,this._code=t,this.f=new Function("value",t)}get code(){return this._code}set code(e){this._code!==e&&(this._code=e,this.f=new Function("value",e))}getRange(){return["?","?"]}apply(e){const t=this.domain[0],r=this.domain[this.domain.length-1],n=this.f.call({value_min:t,value_max:r,value_range:r-t,value_domain:this.domain.slice(),linear:(e,t,r)=>(e-t)/(r-t)},e);return"number"==typeof n?Math.max(Math.min(n,1),0):NaN}dump(){return{type:"script",code:this.code,domain:this.domain}}eq(e){if(!(e instanceof c))return!1;return e.code===this.code}restore(e){this.code=e.code,this.domain=e.domain}clone(){return new c(this.domain,this.code)}}function d(e){if("script"===e.type){const t=new c;return t.restore(e),t}const t=new l;return t.restore(e),t}function h(e){return e.map?d(e.map):e.domain?new l(e.domain,"linear",e.range||[0,1]):new l([0,1],"linear",[0,1])}},"./src/model/MultiLevelCompositeColumn.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/internal/math.ts"),s=r("./src/model/annotations.ts"),o=r("./src/model/Column.ts"),a=r("./src/model/CompositeColumn.ts"),u=r("./src/model/INumberColumn.ts"),l=r("./src/model/StackColumn.ts");let c=d=class extends a.default{constructor(e,t){super(e,t),this.collapsed=!1;const r=this;this.adaptChange=function(e,t){r.adaptWidthChange(e,t)}}createEventList(){return super.createEventList().concat([d.EVENT_COLLAPSE_CHANGED,d.EVENT_MULTI_LEVEL_CHANGED])}setCollapsed(e){this.collapsed!==e&&this.fire([l.default.EVENT_COLLAPSE_CHANGED,o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY],this.collapsed,this.collapsed=e)}getCollapsed(){return this.collapsed}dump(e){const t=super.dump(e);return t.collapsed=this.collapsed,t}restore(e,t){this.collapsed=!0===e.collapsed,super.restore(e,t)}flatten(e,t,r=0,n=0){return l.default.prototype.flatten.call(this,e,t,r,n)}insert(e,t){return e.on(`${o.default.EVENT_WIDTH_CHANGED}.stack`,this.adaptChange),super.setWidth(0===this.length?e.getWidth():this.getWidth()+e.getWidth()),super.insert(e,t)}adaptWidthChange(e,t){if(Object(i.similar)(e,t,.5))return;const r=this.getWidth(),n=r+(t-e);this.fire([d.EVENT_MULTI_LEVEL_CHANGED,o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY],r,n),super.setWidth(n)}removeImpl(e,t){return e.on(`${o.default.EVENT_WIDTH_CHANGED}.stack`,null),super.setWidth(0===this.length?100:this.getWidth()-e.getWidth()),super.removeImpl(e,t)}setWidth(e){const t=this.getWidth(),r=e/t;this._children.forEach(e=>{e.setWidthImpl(e.getWidth()*r)}),Object(i.similar)(t,e,.5)||this.fire([d.EVENT_MULTI_LEVEL_CHANGED,o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY],t,e),super.setWidth(e)}getRenderer(){return this.getCollapsed()?d.EVENT_COLLAPSE_CHANGED:super.getRenderer()}isMissing(e){return!!this.getCollapsed()&&this._children.some(t=>(Object(u.isNumberColumn)(t)||Object(a.isMultiLevelColumn)(t))&&t.isMissing(e))}};var d;c.EVENT_COLLAPSE_CHANGED=l.default.EVENT_COLLAPSE_CHANGED,c.EVENT_MULTI_LEVEL_CHANGED=l.default.EVENT_MULTI_LEVEL_CHANGED,c=d=n.__decorate([Object(s.toolbar)("collapse")],c),t.default=c},"./src/model/NestedColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"createNestedDesc",function(){return i}),r.d(t,"default",function(){return s});var n=r("./src/model/MultiLevelCompositeColumn.ts");function i(e="Nested"){return{type:"nested",label:e}}class s extends n.default{compare(e,t){const r=this.children;for(const n of r){const r=n.compare(e,t);if(0!==r)return r}return 0}getLabel(e){return this.children.map(t=>t.getLabel(e)).join(";")}getValue(e){return this.children.map(t=>t.getValue(e)).join(";")}}},"./src/model/NumberColumn.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./node_modules/d3-format/index.js"),s=r("./src/internal/index.ts"),o=r("./src/model/annotations.ts"),a=r("./src/model/Column.ts"),u=r("./src/model/internal.ts"),l=r("./src/model/INumberColumn.ts"),c=r("./src/model/MappingFunction.ts"),d=r("./src/model/missing.ts"),h=r("./src/model/ValueColumn.ts");r.d(t,"INumberColumn",function(){return l.default}),r.d(t,"isNumberColumn",function(){return l.isNumberColumn});let f=p=class extends h.default{constructor(e,t){super(e,t),this.currentFilter=Object(l.noNumberFilter)(),this.numberFormat=Object(i.format)(".2f"),this.currentStratifyThresholds=[],this.groupSortMethod=l.EAdvancedSortMethod.median,this.mapping=Object(c.restoreMapping)(t),this.original=this.mapping.clone(),t.numberFormat&&(this.numberFormat=Object(i.format)(t.numberFormat)),this.missingValue=null!=t.missingValue?t.missingValue:NaN,this.setGroupRenderer("boxplot"),this.setDefaultSummaryRenderer("histogram")}dump(e){const t=super.dump(e);return t.map=this.mapping.dump(),t.filter=Object(u.isDummyNumberFilter)(this.currentFilter)?null:this.currentFilter,t.groupSortMethod=this.groupSortMethod,this.currentStratifyThresholds&&(t.stratifyThreshholds=this.currentStratifyThresholds),t}restore(e,t){super.restore(e,t),e.map?this.mapping=Object(c.createMappingFunction)(e.map):e.domain&&(this.mapping=new c.ScaleMappingFunction(e.domain,"linear",e.range||[0,1])),e.groupSortMethod&&(this.groupSortMethod=e.groupSortMethod),e.filter&&(this.currentFilter=Object(u.restoreFilter)(e.filter)),e.stratifyThreshholds&&(this.currentStratifyThresholds=e.stratifyThresholds),e.numberFormat&&(this.numberFormat=Object(i.format)(e.numberFormat))}createEventList(){return super.createEventList().concat([p.EVENT_MAPPING_CHANGED])}getLabel(e){if(this.desc.numberFormat){const t=this.getRawValue(e);return isNaN(t)?"NaN":isFinite(t)?this.numberFormat(t):t.toString()}const t=super.getValue(e);return"number"==typeof t?this.numberFormat(+t):String(t)}getRange(){return this.mapping.getRange(this.numberFormat)}getRawValue(e,t=this.missingValue){const r=super.getValue(e);return Object(d.isMissingValue)(r)?t:+r}isMissing(e){return Object(d.isMissingValue)(super.getValue(e))}getValue(e){const t=this.getRawValue(e);return isNaN(t)?t:this.mapping.apply(t)}getNumber(e){return this.getValue(e)}getRawNumber(e,t=this.missingValue){return this.getRawValue(e,t)}compare(e,t){return Object(l.numberCompare)(this.getNumber(e),this.getNumber(t),this.isMissing(e),this.isMissing(t))}groupCompare(e,t){return Object(u.groupCompare)(e.rows,t.rows,this,this.groupSortMethod)}getOriginalMapping(){return this.original.clone()}getMapping(){return this.mapping.clone()}setMapping(e){this.mapping.eq(e)||this.fire([p.EVENT_MAPPING_CHANGED,a.default.EVENT_DIRTY_VALUES,a.default.EVENT_DIRTY],this.mapping.clone(),this.mapping=e)}isFiltered(){return!Object(u.isDummyNumberFilter)(this.currentFilter)}getFilter(){return Object.assign({},this.currentFilter)}setFilter(e={min:-1/0,max:1/0,filterMissing:!1}){if(Object(l.isEqualNumberFilter)(e,this.currentFilter))return;const t=this.getFilter();this.currentFilter.min=Object(d.isUnknown)(e.min)?-1/0:e.min,this.currentFilter.max=Object(d.isUnknown)(e.max)?1/0:e.max,this.currentFilter.filterMissing=e.filterMissing,this.fire([a.default.EVENT_FILTER_CHANGED,a.default.EVENT_DIRTY_VALUES,a.default.EVENT_DIRTY],t,this.getFilter())}filter(e){return Object(l.isNumberIncluded)(this.currentFilter,this.getRawNumber(e,NaN))}getStratifyThresholds(){return this.currentStratifyThresholds.slice()}setStratifyThresholds(e){if(Object(s.equalArrays)(this.currentStratifyThresholds,e))return;const t=this.getStratifyThresholds();this.currentStratifyThresholds=e.slice(),this.fire([a.default.EVENT_GROUPING_CHANGED,a.default.EVENT_DIRTY_VALUES,a.default.EVENT_DIRTY],t,e)}group(e){if(0===this.currentStratifyThresholds.length)return super.group(e);if(this.isMissing(e))return d.missingGroup;const t=this.getRawNumber(e),r=this.currentStratifyThresholds.findIndex(e=>t<=e);switch(r){case-1:return{name:`${this.label} > ${this.currentStratifyThresholds[this.currentStratifyThresholds.length-1]}`,color:"gray"};case 0:return{name:`${this.label} <= ${this.currentStratifyThresholds[0]}`,color:"gray"};default:return{name:`${this.currentStratifyThresholds[r-1]} <= ${this.label} <= ${this.currentStratifyThresholds[r]}`,color:"gray"}}}getSortMethod(){return this.groupSortMethod}setSortMethod(e){this.groupSortMethod!==e&&(this.fire([a.default.EVENT_SORTMETHOD_CHANGED],this.groupSortMethod,this.groupSortMethod=e),this.isGroupSortedByMe().asc||this.toggleMyGroupSorting())}};var p;f.EVENT_MAPPING_CHANGED="mappingChanged",f=p=n.__decorate([Object(o.toolbar)("stratifyThreshold","sortNumbersGroup","filterMapped"),Object(o.Category)("number")],f),t.default=f},"./src/model/NumberMapColumn.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/internal/index.ts"),s=r("./src/model/annotations.ts"),o=r("./src/model/Column.ts"),a=r("./src/model/internal.ts"),u=r("./src/model/INumberColumn.ts"),l=r("./src/model/MapColumn.ts"),c=r("./src/model/MappingFunction.ts"),d=r("./src/model/missing.ts"),h=r("./src/model/NumberColumn.ts");let f=p=class extends l.default{constructor(e,t){super(e,t),this.currentFilter=Object(u.noNumberFilter)(),this.mapping=Object(c.restoreMapping)(t),this.original=this.mapping.clone(),this.sort=t.sort||u.EAdvancedSortMethod.median,this.setDefaultRenderer("mapbars")}compare(e,t){return Object(u.compareBoxPlot)(this,e,t)}getBoxPlotData(e){const t=this.getRawValue(e);return null==t?null:new i.LazyBoxPlotData(t.map(e=>e.value),this.mapping)}getRange(){return this.mapping.getRange(u.DEFAULT_FORMATTER)}getRawBoxPlotData(e){const t=this.getRawValue(e);return null==t?null:new i.LazyBoxPlotData(t.map(e=>e.value))}getNumber(e){return Object(u.getBoxPlotNumber)(this,e,"normalized")}getRawNumber(e){return Object(u.getBoxPlotNumber)(this,e,"raw")}getValue(e){return this.getRawValue(e).map(({key:e,value:t})=>({key:e,value:Object(d.isMissingValue)(t)?NaN:this.mapping.apply(t)}))}getRawValue(e){const t=super.getValue(e);return null==t?[]:t}getLabels(e){return this.getValue(e).map(({key:e,value:t})=>({key:e,value:Object(u.DEFAULT_FORMATTER)(t)}))}getSortMethod(){return this.sort}setSortMethod(e){this.sort!==e&&(this.fire([o.default.EVENT_SORTMETHOD_CHANGED],this.sort,this.sort=e),this.isSortedByMe().asc||this.sortByMe())}dump(e){const t=super.dump(e);return t.sortMethod=this.getSortMethod(),t.filter=Object(a.isDummyNumberFilter)(this.currentFilter)?null:this.currentFilter,t.map=this.mapping.dump(),t}restore(e,t){super.restore(e,t),e.sortMethod&&(this.sort=e.sortMethod),e.filter&&(this.currentFilter=Object(a.restoreFilter)(e.filter)),e.map?this.mapping=Object(c.createMappingFunction)(e.map):e.domain&&(this.mapping=new c.ScaleMappingFunction(e.domain,"linear",e.range||[0,1]))}createEventList(){return super.createEventList().concat([p.EVENT_MAPPING_CHANGED])}getOriginalMapping(){return this.original.clone()}getMapping(){return this.mapping.clone()}setMapping(e){this.mapping.eq(e)||this.fire([p.EVENT_MAPPING_CHANGED,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY],this.mapping.clone(),this.mapping=e)}isFiltered(){return h.default.prototype.isFiltered.call(this)}getFilter(){return h.default.prototype.getFilter.call(this)}setFilter(e={min:-1/0,max:1/0,filterMissing:!1}){h.default.prototype.setFilter.call(this,e)}filter(e){return h.default.prototype.filter.call(this,e)}};var p;f.EVENT_MAPPING_CHANGED=h.default.EVENT_MAPPING_CHANGED,f=p=n.__decorate([Object(s.toolbar)("filterMapped","sortNumbers")],f),t.default=f},"./src/model/NumbersColumn.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/internal/index.ts"),s=r("./src/model/annotations.ts"),o=r("./src/model/ArrayColumn.ts"),a=r("./src/model/Column.ts"),u=r("./src/model/internal.ts"),l=r("./src/model/INumberColumn.ts"),c=r("./src/model/MappingFunction.ts"),d=r("./src/model/missing.ts"),h=r("./src/model/NumberColumn.ts");let f=p=class extends o.default{constructor(e,t){super(e,t),this.currentFilter=Object(l.noNumberFilter)(),this.mapping=Object(c.restoreMapping)(t),this.original=this.mapping.clone(),this.sort=t.sort||l.EAdvancedSortMethod.median,this.dataLength&&this.setDefaultWidth(Math.min(Math.max(100,10*this.dataLength),500)),this.setDefaultRenderer("heatmap"),this.setDefaultGroupRenderer("heatmap"),this.setDefaultSummaryRenderer("histogram")}compare(e,t){return Object(l.compareBoxPlot)(this,e,t)}getRawNumbers(e){return this.getRawValue(e)}getBoxPlotData(e){const t=this.getRawValue(e);return null==t?null:new i.LazyBoxPlotData(t,this.mapping)}getRange(){return this.mapping.getRange(l.DEFAULT_FORMATTER)}getRawBoxPlotData(e){const t=this.getRawValue(e);return null==t?null:new i.LazyBoxPlotData(t)}getNumbers(e){return this.getValue(e)}getNumber(e){return Object(l.getBoxPlotNumber)(this,e,"normalized")}getRawNumber(e){return Object(l.getBoxPlotNumber)(this,e,"raw")}getValue(e){return this.getRawValue(e).map(e=>Object(d.isMissingValue)(e)?NaN:this.mapping.apply(e))}getRawValue(e){const t=super.getValue(e);return null==t?[]:t}getLabels(e){return this.getValue(e).map(l.DEFAULT_FORMATTER)}getSortMethod(){return this.sort}setSortMethod(e){this.sort!==e&&(this.fire([a.default.EVENT_SORTMETHOD_CHANGED],this.sort,this.sort=e),this.isSortedByMe().asc||this.sortByMe())}dump(e){const t=super.dump(e);return t.sortMethod=this.getSortMethod(),t.filter=Object(u.isDummyNumberFilter)(this.currentFilter)?null:this.currentFilter,t.map=this.mapping.dump(),t}restore(e,t){super.restore(e,t),e.sortMethod&&(this.sort=e.sortMethod),e.filter&&(this.currentFilter=Object(u.restoreFilter)(e.filter)),e.map?this.mapping=Object(c.createMappingFunction)(e.map):e.domain&&(this.mapping=new c.ScaleMappingFunction(e.domain,"linear",e.range||[0,1]))}createEventList(){return super.createEventList().concat([p.EVENT_MAPPING_CHANGED])}getOriginalMapping(){return this.original.clone()}getMapping(){return this.mapping.clone()}setMapping(e){this.mapping.eq(e)||this.fire([p.EVENT_MAPPING_CHANGED,a.default.EVENT_DIRTY_VALUES,a.default.EVENT_DIRTY],this.mapping.clone(),this.mapping=e)}isFiltered(){return h.default.prototype.isFiltered.call(this)}getFilter(){return h.default.prototype.getFilter.call(this)}setFilter(e={min:-1/0,max:1/0,filterMissing:!1}){h.default.prototype.setFilter.call(this,e)}filter(e){return h.default.prototype.filter.call(this,e)}};var p;f.EVENT_MAPPING_CHANGED=h.default.EVENT_MAPPING_CHANGED,f.CENTER=0,f=p=n.__decorate([Object(s.toolbar)("sortNumbers","filterMapped")],f),t.default=f},"./src/model/OrdinalColumn.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./node_modules/d3-array/index.js"),s=r("./src/internal/index.ts"),o=r("./src/model/annotations.ts"),a=r("./src/model/CategoricalColumn.ts"),u=r("./src/model/Column.ts"),l=r("./src/model/ICategoricalColumn.ts"),c=r("./src/model/NumberColumn.ts"),d=r("./src/model/ValueColumn.ts");let h=f=class extends d.default{constructor(e,t){super(e,t),this.lookup=new Map,this.currentFilter=null,this.categories=Object(l.toCategories)(t),this.missingCategory=t.missingCategory?Object(l.toCategory)(t.missingCategory,NaN):null,this.categories.forEach(e=>this.lookup.set(e.name,e)),this.setDefaultRenderer("number"),this.setDefaultGroupRenderer("boxplot")}createEventList(){return super.createEventList().concat([f.EVENT_MAPPING_CHANGED])}get dataLength(){return this.categories.length}get labels(){return this.categories.map(e=>e.label)}getValue(e){const t=this.getCategory(e);return t?t.value:NaN}getCategory(e){const t=super.getValue(e);if(!t)return this.missingCategory;const r=String(t);return this.lookup.has(r)?this.lookup.get(r):this.missingCategory}getLabel(e){return a.default.prototype.getLabel.call(this,e)}getLabels(e){return a.default.prototype.getLabels.call(this,e)}getValues(e){return a.default.prototype.getValues.call(this,e)}getMap(e){return a.default.prototype.getMap.call(this,e)}getMapLabel(e){return a.default.prototype.getMapLabel.call(this,e)}getSet(e){return a.default.prototype.getSet.call(this,e)}getNumber(e){return this.getValue(e)}isMissing(e){return a.default.prototype.isMissing.call(this,e)}getRawNumber(e){return this.getNumber(e)}dump(e){const t=a.default.prototype.dump.call(this,e);return t.mapping=this.getMapping(),t}restore(e,t){a.default.prototype.restore.call(this,e,t),e.mapping&&this.setMapping(e.mapping)}getMapping(){return this.categories.map(e=>e.value)}setMapping(e){const t=Object(i.extent)(e);e=e.map(e=>(e-t[0])/(t[1]-t[0]));const r=this.getMapping();Object(s.equalArrays)(r,e)||(this.categories.forEach((t,r)=>t.value=e[r]||0),this.fire([f.EVENT_MAPPING_CHANGED,u.default.EVENT_DIRTY_VALUES,u.default.EVENT_DIRTY],r,this.getMapping()))}isFiltered(){return null!=this.currentFilter}filter(e){return a.default.prototype.filter.call(this,e)}group(e){return a.default.prototype.group.call(this,e)}getFilter(){return this.currentFilter}setFilter(e){return a.default.prototype.setFilter.call(this,e)}compare(e,t){return a.default.prototype.compare.call(this,e,t)}getRenderer(){return c.default.prototype.getRenderer.call(this)}};var f;h.EVENT_MAPPING_CHANGED=c.default.EVENT_MAPPING_CHANGED,h=f=n.__decorate([Object(o.toolbar)("stratify","filterOrdinal"),Object(o.Category)("categorical")],h),t.default=h},"./src/model/RankColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"createRankDesc",function(){return o});var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/model/annotations.ts"),s=r("./src/model/ValueColumn.ts");function o(e="Rank"){return{type:"rank",label:e}}let a=class extends s.default{constructor(e,t){super(e,t),this.setDefaultWidth(50)}get frozen(){return!1!==this.desc.frozen}};a=n.__decorate([Object(i.SupportType)(),Object(i.Category)("support")],a),t.default=a},"./src/model/Ranking.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return d});var n=r("./src/internal/index.ts"),i=r("./src/internal/AEventDispatcher.ts"),s=r("./src/model/annotations.ts"),o=r("./src/model/Column.ts"),a=r("./src/model/Group.ts"),u=r("./src/model/ICategoricalColumn.ts"),l=r("./src/model/internal.ts"),c=r("./src/model/StringColumn.ts");class d extends i.default{constructor(e,t=2,r=1){super(),this.id=e,this.maxSortCriteria=t,this.maxGroupColumns=r,this.sortCriteria=[],this.groupSortCriteria=[],this.groupColumns=[],this.columns=[],this.comparator=((e,t)=>{if(0===this.sortCriteria.length)return 0;for(const r of this.sortCriteria){const n=r.col.compare(e,t);if(0!==n)return r.asc?n:-n}return e.i-t.i}),this.groupComparator=((e,t)=>{if(0===this.groupSortCriteria.length)return e.name.toLowerCase().localeCompare(t.name.toLowerCase());for(const r of this.groupSortCriteria){const n=r.col.groupCompare(e,t);if(0!==n)return r.asc?n:-n}return e.name.localeCompare(t.name)}),this.grouper=(e=>{const t=this.groupColumns;switch(t.length){case 0:return a.defaultGroup;case 1:return t[0].group(e);default:const r=t.map(t=>t.group(e));return Object(l.joinGroups)(r)}}),this.dirtyOrder=(()=>{this.fire([d.EVENT_DIRTY_ORDER,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],this.getSortCriteria())}),this.groups=[Object.assign({order:[]},a.defaultGroup)],this.id=Object(n.fixCSS)(e)}createEventList(){return super.createEventList().concat([d.EVENT_WIDTH_CHANGED,d.EVENT_FILTER_CHANGED,d.EVENT_LABEL_CHANGED,d.EVENT_GROUPS_CHANGED,d.EVENT_ADD_COLUMN,d.EVENT_REMOVE_COLUMN,d.EVENT_GROUP_CRITERIA_CHANGED,d.EVENT_MOVE_COLUMN,d.EVENT_DIRTY,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_GROUP_SORT_CRITERIA_CHANGED,d.EVENT_COLUMN_VISIBILITY_CHANGED,d.EVENT_SORT_CRITERIA_CHANGED,d.EVENT_DIRTY_ORDER,d.EVENT_ORDER_CHANGED])}assignNewId(e){this.id=Object(n.fixCSS)(e()),this.columns.forEach(t=>t.assignNewId(e))}setOrder(e){this.setGroups([Object.assign({order:e},a.defaultGroup)])}setGroups(e){const t=this.getOrder(),r=this.groups;this.groups=e,this.fire([d.EVENT_ORDER_CHANGED,d.EVENT_GROUPS_CHANGED,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],t,this.getOrder(),r,e)}getOrder(){switch(this.groups.length){case 0:return[];case 1:return this.groups[0].order;default:return[].concat(...this.groups.map(e=>e.order))}}getGroups(){return this.groups.slice()}dump(e){const t={};return t.columns=this.columns.map(t=>t.dump(e)),t.sortCriterias=this.sortCriteria.map(e=>({asc:e.asc,sortBy:e.col.id})),t.groupColumns=this.groupColumns.map(e=>e.id),t}restore(e,t){if(this.clear(),e.columns.map(e=>{const r=t(e);r&&this.push(r)}),e.sortColumn&&e.sortColumn.sortBy){const t=this.columns.filter(t=>t.id===e.sortColumn.sortBy);this.sortBy(0===t.length?null:t[0],e.sortColumn.asc)}if(e.groupColumns){const t=e.groupColumns.map(e=>this.columns.find(t=>t.id===e));this.groupBy(t)}const r=e=>e.map(e=>({asc:e.asc,col:this.columns.find(t=>t.id===e.sortBy)||null})).filter(e=>e.col);e.sortCriterias&&this.setSortCriteria(r(e.sortCriterias)),e.groupSortCriterias&&this.setGroupSortCriteria(r(e.groupSortCriterias))}flatten(e,t,r=0,n=0){let i=t;return(r>0||r<=o.default.FLAT_ALL_COLUMNS)&&this.columns.forEach(t=>{t.getVisible()&&r<=o.default.FLAT_ALL_COLUMNS&&(i+=t.flatten(e,i,r-1,n)+n)}),i-t}getPrimarySortCriteria(){return 0===this.sortCriteria.length?null:this.sortCriteria[0]}getSortCriteria(){return this.sortCriteria.map(e=>Object.assign({},e))}getGroupSortCriteria(){return this.groupSortCriteria.map(e=>Object.assign({},e))}toggleSorting(e){const t=this.groupColumns.reduce((e,t)=>e+(Object(u.isCategoricalColumn)(t)?1:0),0);if(t<=0){const t=this.getPrimarySortCriteria();return t&&t.col===e?this.sortBy(e,!t.asc):this.sortBy(e)}const r=this.sortCriteria.findIndex(t=>t.col===e),n=this.sortCriteria.slice();return r>0&&r===t?n[r]={col:e,asc:!n[r].asc}:r>0?n.splice(r,1):n.splice(t,0,{col:e,asc:!1}),this.setSortCriteria(n)}toggleGrouping(e){const t=this.groupColumns.indexOf(e);if(t>=0){const r=this.groupColumns.slice();return r.splice(t,1),Object(u.isCategoricalColumn)(e)&&this.sortCriteria[t]&&this.sortCriteria[t].col===e&&this.sortCriteria.splice(t,1),this.groupBy(r)}if(Object(u.isCategoricalColumn)(e)){const t=this.sortCriteria.findIndex(t=>t.col===e);t>=0&&this.sortCriteria.splice(t,1),this.setSortCriteria([{col:e,asc:!0}].concat(this.sortCriteria))}return this.groupBy([e].concat(this.groupColumns))}getGroupCriteria(){return this.groupColumns.slice()}setGroupCriteria(e){return this.groupBy(e)}sortBy(e,t=!1){if(null!=e&&e.findMyRanker()!==this)return!1;const r=this.getPrimarySortCriteria();if(null==e&&null==r||r&&r.col===e&&r.asc===t)return!0;const n=this.getSortCriteria();if(e){const t=this.sortCriteria.findIndex(t=>t.col===e);if(t>=0)this.sortCriteria.splice(t,1);else if(this.sortCriteria.length===this.maxSortCriteria){const e=this.sortCriteria.pop();e.col.on(`${o.default.EVENT_DIRTY_VALUES}.order`,null),e.col.on(`${o.default.EVENT_SORTMETHOD_CHANGED}.order`,null)}}else this.sortCriteria.forEach(e=>{e.col.on(`${o.default.EVENT_DIRTY_VALUES}.order`,null),e.col.on(`${o.default.EVENT_SORTMETHOD_CHANGED}.order`,null)}),this.sortCriteria.splice(0,this.sortCriteria.length);return e&&(this.sortCriteria.unshift({col:e,asc:t}),e.on(`${o.default.EVENT_DIRTY_VALUES}.order`,this.dirtyOrder),e.on(`${o.default.EVENT_SORTMETHOD_CHANGED}.order`,this.dirtyOrder)),this.triggerResort(n),!0}groupBy(e){let t=Array.isArray(e)?e:e instanceof o.default?[e]:[];if(t.length>this.maxGroupColumns&&(t=t.slice(0,this.maxGroupColumns)),Object(n.equalArrays)(this.groupColumns,t))return!0;this.groupColumns.forEach(e=>{e.on(Object(i.suffix)(".group",o.default.EVENT_DIRTY_VALUES,o.default.EVENT_SORTMETHOD_CHANGED,o.default.EVENT_GROUPING_CHANGED),null)});const r=this.groupColumns.slice();return this.groupColumns.splice(0,this.groupColumns.length,...t),this.groupColumns.forEach(e=>{e.on(Object(i.suffix)(".group",o.default.EVENT_DIRTY_VALUES,o.default.EVENT_SORTMETHOD_CHANGED,o.default.EVENT_GROUPING_CHANGED),this.dirtyOrder)}),this.fire([d.EVENT_GROUP_CRITERIA_CHANGED,d.EVENT_DIRTY_ORDER,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],r,this.getGroupCriteria()),!0}setSortCriteria(e){let t=Array.isArray(e)?e:[e];if(t.length>this.maxSortCriteria&&(t=t.slice(0,this.maxSortCriteria)),0===t.length)return this.sortBy(null);if(1===t.length)return this.sortBy(t[0].col,t[0].asc);const r=this.sortCriteria.slice();return r.forEach(e=>{e.col.on(`${o.default.EVENT_DIRTY_VALUES}.order`,null),e.col.on(`${o.default.EVENT_SORTMETHOD_CHANGED}.order`,null)}),t.forEach(e=>{e.col.on(`${o.default.EVENT_DIRTY_VALUES}.order`,this.dirtyOrder),e.col.on(`${o.default.EVENT_SORTMETHOD_CHANGED}.order`,this.dirtyOrder)}),this.sortCriteria.splice(0,this.sortCriteria.length,...t.slice()),this.triggerResort(r),!0}toggleGroupSorting(e){const t=this.groupSortCriteria[0],r=t&&t.col===e&&!t.asc;return this.setGroupSortCriteria({col:e,asc:r})}groupSortBy(e,t){return this.setGroupSortCriteria({col:e,asc:t})}setMaxSortCriteria(e){const t=this.maxSortCriteria;t!==e&&(this.maxSortCriteria=e,t<e||this.sortCriteria.length<e||this.setSortCriteria(this.sortCriteria.slice(0,e)))}getMaxSortCriteria(){return this.maxSortCriteria}setMaxGroupColumns(e){const t=this.maxGroupColumns;t!==e&&(this.maxGroupColumns=e,t<e||this.groupColumns.length<e||this.setGroupCriteria(this.groupColumns.slice(0,e)))}getMaxGroupColumns(){return this.maxGroupColumns}setGroupSortCriteria(e){let t=Array.isArray(e)?e:[e];return t.length>this.maxSortCriteria&&(t=t.slice(0,this.maxSortCriteria)),this.groupSortCriteria.forEach(e=>{e.col.on(`${o.default.EVENT_SORTMETHOD_CHANGED}.groupOrder`,null)}),t.forEach(e=>{e.col.on(`${o.default.EVENT_SORTMETHOD_CHANGED}.groupOrder`,this.dirtyOrder)}),this.groupSortCriteria.splice(0,this.groupSortCriteria.length,...t.slice()),this.triggerResort(this.sortCriteria.slice()),!0}triggerResort(e){const t=this.getSortCriteria(),r=Array.isArray(e)?e:t;this.fire([d.EVENT_SORT_CRITERIA_CHANGED,d.EVENT_DIRTY_ORDER,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],r,t)}get children(){return this.columns.slice()}get length(){return this.columns.length}insert(e,t=this.columns.length){return this.columns.splice(t,0,e),e.parent=this,this.forward(e,...Object(i.suffix)(".ranking",o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY,o.default.EVENT_FILTER_CHANGED)),e.on(`${d.EVENT_FILTER_CHANGED}.order`,this.dirtyOrder),e.on(`${o.default.EVENT_VISIBILITY_CHANGED}.ranking`,(t,r)=>this.fire([d.EVENT_COLUMN_VISIBILITY_CHANGED,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],e,t,r)),this.fire([d.EVENT_ADD_COLUMN,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],e,t),0!==this.sortCriteria.length||Object(s.isSupportType)(e)||this.sortBy(e,e instanceof c.default),e}move(e,t=this.columns.length){if(e.parent!==this)return console.error("invalid move operation: ",e),null;const r=this.columns.indexOf(e);return t===r?e:(this.columns.splice(r,1),this.columns.splice(r<t?t-1:t,0,e),this.fire([d.EVENT_MOVE_COLUMN,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],e,t,r),e)}moveAfter(e,t){const r=this.columns.indexOf(t);return r<0?null:this.move(e,r+1)}get fqpath(){return""}findByPath(e){let t=this;const r=e.split("@").map(Number).slice(1);for(;r.length>0;){const e=r.shift();t=t.at(e)}return t}indexOf(e){return this.columns.indexOf(e)}at(e){return this.columns[e]}insertAfter(e,t){const r=this.columns.indexOf(t);return r<0?null:this.insert(e,r+1)}push(e){return this.insert(e)}remove(e){const t=this.columns.indexOf(e);if(t<0)return!1;this.unforward(e,...Object(i.suffix)(".ranking",o.default.EVENT_VISIBILITY_CHANGED,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY,o.default.EVENT_FILTER_CHANGED));const r=this.sortCriteria.findIndex(t=>t.col===e);if(0===r)if(this.sortCriteria.shift(),this.sortCriteria.length>0)this.sortBy(this.sortCriteria[0].col);else{const t=this.columns.filter(t=>t!==e&&!Object(s.isSupportType)(t))[0];this.sortBy(t||null)}else r>0&&(this.sortCriteria.splice(r,1),this.triggerResort(null));const n=this.groupColumns.indexOf(e);if(n>=0){const e=this.groupColumns.slice();e.splice(n,1),this.groupBy(e)}return e.parent=null,this.columns.splice(t,1),this.fire([d.EVENT_REMOVE_COLUMN,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],e,t),!0}clear(){if(0===this.columns.length)return;this.sortCriteria.splice(0,this.sortCriteria.length),this.groupColumns.forEach(e=>{e.on(`${o.default.EVENT_DIRTY_VALUES}.group`,null),e.on(`${o.default.EVENT_SORTMETHOD_CHANGED}.group`,null)}),this.groupColumns.splice(0,this.groupColumns.length),this.columns.forEach(e=>{this.unforward(e,...Object(i.suffix)(".ranking",o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY,o.default.EVENT_FILTER_CHANGED)),e.parent=null});const e=this.columns.splice(0,this.columns.length);this.fire([d.EVENT_REMOVE_COLUMN,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],e)}get flatColumns(){const e=[];return this.flatten(e,0,o.default.FLAT_ALL_COLUMNS),e.map(e=>e.col)}find(e){const t="string"==typeof e?t=>t.id===e:e,r=this.flatColumns;for(const e of r)if(t(e))return e;return null}isFiltered(){return this.columns.some(e=>e.isFiltered())}filter(e){return this.columns.every(t=>t.filter(e))}findMyRanker(){return this}get fqid(){return this.id}}d.EVENT_WIDTH_CHANGED=o.default.EVENT_WIDTH_CHANGED,d.EVENT_FILTER_CHANGED=o.default.EVENT_FILTER_CHANGED,d.EVENT_LABEL_CHANGED=o.default.EVENT_LABEL_CHANGED,d.EVENT_ADD_COLUMN=o.default.EVENT_ADD_COLUMN,d.EVENT_MOVE_COLUMN=o.default.EVENT_MOVE_COLUMN,d.EVENT_REMOVE_COLUMN=o.default.EVENT_REMOVE_COLUMN,d.EVENT_DIRTY=o.default.EVENT_DIRTY,d.EVENT_DIRTY_HEADER=o.default.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES=o.default.EVENT_DIRTY_VALUES,d.EVENT_COLUMN_VISIBILITY_CHANGED=o.default.EVENT_VISIBILITY_CHANGED,d.EVENT_SORT_CRITERIA_CHANGED="sortCriteriaChanged",d.EVENT_GROUP_CRITERIA_CHANGED="groupCriteriaChanged",d.EVENT_GROUP_SORT_CRITERIA_CHANGED="groupSortCriteriaChanged",d.EVENT_DIRTY_ORDER="dirtyOrder",d.EVENT_ORDER_CHANGED="orderChanged",d.EVENT_GROUPS_CHANGED="groupsChanged"},"./src/model/ReduceColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"createReduceDesc",function(){return l});var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./node_modules/d3-array/index.js"),s=r("./src/model/annotations.ts"),o=r("./src/model/Column.ts"),a=r("./src/model/CompositeNumberColumn.ts"),u=r("./src/model/INumberColumn.ts");function l(e="Reduce"){return{type:"reduce",label:e}}let c=d=class extends a.default{constructor(e,t){super(e,t),this.reduce=t.reduce||u.EAdvancedSortMethod.max,this.setDefaultRenderer("interleaving"),this.setDefaultGroupRenderer("interleaving"),this.setDefaultSummaryRenderer("interleaving")}get label(){const e=super.getMetaData().label;return"Reduce"!==e?e:`${this.reduce[0].toUpperCase()}${this.reduce.slice(1)}(${this.children.map(e=>e.label).join(", ")})`}getColor(e){const t=this._children;if(0===t.length||this.reduce===u.EAdvancedSortMethod.q1||this.reduce===u.EAdvancedSortMethod.q3||this.reduce===u.EAdvancedSortMethod.mean)return this.color;const r=this.compute(e),n=t.find(t=>t.getValue(e)===r);return n?n.color:this.color}compute(e){const t=this._children.map(t=>t.getValue(e)).filter(e=>!isNaN(e));if(0===t.length)return NaN;switch(this.reduce){case u.EAdvancedSortMethod.mean:return t.reduce((e,t)=>e+t,0)/t.length;case u.EAdvancedSortMethod.max:return Math.max(...t);case u.EAdvancedSortMethod.min:return Math.min(...t);case u.EAdvancedSortMethod.median:return Object(i.median)(t);case u.EAdvancedSortMethod.q1:return Object(i.quantile)(t.sort((e,t)=>e-t),.25);case u.EAdvancedSortMethod.q3:return Object(i.quantile)(t.sort((e,t)=>e-t),.75)}}createEventList(){return super.createEventList().concat([d.EVENT_REDUCE_CHANGED])}getReduce(){return this.reduce}setReduce(e){this.reduce!==e&&this.fire([d.EVENT_REDUCE_CHANGED,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY],this.reduce,this.reduce=e)}dump(e){const t=super.dump(e);return t.reduce=this.reduce,t}restore(e,t){this.reduce=e.reduce||this.reduce,super.restore(e,t)}get canJustAddNumbers(){return!0}};var d;c.EVENT_REDUCE_CHANGED="reduceChanged",c=d=n.__decorate([Object(s.toolbar)("reduce")],c),t.default=c},"./src/model/ScriptColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"createScriptDesc",function(){return l});var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/model/annotations.ts"),s=r("./src/model/Column.ts"),o=r("./src/model/CompositeNumberColumn.ts"),a=r("./src/model/INumberColumn.ts");const u="let s = 0;\ncol.forEach((c) => s += c.v);\nreturn s / col.length";function l(e="script"){return{type:"script",label:e,script:u}}class c{constructor(e,t,r){this.c=e,this.v=t,this.raw=r}get type(){return this.c.desc.type}get name(){return this.c.getMetaData().label}get id(){return this.c.id}}class d{constructor(e,t){this.children=e,this.allFactory=t,this.lookup=new Map,this._all=null,e.forEach(e=>{this.lookup.set(`ID@${e.id}`,e),this.lookup.set(`NAME@${e.name}`,e)})}byName(e){return this.lookup.get(`NAME@${e}`)}byID(e){return this.lookup.get(`ID@${e}`)}byIndex(e){return this.children[e]}forEach(e){return this.children.forEach(e)}get length(){return this.children.length}get all(){return null==this._all&&(this._all=this.allFactory?this.allFactory():null),this._all}}let h=f=class extends o.default{constructor(e,t){super(e,t),this.script=f.DEFAULT_SCRIPT,this.f=null,this.script=t.script||this.script}createEventList(){return super.createEventList().concat([f.EVENT_SCRIPT_CHANGED])}setScript(e){this.script!==e&&(this.f=null,this.fire([f.EVENT_SCRIPT_CHANGED,s.default.EVENT_DIRTY_VALUES,s.default.EVENT_DIRTY],this.script,this.script=e))}getScript(){return this.script}dump(e){const t=super.dump(e);return t.script=this.script,t}restore(e,t){this.script=e.script||this.script,super.restore(e,t)}compute(e){null==this.f&&(this.f=new Function("children","values","raws","col","row","index",function(e){let t=e.trim();return t.includes("return")||(t=`return (${t});`),`\n  const max = function(arr) { return Math.max.apply(Math, arr); };\n  const min = function(arr) { return Math.min.apply(Math, arr); };\n  const extent = function(arr) { return [min(arr), max(arr)]; };\n  const clamp = function(v, minValue, maxValue) { return v < minValue ? minValue : (v > maxValue ? maxValue : v); };\n  const normalize = function(v, minMax, max) {\n    if (Array.isArray(minMax)) {\n      minMax = minMax[0];\n      max = minMax[1];\n    }\n    return (v - minMax) / (max - minMax);\n  };\n  const denormalize = function(v, minMax, max) {\n    if (Array.isArray(minMax)) {\n      minMax = minMax[0];\n      max = minMax[1];\n    }\n    return v * (max - minMax) + minMax;\n  };\n  const linear = function(v, source, target) {\n    target = target || [0, 1];\n    return denormalize(normalize(v, source), target);\n  };\n  const v = (function custom() {\n    ${t}\n  })();\n\n  return typeof v === 'number' ? v : NaN`}(this.script)));const t=this._children,r=this._children.map(t=>t.getValue(e)),n=this._children.map(t=>Object(a.isNumberColumn)(t)?t.getRawNumber(e):null),i=new d(t.map((e,t)=>new c(e,r[t],n[t])),()=>{const t=this.findMyRanker().flatColumns;return new d(t.map(t=>new c(t,t.getValue(e),Object(a.isNumberColumn)(t)?t.getRawNumber(e):null)))});return this.f.call(this,t,r,n,i,e.v,e.i)}};var f;h.EVENT_SCRIPT_CHANGED="scriptChanged",h.DEFAULT_SCRIPT=u,h=f=n.__decorate([Object(i.toolbar)("script")],h),t.default=h},"./src/model/SelectionColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"createSelectionDesc",function(){return o});var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/model/annotations.ts"),s=r("./src/model/ValueColumn.ts");function o(e="Selection Checkboxes"){return{type:"selection",label:e,fixed:!0}}let a=u=class extends s.default{constructor(e,t){super(e,t),this.setDefaultWidth(20)}get frozen(){return!1!==this.desc.frozen}createEventList(){return super.createEventList().concat([u.EVENT_SELECT])}setValue(e,t){return this.getValue(e)===t||this.setImpl(e,t)}setValues(e,t){if(0!==e.length)return this.desc.setterAll&&this.desc.setterAll(e,t),this.fire(u.EVENT_SELECT,e[0],t,e),!0}setImpl(e,t){return this.desc.setter&&this.desc.setter(e,t),this.fire(u.EVENT_SELECT,e,t),!0}toggleValue(e){const t=this.getValue(e);return this.setImpl(e,!t),!t}compare(e,t){const r=!0===this.getValue(e),n=!0===this.getValue(t);return r===n?0:r<n?-1:1}group(e){return this.getValue(e)?u.SELECTED_GROUP:u.NOT_SELECTED_GROUP}};var u;a.SELECTED_GROUP={name:"Selected",color:"orange"},a.NOT_SELECTED_GROUP={name:"Unselected",color:"gray"},a.EVENT_SELECT="select",a=u=n.__decorate([Object(i.SupportType)(),Object(i.toolbar)("sort","stratify"),Object(i.Category)("support")],a),t.default=a},"./src/model/SetColumn.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/model/annotations.ts"),s=r("./src/model/CategoricalColumn.ts"),o=r("./src/model/ICategoricalColumn.ts"),a=r("./src/model/missing.ts"),u=r("./src/model/ValueColumn.ts");let l=class extends u.default{constructor(e,t){super(e,t),this.lookup=new Map,this.currentFilter=null,this.separator=new RegExp(t.separator||";"),this.categories=Object(o.toCategories)(t),this.categories.forEach(e=>this.lookup.set(e.name,e)),this.setDefaultRenderer("upset"),this.setDefaultGroupRenderer("upset")}get labels(){return this.categories.map(e=>e.label)}get dataLength(){return this.categories.length}getValue(e){return this.getCategories(e).map(e=>e.name)}getLabel(e){return`(${this.getCategories(e).map(e=>e.label).join(",")})`}normalize(e){return"string"==typeof e?e.split(this.separator).map(e=>e.trim()):Array.isArray(e)?e.map(e=>String(e).trim()):e instanceof Set?Array.from(e).map(String):[]}getSet(e){const t=this.normalize(super.getValue(e)),r=new Set;return t.forEach(e=>{const t=this.lookup.get(e);t&&r.add(t)}),r}getCategories(e){return Array.from(this.getSet(e)).sort((e,t)=>e.value===t.value?e.label.localeCompare(t.label):e.value-t.value)}isMissing(e){return 0===this.getSet(e).size}getValues(e){const t=new Set(this.getSet(e));return this.categories.map(e=>t.has(e))}getLabels(e){return this.getValues(e).map(String)}getMap(e){return this.getCategories(e).map(e=>({key:e.label,value:!0}))}getMapLabel(e){return this.getCategories(e).map(e=>({key:e.label,value:"true"}))}dump(e){const t=super.dump(e);return t.filter=this.currentFilter,t}restore(e,t){if(super.restore(e,t),!("filter"in e))return void(this.currentFilter=null);const r=e.filter;"string"==typeof r||Array.isArray(r)?this.currentFilter={filter:r,filterMissing:!1}:this.currentFilter=r}isFiltered(){return null!=this.currentFilter}filter(e){return!this.currentFilter||Array.from(this.getSet(e)).some(e=>Object(o.isCategoryIncluded)(this.currentFilter,e))}getFilter(){return s.default.prototype.getFilter.call(this)}setFilter(e){return s.default.prototype.setFilter.call(this,e)}compare(e,t){const r=this.getSet(e),n=this.getSet(t);if(0===r.size)return 0===n.size?0:a.FIRST_IS_NAN;if(0===n.size)return-a.FIRST_IS_NAN;if(r.size!==n.size)return r.size-n.size;for(const e of this.categories){if(r.has(e))return-1;if(n.has(e))return 1}return 0}};l=n.__decorate([Object(i.toolbar)("filterCategorical"),Object(i.Category)("categorical")],l),t.default=l},"./src/model/StackColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"createStackDesc",function(){return l});var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/internal/index.ts"),s=r("./src/model/annotations.ts"),o=r("./src/model/Column.ts"),a=r("./src/model/CompositeNumberColumn.ts"),u=r("./src/model/INumberColumn.ts");function l(e="Weighted Sum"){return{type:"stack",label:e}}let c=d=class extends a.default{constructor(e,t){super(e,t),this.collapsed=!1;const r=this;this.adaptChange=function(e,t){r.adaptWidthChange(this.source,e,t)},"interleaving"===this.getRenderer()&&this.setRenderer("stack"),"interleaving"===this.getGroupRenderer()&&this.setGroupRenderer("stack"),"interleaving"===this.getSummaryRenderer()&&this.setSummaryRenderer("default")}get label(){const e=super.getMetaData().label,t=this._children;if("Weighted Sum"!==e||0===t.length)return e;const r=this.getWeights();return t.map((e,t)=>`${e.label} (${Object(i.round)(100*r[t],1)})%`).join(" + ")}createEventList(){return super.createEventList().concat([d.EVENT_COLLAPSE_CHANGED,d.EVENT_WEIGHTS_CHANGED,d.EVENT_MULTI_LEVEL_CHANGED])}setCollapsed(e){this.collapsed!==e&&this.fire([d.EVENT_COLLAPSE_CHANGED,o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY],this.collapsed,this.collapsed=e)}getCollapsed(){return this.collapsed}get canJustAddNumbers(){return!0}flatten(e,t,r=0,n=0){let i=null;const s=r<=o.default.FLAT_ALL_COLUMNS?this._children:this._children.filter(e=>e.isVisible());if(0===r||r<=o.default.FLAT_ALL_COLUMNS){let o=this.getWidth();if(this.collapsed||(o+=(s.length-1)*n),e.push(i={col:this,offset:t,width:o}),0===r)return o}let a=t;return s.forEach(t=>{a+=t.flatten(e,a,r-1,n)+n}),i&&(i.width=a-t-n),a-t-n}dump(e){const t=super.dump(e);return t.collapsed=this.collapsed,t}restore(e,t){this.collapsed=!0===e.collapsed,super.restore(e,t)}insert(e,t,r=NaN){return isNaN(r)||e.setWidth(r/(1-r)*this.getWidth()),e.on(`${o.default.EVENT_WIDTH_CHANGED}.stack`,this.adaptChange),super.setWidth(0===this.length?e.getWidth():this.getWidth()+e.getWidth()),super.insert(e,t)}push(e,t=NaN){return this.insert(e,this.length,t)}insertAfter(e,t,r=NaN){const n=this.indexOf(t);return n<0?null:this.insert(e,n+1,r)}adaptWidthChange(e,t,r){if(Object(i.similar)(t,r,.5))return;const n=this.getWeights(),s=this.getWidth(),a=t/s,u=(1-a-(r-t)/s)/(1-a),l=this._children.map(t=>{if(t===e)return r;const n=t.getWidth()*u,i=isNaN(n)||n<1?0:n;return t.setWidthImpl(i),i});super.setWidth(l.reduce((e,t)=>e+t,0)),this.fire([d.EVENT_WEIGHTS_CHANGED,d.EVENT_MULTI_LEVEL_CHANGED,o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY],n,this.getWeights())}getWeights(){const e=this.getWidth();return this._children.map(t=>t.getWidth()/e)}setWeights(e){const t=this.getWeights(),r=e.length-this.length;let n;if(r<0)if((n=e.reduce((e,t)=>e+t,0))<=1)for(let t=0;t<-r;++t)e.push(1/-r*(1-n));else if(n<=100)for(let t=0;t<-r;++t)e.push(1/-r*(100-n));e=e.slice(0,this.length),n=e.reduce((e,t)=>e+t,0)/this.getWidth(),e=e.map(e=>e/n),this._children.forEach((t,r)=>{t.setWidthImpl(e[r])}),this.fire([d.EVENT_WEIGHTS_CHANGED,d.EVENT_MULTI_LEVEL_CHANGED,o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY],t,e)}removeImpl(e,t){return e.on(`${o.default.EVENT_WIDTH_CHANGED}.stack`,null),super.setWidth(0===this.length?100:this.getWidth()-e.getWidth()),super.removeImpl(e,t)}setWidth(e){const t=e/this.getWidth();this._children.forEach(e=>{e.setWidthImpl(e.getWidth()*t)}),super.setWidth(e)}compute(e){const t=this.getWidth();return this._children.reduce((r,n)=>r+n.getValue(e)*(n.getWidth()/t),0)}getRenderer(){return this.getCollapsed()&&this.isLoaded()?d.COLLAPSED_RENDERER:super.getRenderer()}isMissing(e){return this._children.some(t=>Object(u.isNumberColumn)(t)&&t.isMissing(e))}};var d;c.EVENT_COLLAPSE_CHANGED="collapseChanged",c.EVENT_WEIGHTS_CHANGED="weightsChanged",c.COLLAPSED_RENDERER="number",c.EVENT_MULTI_LEVEL_CHANGED="nestedChildRatio",c=d=n.__decorate([Object(s.toolbar)("editWeights","collapse")],c),t.default=c},"./src/model/StringColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"EAlignment",function(){return n});var n,i=r("./node_modules/tslib/tslib.es6.js"),s=r("./src/model/annotations.ts"),o=r("./src/model/Column.ts"),a=r("./src/model/internal.ts"),u=r("./src/model/missing.ts"),l=r("./src/model/ValueColumn.ts");!function(e){e.left="left",e.center="center",e.right="right"}(n||(n={}));let c=d=class extends l.default{constructor(e,t){super(e,t),this.currentFilter=null,this.patternFunction=null,this.setDefaultWidth(200),this.alignment=t.alignment||n.left,this.escape=!1!==t.escape,this.pattern=t.pattern||"",this.patternTemplates=t.patternTemplates||[],this.pattern&&(this.setDefaultRenderer("link"),this.setDefaultGroupRenderer("link"))}setPattern(e){e!==this.pattern&&(this.patternFunction=null,this.fire([d.EVENT_PATTERN_CHANGED,o.default.EVENT_DIRTY_HEADER,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY],this.pattern,this.pattern=e))}getPattern(){return this.pattern}createEventList(){return super.createEventList().concat([d.EVENT_PATTERN_CHANGED])}getValue(e){const t=super.getValue(e);return this.pattern?(this.patternFunction||(this.patternFunction=Object(a.patternFunction)(this.pattern,"item")),this.patternFunction.call(this,t,e.v)):null==t?"":String(t)}getLabel(e){return this.getValue(e)||""}dump(e){const t=super.dump(e);return this.currentFilter instanceof RegExp?t.filter=`REGEX:${this.currentFilter.source}`:t.filter=this.currentFilter,this.pattern!==this.desc.pattern&&(t.pattern=this.pattern),t}restore(e,t){super.restore(e,t),e.filter&&"REGEX:"===e.filter.slice(0,6)?this.currentFilter=new RegExp(e.filter.slice(6)):this.currentFilter=e.filter||null,e.pattern&&(this.pattern=e.pattern)}isFiltered(){return null!=this.currentFilter}filter(e){if(!this.isFiltered())return!0;const t=this.getLabel(e),r=this.currentFilter;return r===d.FILTER_MISSING?null!=t&&""!==t.trim():"string"==typeof r&&r.length>0?""!==t&&t.toLowerCase().indexOf(r.toLowerCase())>=0:!(r instanceof RegExp)||""!==t&&r.test(t)}getFilter(){return this.currentFilter}setFilter(e){""===e&&(e=null),this.currentFilter!==e&&this.fire([o.default.EVENT_FILTER_CHANGED,o.default.EVENT_DIRTY_VALUES,o.default.EVENT_DIRTY],this.currentFilter,this.currentFilter=e)}compare(e,t){const r=this.getValue(e),n=this.getValue(t);return""===r?""===n?0:u.FIRST_IS_NAN:""===n?-u.FIRST_IS_NAN:r.toLowerCase().localeCompare(n.toLowerCase())}};var d;c.EVENT_PATTERN_CHANGED="patternChanged",c.FILTER_MISSING="__FILTER_MISSING",c=d=i.__decorate([Object(s.toolbar)("search","filterString","editPattern"),Object(s.Category)("string")],c),t.default=c},"./src/model/StringMapColumn.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/model/annotations.ts"),s=r("./src/model/internal.ts"),o=r("./src/model/MapColumn.ts"),a=r("./src/model/StringColumn.ts");let u=class extends o.default{constructor(e,t){super(e,t),this.patternFunction=null,this.setDefaultWidth(200),this.alignment=t.alignment||a.EAlignment.left,this.escape=!1!==t.escape,this.pattern=t.pattern||"",this.patternTemplates=t.patternTemplates||[],this.setDefaultRenderer("map")}setPattern(e){a.default.prototype.setPattern.call(this,e)}getPattern(){return this.pattern}createEventList(){return super.createEventList().concat([a.default.EVENT_PATTERN_CHANGED])}getValue(e){return super.getValue(e).map(({key:t,value:r})=>({key:t,value:this.replacePattern(r,t,e)}))}replacePattern(e,t,r){return this.pattern?(this.patternFunction||(this.patternFunction=Object(s.patternFunction)(this.pattern,"item","key")),this.patternFunction.call(this,e,r.v,t)):null==e?"":String(e)}dump(e){const t=super.dump(e);return this.pattern!==this.desc.pattern&&(t.pattern=this.pattern),t}restore(e,t){e.pattern&&(this.pattern=e.pattern),super.restore(e,t)}};u=n.__decorate([Object(i.toolbar)("search","editPattern")],u),t.default=u},"./src/model/StringsColumn.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/tslib/tslib.es6.js"),i=r("./src/model/annotations.ts"),s=r("./src/model/ArrayColumn.ts"),o=r("./src/model/internal.ts"),a=r("./src/model/StringColumn.ts");let u=class extends s.default{constructor(e,t){super(e,t),this.patternFunction=null,this.setDefaultWidth(200),this.alignment=t.alignment||a.EAlignment.left,this.escape=!1!==t.escape,this.pattern=t.pattern||"",this.patternTemplates=t.patternTemplates||[]}setPattern(e){a.default.prototype.setPattern.call(this,e)}getPattern(){return this.pattern}createEventList(){return super.createEventList().concat([a.default.EVENT_PATTERN_CHANGED])}getValues(e){return super.getValues(e).map((t,r)=>this.pattern?(this.patternFunction||(this.patternFunction=Object(o.patternFunction)(this.pattern,"item","index")),this.patternFunction.call(this,t,e.v,r)):null==t?"":String(t))}dump(e){const t=super.dump(e);return this.pattern!==this.desc.pattern&&(t.pattern=this.pattern),t}restore(e,t){e.pattern&&(this.pattern=e.pattern),super.restore(e,t)}};u=n.__decorate([Object(i.toolbar)("search","editPattern")],u),t.default=u},"./src/model/ValueColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i});var n=r("./src/model/Column.ts");class i extends n.default{constructor(e,t){super(e,t),this.accessor=t.accessor||(()=>null),this.loaded=!0!==t.lazyLoaded}getLabel(e){return this.isLoaded()?String(this.getValue(e)):""}getRaw(e){return this.isLoaded()?this.accessor(e,this.id,this.desc,this.findMyRanker()):null}getValue(e){return this.getRaw(e)}isLoaded(){return this.loaded}setLoaded(e){this.loaded!==e&&this.fire([n.default.EVENT_DATA_LOADED,n.default.EVENT_DIRTY_HEADER,n.default.EVENT_DIRTY_VALUES,n.default.EVENT_DIRTY],this.loaded,this.loaded=e)}getRenderer(){return this.isLoaded()?super.getRenderer():i.RENDERER_LOADING}dump(e){const t=super.dump(e);return t.loaded=this.loaded,this.loaded||t.rendererType!==i.RENDERER_LOADING||delete t.rendererType,t}restore(e,t){void 0!==e.loaded&&(this.loaded=e.loaded),super.restore(e,t)}}i.RENDERER_LOADING="loading"},"./src/model/annotations.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"SupportType",function(){return o}),r.d(t,"Categories",function(){return a}),r.d(t,"categories",function(){return u}),r.d(t,"Category",function(){return l}),r.d(t,"toolbar",function(){return c}),r.d(t,"isSupportType",function(){return h}),r.d(t,"categoryOf",function(){return f}),r.d(t,"categoryOfDesc",function(){return p}),r.d(t,"getAllToolbarActions",function(){return m});r("./node_modules/reflect-metadata/Reflect.js");var n=r("./src/model/Column.ts");const i=Symbol.for("SupportType"),s=Symbol.for("Category");function o(){return Reflect.metadata(i,!0)}class a{constructor(){this.string={label:"label",order:1,name:"string"},this.categorical={label:"categorical",order:2,name:"categorical"},this.number={label:"numerical",order:3,name:"number"},this.date={label:"date",order:4,name:"date"},this.array={label:"matrix",order:5,name:"array"},this.map={label:"map",order:6,name:"map"},this.composite={label:"combined",order:7,name:"composite"},this.support={label:"support",order:8,name:"support"},this.other={label:"others",order:9,name:"other"}}}const u=new a;function l(e){return Reflect.metadata(s,e)}function c(...e){return Reflect.metadata(Symbol.for("toolbarIcon"),e)}const d=new Map;function h(e){const t=e.constructor;return Reflect.hasMetadata(i,t)}function f(e){const t=Reflect.getMetadata(s,e instanceof n.default?Object.getPrototypeOf(e).constructor:e)||"other";return u[t]||u.other}function p(e,t){const r=t["string"==typeof e?e:e.type];return r?f(r):u.other}function m(e){if(d.has(e.desc.type))return d.get(e.desc.type);const t=[];let r=e;const n=Symbol.for("toolbarIcon");do{const e=Reflect.getOwnMetadata(n,r.constructor);e&&t.push(...e),r=Object.getPrototypeOf(r)}while(r);return d.set(e.desc.type,t),t}},"./src/model/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"defineColumn",function(){return J}),r.d(t,"models",function(){return Z});var n=r("./src/model/ActionColumn.ts"),i=r("./src/model/AggregateGroupColumn.ts"),s=r("./src/model/AnnotateColumn.ts"),o=r("./src/model/BooleanColumn.ts"),a=r("./src/model/BooleansColumn.ts"),u=r("./src/model/BoxPlotColumn.ts"),l=r("./src/model/CategoricalColumn.ts"),c=r("./src/model/CategoricalMapColumn.ts"),d=r("./src/model/CategoricalsColumn.ts"),h=r("./src/model/DateColumn.ts"),f=r("./src/model/DatesColumn.ts"),p=r("./src/model/DatesMapColumn.ts"),m=r("./src/model/GroupColumn.ts"),g=r("./src/model/HierarchyColumn.ts"),b=r("./src/model/ImpositionCompositeColumn.ts"),y=r("./src/model/ImpositionCompositesColumn.ts"),v=r("./src/model/NestedColumn.ts"),E=r("./src/model/NumberColumn.ts"),_=r("./src/model/NumberMapColumn.ts"),C=r("./src/model/NumbersColumn.ts"),T=r("./src/model/OrdinalColumn.ts"),O=r("./src/model/RankColumn.ts"),N=r("./src/model/ReduceColumn.ts"),R=r("./src/model/ScriptColumn.ts"),D=r("./src/model/SelectionColumn.ts"),j=r("./src/model/SetColumn.ts"),A=r("./src/model/StackColumn.ts"),x=r("./src/model/StringColumn.ts"),M=r("./src/model/StringMapColumn.ts"),S=r("./src/model/StringsColumn.ts"),w=r("./src/model/ValueColumn.ts"),L=r("./src/model/ImpositionBoxPlotColumn.ts"),I=r("./src/model/annotations.ts");r.d(t,"isSupportType",function(){return I.isSupportType}),r.d(t,"Category",function(){return I.Category}),r.d(t,"SupportType",function(){return I.SupportType});var V=r("./src/model/missing.ts");r.d(t,"isMissingValue",function(){return V.isMissingValue}),r.d(t,"isUnknown",function(){return V.isUnknown}),r.d(t,"FIRST_IS_NAN",function(){return V.FIRST_IS_NAN}),r.d(t,"missingGroup",function(){return V.missingGroup});var H=r("./src/model/Group.ts");r.d(t,"defaultGroup",function(){return H.defaultGroup});var P=r("./src/model/interfaces.ts");r.d(t,"isGroup",function(){return P.isGroup});var k=r("./src/model/ICategoricalColumn.ts");r.d(t,"isSetColumn",function(){return k.isSetColumn}),r.d(t,"toCategory",function(){return k.toCategory}),r.d(t,"compareCategory",function(){return k.compareCategory}),r.d(t,"toCategories",function(){return k.toCategories}),r.d(t,"isCategoricalColumn",function(){return k.isCategoricalColumn}),r.d(t,"isEqualCategoricalFilter",function(){return k.isEqualCategoricalFilter}),r.d(t,"isCategoryIncluded",function(){return k.isCategoryIncluded});var G=r("./src/model/INumberColumn.ts");r.d(t,"DEFAULT_FORMATTER",function(){return G.DEFAULT_FORMATTER}),r.d(t,"isNumberColumn",function(){return G.isNumberColumn}),r.d(t,"compareBoxPlot",function(){return G.compareBoxPlot}),r.d(t,"getBoxPlotNumber",function(){return G.getBoxPlotNumber}),r.d(t,"ESortMethod",function(){return G.ESortMethod}),r.d(t,"isBoxPlotColumn",function(){return G.isBoxPlotColumn}),r.d(t,"EAdvancedSortMethod",function(){return G.EAdvancedSortMethod}),r.d(t,"isNumbersColumn",function(){return G.isNumbersColumn}),r.d(t,"numberCompare",function(){return G.numberCompare}),r.d(t,"noNumberFilter",function(){return G.noNumberFilter}),r.d(t,"isEqualNumberFilter",function(){return G.isEqualNumberFilter}),r.d(t,"isNumberIncluded",function(){return G.isNumberIncluded});var F=r("./src/model/IArrayColumn.ts");r.d(t,"isMapColumn",function(){return F.isMapColumn}),r.d(t,"isArrayColumn",function(){return F.isArrayColumn}),r.d(t,"createActionDesc",function(){return n.createActionDesc}),r.d(t,"createAggregateDesc",function(){return i.createAggregateDesc});var $=r("./src/model/ArrayColumn.ts"),B=r("./src/model/Column.ts");r.d(t,"IColumnDesc",function(){return B.IColumnDesc});var U=r("./src/model/CompositeColumn.ts");r.d(t,"isMultiLevelColumn",function(){return U.isMultiLevelColumn});var Y=r("./src/model/CompositeNumberColumn.ts"),W=r("./src/model/DummyColumn.ts");r.d(t,"createGroupDesc",function(){return m.createGroupDesc}),r.d(t,"resolveInnerNodes",function(){return g.resolveInnerNodes}),r.d(t,"isHierarchical",function(){return g.isHierarchical}),r.d(t,"deriveHierarchy",function(){return g.deriveHierarchy}),r.d(t,"createImpositionBoxPlotDesc",function(){return L.createImpositionBoxPlotDesc}),r.d(t,"createImpositionDesc",function(){return b.createImpositionDesc}),r.d(t,"createImpositionsDesc",function(){return y.createImpositionsDesc});var q=r("./src/model/MapColumn.ts"),z=r("./src/model/MappingFunction.ts");r.d(t,"isMapAbleColumn",function(){return z.isMapAbleColumn}),r.d(t,"ScaleMappingFunction",function(){return z.ScaleMappingFunction}),r.d(t,"ScriptMappingFunction",function(){return z.ScriptMappingFunction}),r.d(t,"createMappingFunction",function(){return z.createMappingFunction}),r.d(t,"restoreMapping",function(){return z.restoreMapping});var K=r("./src/model/MultiLevelCompositeColumn.ts");r.d(t,"createNestedDesc",function(){return v.createNestedDesc}),r.d(t,"INumberColumn",function(){return E.INumberColumn}),r.d(t,"createRankDesc",function(){return O.createRankDesc});var X=r("./src/model/Ranking.ts");function J(e,t={}){class r extends w.default{constructor(e,t){super(e,t),"function"==typeof this.init&&this.init.apply(this,[].slice.apply(arguments))}init(){}}return r.prototype.toString=(()=>e),r.prototype=Object.assign(r.prototype,t),r}function Z(){return{actions:n.default,aggregate:i.default,annotate:s.default,boolean:o.default,booleans:a.default,boxplot:u.default,categorical:l.default,categoricalMap:c.default,categoricals:d.default,date:h.default,dateMap:p.default,dates:f.default,group:m.default,hierarchy:g.default,imposition:b.default,impositionBoxPlot:L.default,impositions:y.default,reduce:N.default,nested:v.default,number:E.default,numbers:C.default,numberMap:_.default,ordinal:T.default,rank:O.default,script:R.default,selection:D.default,set:j.default,stack:A.default,string:x.default,stringMap:M.default,strings:S.default}}r.d(t,"createReduceDesc",function(){return N.createReduceDesc}),r.d(t,"createScriptDesc",function(){return R.createScriptDesc}),r.d(t,"createSelectionDesc",function(){return D.createSelectionDesc}),r.d(t,"createStackDesc",function(){return A.createStackDesc}),r.d(t,"EAlignment",function(){return x.EAlignment}),r.d(t,"default",function(){return B.default}),r.d(t,"ActionColumn",function(){return n.default}),r.d(t,"AggregateGroupColumn",function(){return i.default}),r.d(t,"AnnotateColumn",function(){return s.default}),r.d(t,"ArrayColumn",function(){return $.default}),r.d(t,"BooleanColumn",function(){return o.default}),r.d(t,"BooleansColumn",function(){return a.default}),r.d(t,"BoxPlotColumn",function(){return u.default}),r.d(t,"CategoricalColumn",function(){return l.default}),r.d(t,"CategoricalMapColumn",function(){return c.default}),r.d(t,"CategoricalsColumn",function(){return d.default}),r.d(t,"Column",function(){return B.default}),r.d(t,"CompositeColumn",function(){return U.default}),r.d(t,"CompositeNumberColumn",function(){return Y.default}),r.d(t,"DateColumn",function(){return h.default}),r.d(t,"DatesMapColumn",function(){return p.default}),r.d(t,"DummyColumn",function(){return W.default}),r.d(t,"GroupColumn",function(){return m.default}),r.d(t,"HierarchyColumn",function(){return g.default}),r.d(t,"ImpositionBoxPlotColumn",function(){return L.default}),r.d(t,"ImpositionCompositeColumn",function(){return b.default}),r.d(t,"ImpositionCompositesColumn",function(){return y.default}),r.d(t,"MapColumn",function(){return q.default}),r.d(t,"MultiLevelCompositeColumn",function(){return K.default}),r.d(t,"NestedColumn",function(){return v.default}),r.d(t,"NumberColumn",function(){return E.default}),r.d(t,"NumberMapColumn",function(){return _.default}),r.d(t,"NumbersColumn",function(){return C.default}),r.d(t,"OrdinalColumn",function(){return T.default}),r.d(t,"RankColumn",function(){return O.default}),r.d(t,"Ranking",function(){return X.default}),r.d(t,"ReduceColumn",function(){return N.default}),r.d(t,"ScriptColumn",function(){return R.default}),r.d(t,"SelectionColumn",function(){return D.default}),r.d(t,"SetColumn",function(){return j.default}),r.d(t,"StackColumn",function(){return A.default}),r.d(t,"StringColumn",function(){return x.default}),r.d(t,"StringMapColumn",function(){return M.default}),r.d(t,"StringsColumn",function(){return S.default}),r.d(t,"ValueColumn",function(){return w.default})},"./src/model/interfaces.ts":function(e,t,r){"use strict";function n(e){return e&&void 0!==e.name}r.r(t),r.d(t,"isGroup",function(){return n})},"./src/model/internal.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"patternFunction",function(){return s}),r.d(t,"isDummyNumberFilter",function(){return o}),r.d(t,"restoreFilter",function(){return a}),r.d(t,"joinGroups",function(){return u}),r.d(t,"toGroupID",function(){return l}),r.d(t,"unifyParents",function(){return c}),r.d(t,"colorPool",function(){return h}),r.d(t,"medianIndex",function(){return f}),r.d(t,"groupCompare",function(){return p});var n=r("./src/internal/index.ts"),i=r("./src/model/INumberColumn.ts");function s(e,...t){return new Function("value",...t,`\n  const escapedValue = encodeURIComponent(String(value));\n  return \`${e}\`;\n `)}function o(e){return!e.filterMissing&&!isFinite(e.min)&&!isFinite(e.max)}function a(e){return{min:null!=e.min&&isFinite(e.min)?e.min:-1/0,max:null!=e.max&&isFinite(e.max)?e.max:1/0,filterMissing:e.filterMissing}}function u(e){if(console.assert(e.length>0),1===e.length)return e[0];const t=e.map(e=>Object.assign({subGroups:[]},e));t.slice(1).forEach((e,r)=>{e.parent=t[r],t[r].subGroups.push(e)});const r={name:t.map(e=>e.name).join(" ∩ "),color:t[0].color,parent:t[t.length-1]};return r.parent.subGroups.push(r),r}function l(e){return e.name}function c(e){if(e.length<=1)return;const t=new Map,r=e=>{let n=e.name;if(e.parent){const t=r(e.parent);e.parent=t.g,n=`${t.id}.$[id}`}return t.has(n)?{g:t.get(n),id:n}:(e.parent&&e.parent.subGroups.push(e),e.subGroups=[],t.set(n,e),{g:e,id:n})};e.forEach(e=>{e.parent&&(e.parent=r(e.parent).g,e.parent.subGroups.push(e))})}const d=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"].concat(["8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]);function h(){let e=0;return()=>d[e++%d.length]}function f(e,t){const r=e.map((e,r)=>({i:r,v:t.getNumber(e),m:t.isMissing(e)})).filter(e=>!e.m).sort((e,t)=>Object(i.numberCompare)(e.v,t.v)),n=r[Math.floor(r.length/2)];return void 0===n?0:n.i}function p(e,t,r,s){const o=new n.LazyBoxPlotData(e.map(e=>r.getNumber(e))),a=new n.LazyBoxPlotData(t.map(e=>r.getNumber(e)));return Object(i.numberCompare)(o[s],a[s])}},"./src/model/missing.ts":function(e,t,r){"use strict";function n(e){return void 0===e||null==e||"number"==typeof e&&isNaN(e)||""===e||"NA"===e||"NaN"===e||"string"==typeof e&&"na"===e.toLowerCase()||Array.isArray(e)&&e.every(e=>n(e))}function i(e){return null==e||void 0===e||isNaN(e)}r.r(t),r.d(t,"isMissingValue",function(){return n}),r.d(t,"isUnknown",function(){return i}),r.d(t,"FIRST_IS_NAN",function(){return s}),r.d(t,"missingGroup",function(){return o});const s=-1,o={name:"Missing values",color:"gray"}},"./src/provider/ACommonDataProvider.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/model/index.ts"),i=r("./src/model/Ranking.ts"),s=r("./src/provider/ADataProvider.ts");function o(e,t,r){const n=r.column;return function(e){return"string"==typeof e&&e.indexOf(".")>=0}(n)?function(e,t){return t.hasOwnProperty(e)?t[e]:e.split(".").reduce((e,t)=>void 0===e?e:/\d+/.test(t)?e[+t]:e[t],t)}(n,e.v):e.v[n]}t.default=class extends s.default{constructor(e=[],t={}){super(t),this.columns=e,this.rankingIndex=0,this.ranks=new Map,e.forEach(e=>{e.accessor=e.accessor||o,e.label=e.label||e.column})}rankAccessor(e,t,r,n){const i=this.ranks.get(n.id)||[];let s=0;for(const t of i){const r=t.order.indexOf(e.i);if(r>=0)return s+r+1;s+=t.order.length}return-1}getMaxNestedSortingCriteria(){return 1}getMaxGroupColumns(){return 1}cloneRanking(e){const t=this.nextRankingId(),r=new i.default(t,this.getMaxNestedSortingCriteria(),this.getMaxGroupColumns());return e&&(this.ranks.set(t,this.ranks.get(e.id)),e.children.forEach(e=>{this.push(r,e.desc)})),r}cleanUpRanking(e){this.ranks.delete(e.id)}sort(e){const t=this.sortImpl(e);return Array.isArray(t)?(this.ranks.set(e.id,t),t):t.then(t=>(this.ranks.set(e.id,t),t))}pushDesc(e){const t=e;t.accessor=t.accessor||o,t.label=e.label||t.column,this.columns.push(e),this.fire(s.default.EVENT_ADD_DESC,t)}clearColumns(){this.clearRankings(),this.columns.splice(0,this.columns.length),this.fire(s.default.EVENT_CLEAR_DESC)}getColumns(){return this.columns.slice()}findDesc(e){return this.columns.filter(t=>t.column===e)[0]}toDescRef(e){return void 0!==e.column?`${e.type}@${e.column}`:e}deriveDefault(e=!0){const t=this.pushRanking();return e&&(this.getMaxGroupColumns()>0&&t.push(this.create(Object(n.createAggregateDesc)())),t.push(this.create(Object(n.createRankDesc)())),this.multiSelections&&t.push(this.create(Object(n.createSelectionDesc)()))),this.getColumns().forEach(e=>{const r=this.create(e);r&&!Object(n.isSupportType)(r)&&t.push(r)}),t}fromDescRef(e){if("string"==typeof e)return this.columns.find(t=>`${t.type}@${t.column}`===e);const t=this.columns.find(t=>e.column===t.column&&e.label===t.label&&e.type===t.type);return t||e}restore(e){super.restore(e),this.rankingIndex=1+Math.max(...this.getRankings().map(e=>+e.id.substring(4)))}nextRankingId(){return`rank${this.rankingIndex++}`}}},"./src/provider/ADataProvider.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/internal/AEventDispatcher.ts"),i=r("./src/internal/debounce.ts"),s=r("./src/internal/OrderedSet.ts"),o=r("./src/model/index.ts"),a=r("./src/model/AggregateGroupColumn.ts"),u=r("./src/model/internal.ts"),l=r("./src/model/RankColumn.ts"),c=r("./src/model/Ranking.ts"),d=r("./src/provider/utils.ts"),h=r("./src/model/annotations.ts");r.d(t,"IExportOptions",function(){return d.IExportOptions});class f extends n.default{constructor(e={}){super(),this.rankings=[],this.selection=new s.default,this.aggregations=new Set,this.uid=0,this.createHelper=(e=>{const t=this.fromDescRef(e.desc);let r=null;if(t&&t.type){this.fixDesc(e.desc),(r=new(0,this.columnTypes[t.type])(e.id,t)).restore(e,this.createHelper)}return r}),this.columnTypes=Object.assign(Object(o.models)(),e.columnTypes||{}),this.multiSelections=!1!==e.multiSelection}createEventList(){return super.createEventList().concat([f.EVENT_ADD_COLUMN,f.EVENT_REMOVE_COLUMN,f.EVENT_ADD_RANKING,f.EVENT_REMOVE_RANKING,f.EVENT_DIRTY,f.EVENT_DIRTY_HEADER,f.EVENT_DIRTY_VALUES,f.EVENT_ORDER_CHANGED,f.EVENT_SELECTION_CHANGED,f.EVENT_ADD_DESC,f.EVENT_CLEAR_DESC,f.EVENT_JUMP_TO_NEAREST,f.EVENT_GROUP_AGGREGATION_CHANGED])}pushRanking(e){const t=this.cloneRanking(e);return this.insertRanking(t),t}takeSnapshot(e){const t=this.cloneRanking(),r=e.findMyRanker();let n="string"===e.desc.type;return(r?r.children.filter(t=>t===e||(n||"string"!==t.desc.type?Object(h.isSupportType)(t):(n=!0,!0))):[e]).forEach(r=>{const n=this.clone(r);t.push(n),r===e&&n.sortByMe()}),this.insertRanking(t),t}insertRanking(e,t=this.rankings.length){this.rankings.splice(t,0,e),this.forward(e,...Object(n.suffix)(".provider",c.default.EVENT_ADD_COLUMN,c.default.EVENT_REMOVE_COLUMN,c.default.EVENT_DIRTY,c.default.EVENT_DIRTY_HEADER,c.default.EVENT_ORDER_CHANGED,c.default.EVENT_DIRTY_VALUES));const r=this;e.on(`${c.default.EVENT_DIRTY_ORDER}.provider`,Object(i.default)(function(){r.triggerReorder(this.source)},100)),this.fire([f.EVENT_ADD_RANKING,f.EVENT_DIRTY_HEADER,f.EVENT_DIRTY_VALUES,f.EVENT_DIRTY],e,t),this.triggerReorder(e)}triggerReorder(e){Promise.resolve(this.sort(e)).then(t=>{Object(u.unifyParents)(t),e.setGroups(t)})}removeRanking(e){const t=this.rankings.indexOf(e);return!(t<0)&&(this.unforward(e,...Object(n.suffix)(".provider",c.default.EVENT_ADD_COLUMN,c.default.EVENT_REMOVE_COLUMN,c.default.EVENT_DIRTY,c.default.EVENT_DIRTY_HEADER,c.default.EVENT_ORDER_CHANGED,c.default.EVENT_DIRTY_VALUES)),this.rankings.splice(t,1),e.on(`${c.default.EVENT_DIRTY_ORDER}.provider`,null),this.cleanUpRanking(e),this.fire([f.EVENT_REMOVE_RANKING,f.EVENT_DIRTY_HEADER,f.EVENT_DIRTY_VALUES,f.EVENT_DIRTY],e,t),!0)}clearRankings(){this.rankings.forEach(e=>{this.unforward(e,...Object(n.suffix)(".provider",c.default.EVENT_ADD_COLUMN,c.default.EVENT_REMOVE_COLUMN,c.default.EVENT_DIRTY,c.default.EVENT_DIRTY_HEADER,c.default.EVENT_ORDER_CHANGED,c.default.EVENT_DIRTY_VALUES)),e.on(`${c.default.EVENT_DIRTY_ORDER}.provider`,null),this.cleanUpRanking(e)}),this.rankings=[],this.fire([f.EVENT_REMOVE_RANKING,f.EVENT_DIRTY_HEADER,f.EVENT_DIRTY_VALUES,f.EVENT_DIRTY],null)}getRankings(){return this.rankings.slice()}getLastRanking(){return this.rankings[this.rankings.length-1]}ensureOneRanking(){if(0===this.rankings.length){const e=this.pushRanking();this.push(e,Object(o.createRankDesc)())}}cleanUpRanking(e){}push(e,t){const r=this.create(t);return r?(e.push(r),r):null}insert(e,t,r){const n=this.create(r);return n?(e.insert(n,t),n):null}nextId(){return`col${this.uid++}`}fixDesc(e){"rank"===e.type?e.accessor=this.rankAccessor.bind(this):"selection"===e.type?(e.accessor=(e=>this.isSelected(e.i)),e.setter=((e,t)=>t?this.select(e.i):this.deselect(e.i)),e.setterAll=((e,t)=>t?this.selectAll(e.map(e=>e.i)):this.deselectAll(e.map(e=>e.i)))):"aggregate"===e.type&&(e.isAggregated=((e,t)=>this.isAggregated(e,t)),e.setAggregated=((e,t,r)=>this.setAggregated(e,t,r)))}create(e){this.fixDesc(e);const t=this.columnTypes[e.type];return t?new t(this.nextId(),e):null}clone(e){const t=this.dumpColumn(e);return this.restoreColumn(t)}restoreColumn(e){const t=e=>{const r=this.fromDescRef(e.desc),n=this.columnTypes[r.type];this.fixDesc(r);const i=new n("",r);return i.restore(e,t),i.assignNewId(this.nextId.bind(this)),i};return t(e)}find(e){const t="string"==typeof e?t=>t.id===e:e;for(const e of this.rankings){const r=e.find(t);if(r)return r}return null}dump(){return{uid:this.uid,selection:this.getSelection(),aggregations:Array.from(this.aggregations),rankings:this.rankings.map(e=>e.dump(this.toDescRef))}}dumpColumn(e){return e.dump(this.toDescRef)}toDescRef(e){return e}fromDescRef(e){return e}restoreRanking(e){const t=this.cloneRanking();t.restore(e,this.createHelper),t.children.some(e=>e instanceof l.default)||t.insert(this.create(Object(o.createRankDesc)()),0);const r=this.nextId.bind(this);return t.children.forEach(e=>e.assignNewId(r)),t}restore(e){this.clearRankings(),this.uid=e.uid||0,e.selection&&e.selection.forEach(e=>this.selection.add(e)),e.aggregations&&(this.aggregations.clear(),e.aggregations.forEach(e=>this.aggregations.add(e))),e.rankings&&e.rankings.forEach(e=>{const t=this.cloneRanking();t.restore(e,this.createHelper),t.children.some(e=>e instanceof l.default)||t.insert(this.create(Object(o.createRankDesc)()),0),this.insertRanking(t)}),e.layout&&Object.keys(e.layout).forEach(t=>{this.deriveRanking(e.layout[t])});const t=this.nextId.bind(this);this.rankings.forEach(e=>{e.children.forEach(e=>e.assignNewId(t))})}deriveRanking(e){const t=this.cloneRanking();t.clear();const r=e=>{switch(e.type){case"rank":return this.create(Object(o.createRankDesc)());case"selection":return this.create(Object(o.createSelectionDesc)());case"group":return this.create(Object(o.createGroupDesc)());case"aggregate":return this.create(Object(o.createAggregateDesc)());case"actions":const t=this.create(Object(o.createActionDesc)(e.label||"actions"));return t.restore(e,this.createHelper),t;case"stacked":const n=this.create(Object(o.createStackDesc)(e.label||"Combined"));return(e.children||[]).forEach(e=>{const t=r(e);t&&n.push(t)}),n;default:{const t=this.findDesc(e.column);if(t){const r=this.create(t);return e.label=e.label||t.label||t.column,r&&r.restore(e,this.createHelper),r}return null}}};return e.forEach(e=>{const n=r(e);n&&t.push(n)}),t.children.some(e=>e instanceof l.default)||t.insert(this.create(Object(o.createRankDesc)()),0),this.insertRanking(t),t}isAggregated(e,t){let r=t;for(;r;){const n=`${e.id}@${Object(u.toGroupID)(r)}`;if(this.aggregations.has(n))return this.aggregations.add(`${e.id}@${Object(u.toGroupID)(t)}`),!0;r=r.parent}return!1}unaggregateParents(e,t){let r=t.parent;for(;r;)this.aggregations.delete(`${e.id}@${Object(u.toGroupID)(r)}`),r=r.parent}setAggregated(e,t,r){this.unaggregateParents(e,t);const n=`${e.id}@${Object(u.toGroupID)(t)}`;this.isAggregated(e,t)!==r&&(r?this.aggregations.add(n):this.aggregations.delete(n),this.fire([f.EVENT_GROUP_AGGREGATION_CHANGED,f.EVENT_DIRTY_VALUES,f.EVENT_DIRTY],e,t,r))}aggregateAllOf(e,t){const r=e.getGroups();r.forEach(r=>{if(this.unaggregateParents(e,r),this.isAggregated(e,r)===t)return;const n=`${e.id}@${Object(u.toGroupID)(r)}`;t?this.aggregations.add(n):this.aggregations.delete(n)}),this.fire([f.EVENT_GROUP_AGGREGATION_CHANGED,f.EVENT_DIRTY_VALUES,f.EVENT_DIRTY],e,r,t)}isSelected(e){return this.selection.has(e)}select(e){this.selection.has(e)||(!this.multiSelections&&this.selection.size>0&&this.selection.clear(),this.selection.add(e),this.fire(f.EVENT_SELECTION_CHANGED,this.getSelection()))}jumpToNearest(e){0!==e.length&&this.fire(f.EVENT_JUMP_TO_NEAREST,e)}selectAll(e){e.every(e=>this.selection.has(e))||(this.multiSelections||(this.selection.clear(),e=e.slice(0,1)),e.forEach(e=>{this.selection.add(e)}),this.fire(f.EVENT_SELECTION_CHANGED,this.getSelection()))}selectAllOf(e){this.setSelection(e.getOrder())}setSelection(e){if(0===e.length)return this.clearSelection();this.selection.size===e.length&&e.every(e=>this.selection.has(e))||(this.selection.clear(),this.selectAll(e))}toggleSelection(e,t=!1){return this.isSelected(e)?(t?this.deselect(e):this.clearSelection(),!1):(t?this.select(e):this.setSelection([e]),!0)}deselect(e){this.selection.has(e)&&(this.selection.delete(e),this.fire(f.EVENT_SELECTION_CHANGED,this.getSelection()))}deselectAll(e){e.every(e=>!this.selection.has(e))||(e.forEach(e=>{this.selection.delete(e)}),this.fire(f.EVENT_SELECTION_CHANGED,this.getSelection()))}selectedRows(){return 0===this.selection.size?[]:this.view(this.getSelection())}getSelection(){return Array.from(this.selection)}clearSelection(){0!==this.selection.size&&(this.selection.clear(),this.fire(f.EVENT_SELECTION_CHANGED,[],!1))}exportTable(e,t={}){return Promise.resolve(this.view(e.getOrder())).then(r=>Object(d.exportRanking)(e,r,t))}}f.EVENT_SELECTION_CHANGED="selectionChanged",f.EVENT_ADD_COLUMN=c.default.EVENT_ADD_COLUMN,f.EVENT_REMOVE_COLUMN=c.default.EVENT_REMOVE_COLUMN,f.EVENT_ADD_RANKING="addRanking",f.EVENT_REMOVE_RANKING="removeRanking",f.EVENT_DIRTY=c.default.EVENT_DIRTY,f.EVENT_DIRTY_HEADER=c.default.EVENT_DIRTY_HEADER,f.EVENT_DIRTY_VALUES=c.default.EVENT_DIRTY_VALUES,f.EVENT_ORDER_CHANGED=c.default.EVENT_ORDER_CHANGED,f.EVENT_ADD_DESC="addDesc",f.EVENT_CLEAR_DESC="clearDesc",f.EVENT_JUMP_TO_NEAREST="jumpToNearest",f.EVENT_GROUP_AGGREGATION_CHANGED=a.default.EVENT_AGGREGATE,t.default=f},"./src/provider/LocalDataProvider.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return o});var n=r("./src/internal/index.ts"),i=r("./src/model/index.ts"),s=r("./src/provider/ACommonDataProvider.ts");class o extends s.default{constructor(e,t=[],r={}){super(t,r),this._data=e,this.options={filterGlobally:!1,jumpToSearchResult:!1,maxNestedSortingCriteria:1/0,maxGroupColumns:1/0},this.filter=null,Object.assign(this.options,r),this._dataRows=a(e);const n=this;this.reorderAll=function(){const e=this.source;n.getRankings().forEach(t=>{t!==e&&t.dirtyOrder()})}}setFilter(e){this.filter=e,this.reorderAll()}getFilter(){return this.filter}getTotalNumberOfRows(){return this.data.length}getMaxGroupColumns(){return this.options.maxGroupColumns}getMaxNestedSortingCriteria(){return this.options.maxNestedSortingCriteria}get data(){return this._data}setData(e){this._data=e,this._dataRows=a(e),this.reorderAll()}clearData(){this.setData([])}appendData(e){this._data.push(...e),this._dataRows.push(...a(e)),this.reorderAll()}cloneRanking(e){const t=super.cloneRanking(e);return this.options.filterGlobally&&t.on(`${i.default.EVENT_FILTER_CHANGED}.reorderAll`,this.reorderAll),t}cleanUpRanking(e){this.options.filterGlobally&&e.on(`${i.default.EVENT_FILTER_CHANGED}.reorderAll`,null),super.cleanUpRanking(e)}sortImpl(e){if(0===this._data.length)return[];let t=this._data.map((e,t)=>({v:e,i:t,group:null})),r=null;if(this.options.filterGlobally){const e=this.getRankings().filter(e=>e.isFiltered());e.length>0&&(r=(t=>e.every(e=>e.filter(t))))}else e.isFiltered()&&(r=(t=>e.filter(t)));if((r||this.filter)&&(t=t.filter(e=>(!this.filter||this.filter(e))&&(!r||r(e)))),0===t.length)return[];if(t.forEach(t=>t.group=e.grouper(t)||i.defaultGroup),1===new Set(t.map(e=>e.group.name)).size){const r=t[0].group;t.sort((t,r)=>e.comparator(t,r));const n=t.map(e=>e.i);return[Object.assign({order:n},r)]}t.sort((t,r)=>{const n=t.group,i=r.group;return n.name!==i.name?n.name.toLowerCase().localeCompare(i.name.toLowerCase()):e.comparator(t,r)});const n=[Object.assign({order:[],rows:[]},t[0].group)];let s=n[0];return t.forEach(e=>{const t=e.group;t.name===s.name?(s.order.push(e.i),s.rows.push(e)):(s=Object.assign({order:[e.i],rows:[e]},t),n.push(s))}),n.sort((t,r)=>e.groupComparator(t,r)),n}viewRaw(e){return e.map(e=>this._data[e])}viewRawRows(e){return e.map(e=>this._dataRows[e])}view(e){return this.viewRaw(e)}fetch(e){return e.map(e=>e.map(e=>this._dataRows[e]))}stats(e){let t=null;const r=()=>(null==t&&(t=this.viewRawRows(e)),t);return{stats:e=>Object(n.computeStats)(r(),t=>e.getNumber(t),t=>e.isMissing(t),[0,1]),hist:e=>Object(n.computeHist)(r(),t=>e.getCategory(t),e.categories)}}mappingSample(e){const t=this._dataRows.length;if(t<=120)return this._dataRows.map(e.getRawNumber.bind(e));const r=[];for(let e=0;e<120;++e){let e=Math.floor(Math.random()*(t-1));for(;r.indexOf(e)>=0;)e=Math.floor(Math.random()*(t-1));r.push(e)}return r.map(t=>e.getRawNumber(this._dataRows[t]))}searchAndJump(e,t){const r="string"==typeof(e="string"==typeof e?e.toLowerCase():e)?t=>t.toLowerCase().indexOf(e)>=0:e.test.bind(e),n=[];for(let e=0;e<this._dataRows.length;++e)r(t.getLabel(this._dataRows[e]))&&n.push(e);this.jumpToNearest(n)}}function a(e){return e.map((e,t)=>({v:e,i:t}))}},"./src/provider/RemoteDataProvider.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/model/Group.ts"),i=r("./src/provider/ACommonDataProvider.ts");class s extends i.default{constructor(e,t=[],r={}){super(t,r),this.server=e,this.options={maxCacheSize:1e3},this.cache=new Map,Object.assign(this.options,r)}getTotalNumberOfRows(){return this.cache.size}sortImpl(e){return this.server.sort(e).then(e=>[Object.assign({order:e},n.defaultGroup)])}loadFromServer(e){return this.server.view(e).then(t=>t.map((t,r)=>{return{v:t,dataIndex:e[r]}}))}view(e){if(0===e.length)return Promise.resolve([]);const t=this.fetch([e])[0];return Promise.all(t).then(e=>e.map(e=>e.v))}computeMissing(e){const t=new Set,r=t.add.bind(t);return e.forEach(e=>e.forEach(r)),this.cache.forEach((e,r)=>t.delete(r)),this.cache.size,t.size,this.options.maxCacheSize,Array.from(t)}loadInCache(e){if(0===e.length)return;const t=this.loadFromServer(e);e.forEach((r,n)=>{const i=e[n];this.cache.set(i,t.then(e=>({v:e[n],i:i})))})}fetch(e){const t=this.computeMissing(e);return this.loadInCache(t),e.map(e=>e.map(e=>this.cache.get(e)))}mappingSample(e){return this.server.mappingSample(e.desc.column)}searchAndJump(e,t){this.server.search(e,t.desc.column).then(e=>{this.jumpToNearest(e)})}stats(e){return this.server.stats(e)}}},"./src/provider/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/provider/ADataProvider.ts");r.d(t,"DataProvider",function(){return n.default});var i=r("./src/provider/LocalDataProvider.ts");r.d(t,"LocalDataProvider",function(){return i.default});var s=r("./src/provider/RemoteDataProvider.ts");r.d(t,"RemoteDataProvider",function(){return s.default}),r.d(t,"IExportOptions",function(){return n.IExportOptions});var o=r("./src/provider/utils.ts");r.d(t,"deriveColumnDescriptions",function(){return o.deriveColumnDescriptions}),r.d(t,"deriveColors",function(){return o.deriveColors}),r.d(t,"exportRanking",function(){return o.exportRanking})},"./src/provider/utils.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"deriveColumnDescriptions",function(){return u}),r.d(t,"deriveColors",function(){return l}),r.d(t,"exportRanking",function(){return c});var n=r("./node_modules/d3-array/index.js"),i=r("./src/model/index.ts"),s=r("./src/model/Column.ts"),o=r("./src/model/internal.ts");function a(e,t,r,i,s){const o={type:"string",label:e,column:r};if("number"==typeof t)return o.type="number",o.domain=Object(n.extent)(i,e=>e[r]),o;if(t&&t instanceof Date)return o.type="date",o;if("boolean"==typeof t)return o.type="boolean",o;if("string"==typeof t){const e=new Set(i.map(e=>e[r]));return e.size<i.length*s.categoricalThreshold&&(o.type="categorical",o.categories=Array.from(e).sort()),o}if(Array.isArray(t)){o.type="strings";const e=t[0];if("number"==typeof e)return o.type="numbers",o.domain=Object(n.extent)([].concat(...i.map(e=>e[r]))),o;if(e&&t instanceof Date)return o.type="dates",o;if("boolean"==typeof t)return o.type="booleans",o;if("string"==typeof t){const e=new Set([].concat(...i.map(e=>e[r])));return e.size<i.length*s.categoricalThreshold&&(o.type="categoricals",o.categories=Array.from(e).sort()),o}}return console.log("cannot infer type of column:",r),o}function u(e,t={}){const r=Object.assign({categoricalThreshold:.7,columns:[]},t),n=[];if(0===e.length)return n;const i=e[0];return Array.isArray(i)?i.map((t,n)=>a(`Col${n}`,t,n,e,r)):(r.columns.length>0?r.columns:Object.keys(i)).map(t=>a(t,i[t],t,e,r))}function l(e){const t=Object(o.colorPool)();return e.forEach(e=>{switch(e.type){case"number":e.color=t()||s.default.DEFAULT_COLOR}}),e}function c(e,t,r={}){const n=Object.assign({separator:"\t",newline:"\n",header:!0,quote:!1,quoteChar:'"',filter:e=>!Object(i.isSupportType)(e),verboseColumnHeaders:!1},r),s=new RegExp(`[${n.quoteChar}]`,"g");function o(e,t){return!(n.quote||e.indexOf("\n")>=0)||t&&Object(i.isNumberColumn)(t)?e:`${n.quoteChar}${e.replace(s,n.quoteChar+n.quoteChar)}${n.quoteChar}`}const a=e.flatColumns.filter(e=>n.filter(e)),u=e.getOrder(),l=[];return n.header&&l.push(a.map(e=>o(`${e.label}${n.verboseColumnHeaders&&e.description?`\n${e.description}`:""}`)).join(n.separator)),t.forEach((e,t)=>{l.push(a.map(r=>o(r.getLabel({v:e,i:u[t]}),r)).join(n.separator))}),l.join(n.newline)}},"./src/renderer/AAggregatedGroupRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"AAggregatedGroupRenderer",function(){return i});var n=r("./src/renderer/utils.ts");class i{createGroup(e,t,r,n){const i=this.create(e,t,r,n);return{template:`<div>${i.template}</div>`,update:(t,r,n)=>{const s=this.aggregatedIndex(n,e);i.update(t.firstElementChild,n[s],s,r)}}}createSummary(){return n.noRenderer}}t.default=i},"./src/renderer/ANumbersCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"ANumbersCellRenderer",function(){return o}),r.d(t,"matchRows",function(){return a});var n=r("./src/internal/index.ts"),i=r("./src/model/index.ts"),s=r("./src/renderer/missing.ts");class o{static choose(e,t){const r=t.map(t=>e.getNumbers(t)),s=e.dataLength,o=[];for(let t=0;t<s;++t){const s=r.map(e=>e[t]).filter(e=>!Object(i.isMissingValue)(e));if(s){const t=new n.LazyBoxPlotData(s);o.push(t[e.getSortMethod()])}else o.push(NaN)}return o}create(e,t,r,n){const i=t.colWidth(e),{templateRow:o,render:a,update:u}=this.createContext(e,t,n);return{template:`<div>${o}</div>`,update:(t,r)=>{Object(s.renderMissingDOM)(t,e,r)||u(t,e.getNumbers(r),r)},render:(t,r)=>{Object(s.renderMissingCanvas)(t,e,r,i)||a(t,e.getNumbers(r),r)}}}createGroup(e,t,r,n){const{templateRow:i,update:s}=this.createContext(e,t,n);return{template:`<div>${i}</div>`,update:(t,r,n)=>{const i=o.choose(e,n);s(t,i,n[0])}}}}function a(e,t,r){const n=Array.from(e.children);n.length>t.length?n.slice(t.length).forEach(e=>e.remove()):t.length>n.length&&e.insertAdjacentHTML("beforeend",r.repeat(t.length-n.length))}},"./src/renderer/ActionRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return o});var n=r("./src/model/ActionColumn.ts"),i=r("./src/renderer/interfaces.ts"),s=r("./src/renderer/utils.ts");class o{constructor(){this.title="Default"}canRender(e,t){return e instanceof n.default&&t!==i.ERenderMode.SUMMARY}create(e){const t=e.actions;return{template:`<div class='actions lu-hover-only'>${t.map(e=>`<span title='${e.name}' class='fa'>${e.icon}</span>`).join("")}</div>`,update:(e,r)=>{Object(s.forEachChild)(e,(e,n)=>{e.onclick=function(e){e.preventDefault(),e.stopPropagation(),t[n].action(r)}})},render:s.noop}}createGroup(e){const t=e.groupActions;return{template:`<div class='actions lu-hover-only'>${t.map(e=>`<span title='${e.name}' class='fa'>${e.icon}</span>`).join("")}</div>`,update:(e,r,n)=>{Object(s.forEachChild)(e,(e,i)=>{e.onclick=function(e){e.preventDefault(),e.stopPropagation(),t[i].action(r,n)}})}}}createSummary(){return s.noRenderer}}},"./src/renderer/AggregateGroupRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/model/AggregateGroupColumn.ts"),i=r("./src/styles/index.ts");class s{constructor(){this.title="Default"}canRender(e){return e instanceof n.default}create(e,t){const r=t.colWidth(e);return{template:'<div title="Collapse Group"></div>',update(t,r,n,i){t.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.setAggregated(i,!0)}},render:e=>{e.fillStyle=i.AGGREGATE.color,e.fillRect(r-i.AGGREGATE.width,0,i.AGGREGATE.strokeWidth,i.CANVAS_HEIGHT)}}}createGroup(e){return{template:'<div title="Expand Group"></div>',update(t,r){t.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.setAggregated(r,!1)}}}}createSummary(e,t){return{template:'<div title="(Un)Aggregate All" data-icon="caret-down"></div>',update:r=>{const n=e.findMyRanker(),i=Boolean(n&&n.getGroups().every(t=>e.isAggregated(t)));r.dataset.icon=i?"caret-right":"caret-down",r.onclick=(n=>{n.stopPropagation();const i=e.findMyRanker();if(!i||!t)return;const s="caret-down"===r.dataset.icon;r.dataset.icon=s?"caret-right":"caret-down",t.provider.aggregateAllOf(i,s)})}}}}},"./src/renderer/AnnotationRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return o});var n=r("./src/model/AnnotateColumn.ts"),i=r("./src/renderer/StringCellRenderer.ts"),s=r("./src/renderer/utils.ts");class o extends i.default{constructor(){super(...arguments),this.title="Default"}canRender(e){return super.canRender(e)&&e instanceof n.default}create(e){return{template:"<div class='annotations text'>\n        <input class='lu-hover-only'>\n        <span class='text lu-not-hover'></span>\n       </div>",update:(t,r)=>{const n=t.firstElementChild;n.onchange=(()=>{e.setValue(r,n.value)}),n.onclick=(e=>{e.stopPropagation()}),t.lastElementChild.textContent=n.value=e.getLabel(r)},render:s.noop}}}},"./src/renderer/BarCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return c});var n=r("./src/model/index.ts"),i=r("./src/model/Column.ts"),s=r("./src/renderer/utils.ts"),o=r("./src/styles/index.ts"),a=r("./src/renderer/impose.ts"),u=r("./src/renderer/interfaces.ts"),l=r("./src/renderer/missing.ts");class c{constructor(e=!1){this.renderValue=e,this.title="Bar"}canRender(e,t){return t===u.ERenderMode.CELL&&Object(n.isNumberColumn)(e)&&!Object(n.isNumbersColumn)(e)}create(e,t,r,n){const u=t.colWidth(e);return{template:`<div title="">\n          <div style='background-color: ${e.color}'>\n            <span ${this.renderValue?"":'class="lu-hover-only"'}></span>\n          </div>\n        </div>`,update:(t,r)=>{const o=e.getNumber(r),u=Object(l.renderMissingDOM)(t,e,r),c=isNaN(o)?0:Math.round(100*o*100)/100,d=e.getLabel(r);t.title=d;const h=t.firstElementChild;h.style.width=u?"100%":`${c}%`;const f=Object(a.colorOf)(e,r,n);h.style.backgroundColor=u?null:f,Object(s.setText)(h.firstElementChild,d);const p=h.firstElementChild;Object(s.setText)(p,d),Object(s.adaptDynamicColorToBgColor)(p,f||i.default.DEFAULT_COLOR,d,c/100)},render:(t,r)=>{if(Object(l.renderMissingCanvas)(t,e,r,u))return;t.fillStyle=Object(a.colorOf)(e,r,n)||i.default.DEFAULT_COLOR;const s=u*e.getNumber(r);t.fillRect(0,0,isNaN(s)?0:s,o.CANVAS_HEIGHT)}}}createGroup(){return s.noRenderer}createSummary(){return s.noRenderer}}},"./src/renderer/BooleanCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return o});var n=r("./src/model/BooleanColumn.ts"),i=r("./src/renderer/DefaultCellRenderer.ts"),s=r("./src/renderer/interfaces.ts");class o extends i.DefaultCellRenderer{constructor(){super(...arguments),this.title="Default"}canRender(e,t){return e instanceof n.default&&t===s.ERenderMode.CELL}create(e){const t=super.create(e);return t.template='<div class="lu-center"> </div>',t}}},"./src/renderer/BoxplotCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"computeLabel",function(){return h}),r.d(t,"default",function(){return f});var n=r("./src/internal/index.ts"),i=r("./src/model/index.ts"),s=r("./src/model/BoxPlotColumn.ts"),o=r("./src/model/INumberColumn.ts"),a=r("./src/model/NumberColumn.ts"),u=r("./src/styles/index.ts"),l=r("./src/renderer/impose.ts"),c=r("./src/renderer/interfaces.ts"),d=r("./src/renderer/missing.ts");function h(e){if(null==e)return"";const t=s.default.DEFAULT_FORMATTER;return`min = ${t(e.min)}\nq1 = ${t(e.q1)}\nmedian = ${t(e.median)}\nq3 = ${t(e.q3)}\nmax = ${t(e.max)}`}class f{constructor(){this.title="Box Plot"}canRender(e,t){return Object(o.isBoxPlotColumn)(e)&&t===c.ERenderMode.CELL||Object(i.isNumberColumn)(e)&&t!==c.ERenderMode.CELL}create(e,t,r,n){const i=e.getSortMethod(),s=void 0!==e.isSortedByMe().asc,o=t.colWidth(e);return{template:'<div title="">\n                    <div><div></div><div></div></div>\n                 </div>',update:(t,r)=>{const o=e.getBoxPlotData(r);o&&!Object(d.renderMissingDOM)(t,e,r)&&p(t,o,e.getRawBoxPlotData(r),s?i:"",Object(l.colorOf)(e,r,n))},render:(t,r)=>{if(Object(d.renderMissingCanvas)(t,e,r,o))return;const a=e.getBoxPlotData(r);a&&function(e,t,r,n,i,s){const o=Math.max(t.q1-1.5*(t.q3-t.q1),t.min),a=Math.min(t.q3+1.5*(t.q3-t.q1),t.max);e.fillStyle=n||u.BOX_PLOT.box,e.strokeStyle=u.BOX_PLOT.stroke,e.beginPath(),e.rect(t.q1,0,t.q3-t.q1,i),e.fill(),e.stroke();const l=i-s,c=i/2;e.beginPath(),e.moveTo(o,c),e.lineTo(t.q1,c),e.moveTo(o,s),e.lineTo(o,l),e.moveTo(t.median,0),e.lineTo(t.median,i),e.moveTo(t.q3,c),e.lineTo(a,c),e.moveTo(a,s),e.lineTo(a,l),e.stroke(),e.fill(),""!==r&&(e.strokeStyle=u.BOX_PLOT.sort,e.beginPath(),e.moveTo(t[r],s),e.lineTo(t[r],i-s),e.stroke(),e.fill());if(!t.outlier)return;e.fillStyle=u.BOX_PLOT.outlier,t.outlier.forEach(t=>{e.fillRect(Math.max(t-u.DOT.size/2,0),c-u.DOT.size/2,u.DOT.size,u.DOT.size)})}(t,{min:a.min*o,median:a.median*o,q1:a.q1*o,q3:a.q3*o,max:a.max*o,outlier:a.outlier?a.outlier.map(e=>e*o):void 0},s?i:"",Object(l.colorOf)(e,r,n),u.CANVAS_HEIGHT,0)}}}static createAggregatedBoxPlot(e,t,r=!1){const i=[].concat(...t.map(t=>r?e.getRawNumbers(t):e.getNumber(t)));return new n.LazyBoxPlotData(i)}createGroup(e,t,r,i){const s=e instanceof a.default&&void 0!==e.isGroupSortedByMe().asc?e.getSortMethod():"";return{template:'<div title="">\n                    <div><div></div><div></div></div>\n                 </div>',update:(t,r,a)=>{if(a.every(t=>e.isMissing(t)))return void Object(d.renderMissingDOM)(t,e,a[0]);let u,c;t.classList.remove("lu-missing"),Object(o.isNumbersColumn)(e)?(u=f.createAggregatedBoxPlot(e,a),c=f.createAggregatedBoxPlot(e,a,!0)):(u=new n.LazyBoxPlotData(a.map(t=>e.getNumber(t))),c=new n.LazyBoxPlotData(a.map(t=>e.getRawNumber(t)))),p(t,u,c,s,Object(l.colorOf)(e,null,i))}}}createSummary(e,t,r,n){return{template:'<div title="">\n                    <div><div></div><div></div></div>\n                 </div>',update:(t,r)=>{if(null==r||0===r.count)return void t.classList.add("lu-missing");t.classList.remove("lu-missing"),p(t,r,r,e instanceof a.default&&void 0!==e.isGroupSortedByMe().asc?e.getSortMethod():"",Object(l.colorOf)(e,null,n))}}}}function p(e,t,r,n,i){e.title=h(r);const s=e.firstElementChild,o=s.firstElementChild,a=s.lastElementChild,u=Math.max(t.q1-1.5*(t.q3-t.q1),t.min),l=Math.min(t.q3+1.5*(t.q3-t.q1),t.max);s.style.left=`${Math.round(100*u)}%`;const c=l-u;if(s.style.width=`${Math.round(100*c)}%`,o.style.left=`${Math.round((t.q1-u)/c*100)}%`,o.style.width=`${Math.round((t.q3-t.q1)/c*100)}%`,o.style.backgroundColor=i,a.style.left=`${Math.round((t.median-u)/c*100)}%`,!t.outlier||0===t.outlier.length)return s.dataset.sort=n,void(e.children.length>1&&(e.innerHTML="",e.appendChild(s)));const d=Array.from(e.children).slice(1);d.slice(t.outlier.length).forEach(e=>e.remove());for(let r=d.length;r<t.outlier.length;++r){const t=e.ownerDocument.createElement("div");d.push(t),e.appendChild(t)}t.outlier.forEach((e,t)=>{delete d[t].dataset.sort,d[t].style.left=`${Math.round(100*e)}%`}),"min"===n?(s.dataset.sort="",d[0].dataset.sort="min"):"max"===n&&(s.dataset.sort="",d[d.length-1].dataset.sort="max")}},"./src/renderer/BrightnessCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"toHeatMapColor",function(){return h}),r.d(t,"default",function(){return f});var n=r("./node_modules/d3-color/index.js"),i=r("./src/model/index.ts"),s=r("./src/model/Column.ts"),o=r("./src/model/INumberColumn.ts"),a=r("./src/styles/index.ts"),u=r("./src/renderer/impose.ts"),l=r("./src/renderer/interfaces.ts"),c=r("./src/renderer/missing.ts"),d=r("./src/renderer/utils.ts");function h(e,t,r,i){(null==e||isNaN(e))&&(e=1);const o=Object(n.hsl)(Object(u.colorOf)(r,t,i)||s.default.DEFAULT_COLOR);return o.l=1-e,o.toString()}class f{constructor(){this.title="Brightness"}canRender(e,t){return Object(i.isNumberColumn)(e)&&t===l.ERenderMode.CELL&&!Object(o.isNumbersColumn)(e)}create(e,t,r,n){const i=t.colWidth(e);return{template:`<div title="">\n        <div style="background-color: ${e.color}"></div><div> </div>\n      </div>`,update:(t,r)=>{const i=Object(c.renderMissingDOM)(t,e,r);t.title=e.getLabel(r),t.firstElementChild.style.backgroundColor=i?null:h(e.getNumber(r),r,e,n),Object(d.setText)(t.lastElementChild,t.title)},render:(t,r)=>{Object(c.renderMissingCanvas)(t,e,r,i)||(t.fillStyle=h(e.getNumber(r),r,e,n),t.fillRect(0,0,i,a.CANVAS_HEIGHT))}}}createGroup(){return d.noRenderer}createSummary(){return d.noRenderer}}},"./src/renderer/CategoricalCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return f}),r.d(t,"interactiveHist",function(){return m});var n=r("./src/config.ts"),i=r("./src/internal/math.ts"),s=r("./src/model/index.ts"),o=r("./src/model/CategoricalColumn.ts"),a=r("./src/model/ICategoricalColumn.ts"),u=r("./src/model/OrdinalColumn.ts"),l=r("./src/styles/index.ts"),c=r("./src/ui/missing.ts"),d=r("./src/renderer/missing.ts"),h=r("./src/renderer/utils.ts");class f{constructor(){this.title="Color",this.groupTitle="Histogram"}canRender(e){return Object(s.isCategoricalColumn)(e)}create(e,t){const r=t.colWidth(e);return{template:"<div>\n        <div></div><div></div>\n      </div>",update:(t,r)=>{Object(d.renderMissingDOM)(t,e,r);const n=e.getCategory(r);t.firstElementChild.style.backgroundColor=n?n.color:null,Object(h.setText)(t.lastElementChild,e.getLabel(r))},render:(t,n)=>{if(Object(d.renderMissingCanvas)(t,e,n,r))return;const i=e.getCategory(n);t.fillStyle=i?i.color:"",t.fillRect(0,0,r,l.CANVAS_HEIGHT)}}}createGroup(e,t,r){const{template:n,update:s}=p(e,!1);return{template:`${n}</div>`,update:(t,n,o)=>{const{maxBin:a,hist:u}=Object(i.computeHist)(o,t=>e.getCategory(t),e.categories),l=Math.max(a,r?r.maxBin:0);s(t,l,u)}}}createSummary(e,t,r){return e instanceof o.default||e instanceof u.default?function(e,t,r){const{template:n,update:i}=p(e,t||Object(h.wideEnough)(e));let s;return{template:`${n}${t?Object(c.filterMissingNumberMarkup)(!1,0,r):""}</div>`,update:(t,r)=>{s||(s=m(e,t)),s(r?r.missing:0,e),t.classList.toggle("lu-missing",!r),r&&i(t,r.maxBin,r.hist)}}}(e,r,t.idPrefix):function(e,t){const{template:r,update:n}=p(e,t);return{template:`${r}</div>`,update:(e,t)=>{e.classList.toggle("lu-missing",!t),t&&n(e,t.maxBin,t.hist)}}}(e,r)}}function p(e,t){const r=e.categories.map(e=>`<div title="${e.label}: 0" data-cat="${e.name}" ${t?`data-title="${e.label}"`:""}><div style="height: 0; background-color: ${e.color}"></div></div>`).join("");return{template:`<div${e.dataLength>n.DENSE_HISTOGRAM?'class="lu-dense"':""}>${r}`,update:(t,r,n)=>{Object(h.forEach)(t,"[data-cat]",(t,i)=>{const{y:s}=n[i];t.title=`${e.categories[i].label}: ${s}`,t.firstElementChild.style.height=`${Math.round(100*s/r)}%`})}}}function m(e,t){const r=Array.from(t.querySelectorAll("[data-cat]"));r.forEach((t,r)=>{const n=e.categories[r];t.onclick=(i=>{i.preventDefault(),i.stopPropagation();const s=e.getFilter();if(null==s||!Array.isArray(s.filter)){const n=e.categories.slice();return t.dataset.filtered="filtered",n.splice(r,1),void e.setFilter({filterMissing:!!s&&s.filterMissing,filter:n.map(e=>e.name)})}const o=s.filter.slice(),a=o.indexOf(n.name);a>=0?(t.dataset.filtered="filtered",o.splice(a,1)):(delete t.dataset.filtered,o.push(n.name)),e.setFilter({filterMissing:s.filterMissing,filter:o})})});const n=t.querySelector("input");return n&&(n.onchange=(()=>{const t=n.checked,r=e.getFilter();null==r?e.setFilter(t?{filterMissing:t,filter:e.categories.map(e=>e.name)}:null):e.setFilter({filterMissing:t,filter:r.filter})})),(t,i)=>{const s=(e=i).categories,o=e.getFilter();r.forEach((e,t)=>{Object(a.isCategoryIncluded)(o,s[t])?delete e.dataset.filtered:e.dataset.filtered="filtered"}),n&&(n.checked=null!=o&&o.filterMissing,Object(c.updateFilterMissingNumberMarkup)(n.parentElement,t))}}},"./src/renderer/CategoricalHeatmapCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return u});var n=r("./src/model/ICategoricalColumn.ts"),i=r("./src/styles/index.ts"),s=r("./src/renderer/missing.ts"),o=r("./src/renderer/UpSetCellRenderer.ts"),a=r("./src/renderer/utils.ts");class u{constructor(){this.title="Heatmap"}canRender(e){return Object(n.isSetColumn)(e)}static createDOMContext(e){const t=e.categories;let r="";for(const e of t)r+=`<div title="${e.label}" style="background-color: ${e.color}"></div>`;return{templateRow:r,render:(e,t)=>{Object(a.forEachChild)(e,(e,r)=>{const n=t[r];e.style.visibility=n?null:"hidden"})}}}create(e,t){const{templateRow:r,render:n}=u.createDOMContext(e),o=t.colWidth(e),a=o/e.dataLength,l=e.categories;return{template:`<div>${r}</div>`,update:(t,r)=>{Object(s.renderMissingDOM)(t,e,r)||n(t,e.getValues(r))},render:(t,r)=>{if(Object(s.renderMissingCanvas)(t,e,r,o))return;const n=e.getValues(r);t.save(),l.forEach((e,r)=>{if(!n[r])return;const s=r*a;t.fillStyle=e.color,t.fillRect(s,0,a,i.CANVAS_HEIGHT)}),t.restore()}}}createGroup(e){const{templateRow:t,render:r}=u.createDOMContext(e);return{template:`<div>${t}</div>`,update:(t,n,i)=>{const s=Object(o.union)(e,i);r(t,s)}}}createSummary(e){const t=e.categories;let r="<div>";const n=Object(a.wideEnough)(e);for(const e of t)r+=`<div title="${e.label}"${n?` data-title="${e.label}"`:""} style="background-color: ${e.color}"></div>`;return{template:r+="</div>",update:a.noop}}}},"./src/renderer/CategoricalStackedDistributionlCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return d});var n=r("./src/internal/math.ts"),i=r("./src/model/index.ts"),s=r("./src/model/CategoricalColumn.ts"),o=r("./src/model/OrdinalColumn.ts"),a=r("./src/ui/missing.ts"),u=r("./src/renderer/CategoricalCellRenderer.ts"),l=r("./src/renderer/interfaces.ts"),c=r("./src/renderer/utils.ts");class d{constructor(){this.title="Distribution Bar"}canRender(e,t){return Object(i.isCategoricalColumn)(e)&&t!==l.ERenderMode.CELL}create(){return c.noRenderer}createGroup(e){const{template:t,update:r}=h(e);return{template:`${t}</div>`,update:(t,i,s)=>{const{hist:o,missing:a}=Object(n.computeHist)(s,t=>e.getCategory(t),e.categories);r(t,o,a)}}}createSummary(e,t,r){return e instanceof s.default||e instanceof o.default?function(e,t,r){const{template:n,update:i}=h(e);let s;return{template:`${n}${t?Object(a.filterMissingNumberMarkup)(!1,0,r):""}</div>`,update:(t,r)=>{s||(s=Object(u.interactiveHist)(e,t)),s(r?r.missing:0,e),t.classList.toggle("lu-missing",!r),r&&i(t,r.hist,r.missing)}}}(e,r,t.idPrefix):function(e){const{template:t,update:r}=h(e);return{template:`${t}</div>`,update:(e,t)=>{e.classList.toggle("lu-missing",!t),t&&r(e,t.hist,t.missing)}}}(e)}}function h(e){const t=e.categories;return{template:`<div>${t.map(e=>`<div style="background-color: ${e.color}; color: ${Object(c.adaptTextColorToBgColor)(e.color)}" title="${e.label}: 0" data-cat="${e.name}"><span>${e.label}</span></div>`).join("")}<div title="Missing Values"></div>`,update:(e,r,n)=>{const i=r.reduce((e,{y:t})=>e+t,n);Object(c.forEachChild)(e,(e,s)=>{let o,a;s>=r.length?(o=n,a="Missing Values"):(o=r[s].y,a=t[s].label),e.style.flexGrow=`${Math.round(0===i?0:o)}`,e.title=`${a}: ${o}`})}}}},"./src/renderer/CircleCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return l});var n=r("./src/model/index.ts"),i=r("./src/model/INumberColumn.ts"),s=r("./src/renderer/impose.ts"),o=r("./src/renderer/interfaces.ts"),a=r("./src/renderer/missing.ts"),u=r("./src/renderer/utils.ts");class l{constructor(){this.title="Proportional Symbol"}canRender(e,t){return Object(n.isNumberColumn)(e)&&t===o.ERenderMode.CELL&&!Object(i.isNumbersColumn)(e)}create(e,t,r,n){return{template:'<div style="background: radial-gradient(circle closest-side, red 100%, transparent 100%)" title="">\n              <div class="lu-hover-only"></div>\n          </div>',update:(t,r)=>{const i=e.getNumber(r),o=Math.round(100*i),l=Object(a.renderMissingDOM)(t,e,r);Object(u.attr)(t,{},{background:l?null:`radial-gradient(circle closest-side, ${Object(s.colorOf)(e,r,n)} ${o}%, transparent ${o}%)`}),Object(u.setText)(t.firstElementChild,e.getLabel(r))},render:u.noop}}createGroup(){return u.noRenderer}createSummary(){return u.noRenderer}}},"./src/renderer/DefaultCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"DefaultCellRenderer",function(){return s});var n=r("./src/renderer/missing.ts"),i=r("./src/renderer/utils.ts");class s{constructor(){this.title="String",this.groupTitle="None",this.summaryTitle="None"}canRender(e,t){return!0}create(e){return{template:"<div> </div>",update:(t,r)=>{Object(n.renderMissingDOM)(t,e,r),Object(i.setText)(t,e.getLabel(r))},render:i.noop}}createGroup(e){return i.noRenderer}createSummary(){return i.noRenderer}}},"./src/renderer/DotCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return c});var n=r("./src/model/index.ts"),i=r("./src/model/INumberColumn.ts"),s=r("./src/styles/index.ts"),o=r("./src/renderer/impose.ts"),a=r("./src/renderer/interfaces.ts"),u=r("./src/renderer/missing.ts"),l=r("./src/renderer/utils.ts");class c{constructor(){this.title="Dot",this.groupTitle="Dots"}canRender(e,t){return Object(n.isNumberColumn)(e)&&t!==a.ERenderMode.SUMMARY}static getDOMRenderer(e){const t=Object(i.isNumbersColumn)(e)?e.dataLength:1;let r="";for(let n=0;n<t;++n)r+=`<div style='background-color: ${e.color}' title=''></div>`;return{template:`<div>${r}</div>`,update:(e,t,r,i)=>{if(e.children.length!==t.length){let n="";for(let e=0;e<t.length;++e)n+=`<div style='background-color: ${i[e]}' title='${r[e]}'></div>`;e.innerHTML=n}Object(l.forEachChild)(e,(e,s)=>{const o=t[s];Object(l.attr)(e,{title:r[s]},{display:Object(n.isMissingValue)(o)?"none":null,left:`${Math.round(100*o)}%`,top:t.length>1?`${Math.round(80*Math.random()+10)}%`:null,"background-color":i[s]})})},render:(e,t,r,n)=>{e.save(),e.globalAlpha=s.DOT.opacity,t.forEach((t,i)=>{e.fillStyle=r[i]||s.DOT.color,e.fillRect(Math.max(0,t*n-s.DOT.size/2),0,s.DOT.size,s.CANVAS_HEIGHT)}),e.restore()}}}create(e,t,r,s){const{template:a,render:l,update:d}=c.getDOMRenderer(e),h=t.colWidth(e);return{template:a,update:(t,r)=>{if(Object(u.renderMissingDOM)(t,e,r))return;const a=Object(o.colorOf)(e,r,s),l=e.getValue(r);if(!Object(i.isNumbersColumn)(e))return d(t,[l],[e.getLabel(r)],[a]);const c=l.filter(e=>!Object(n.isMissingValue)(e));return d(t,c,c.map(i.DEFAULT_FORMATTER),c.map(e=>a))},render:(t,r)=>{if(Object(u.renderMissingCanvas)(t,e,r,h))return;const a=Object(o.colorOf)(e,r,s),c=e.getValue(r);if(!Object(i.isNumbersColumn)(e))return l(t,[c],[a],h);const d=c.filter(e=>!Object(n.isMissingValue)(e));return l(t,d,d.map(e=>a),h)}}}createGroup(e,t,r,s){const{template:a,update:u}=c.getDOMRenderer(e);return{template:a,update:(t,r,a)=>{const l=a.map(t=>e.getValue(t)),c=a.map(t=>Object(o.colorOf)(e,t,s));if(!Object(i.isNumbersColumn)(e))return u(t,l,a.map(t=>e.getLabel(t)),c);const d=[].concat(...l.filter(e=>!Object(n.isMissingValue)(e)));return u(t,d,d.map(i.DEFAULT_FORMATTER),l.map((e,t)=>c[t]))}}}createSummary(){return l.noRenderer}}},"./src/renderer/GroupCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/model/GroupColumn.ts"),i=r("./src/renderer/utils.ts");class s{constructor(){this.title="Default"}canRender(e){return e instanceof n.default}create(){return{template:"<div><div></div></div>",update(e,t,r,n){e.firstElementChild.innerText=0===r?n.name:""},render:i.noop}}createGroup(){return{template:"<div><div></div></div>",update(e,t,r){e.firstElementChild.innerText=`${t.name} (${r.length})`}}}createSummary(){return i.noRenderer}}},"./src/renderer/HeatmapCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return c});var n=r("./src/model/index.ts"),i=r("./src/model/INumberColumn.ts"),s=r("./src/styles/index.ts"),o=r("./src/renderer/ANumbersCellRenderer.ts"),a=r("./src/renderer/BrightnessCellRenderer.ts"),u=r("./src/renderer/missing.ts"),l=r("./src/renderer/utils.ts");class c extends o.ANumbersCellRenderer{constructor(){super(...arguments),this.title="Heatmap"}canRender(e){return Object(i.isNumbersColumn)(e)&&Boolean(e.dataLength)}createContext(e,t,r){const o=t.colWidth(e)/e.dataLength,c=e.labels;let d="";for(let t=0;t<e.dataLength;++t)d+='<div style="background-color: white" title=""></div>';return{templateRow:d,update:(t,s,o)=>{Object(l.forEachChild)(t,(t,u)=>{const d=s[u];Object(l.attr)(t,{title:`${c[u]}: ${Object(i.DEFAULT_FORMATTER)(d)}`,class:Object(n.isMissingValue)(d)?"lu-missing":""},{"background-color":Object(n.isMissingValue)(d)?null:Object(a.toHeatMapColor)(d,o,e,r)})})},render:(t,i,l)=>{i.forEach((i,c)=>{const d=c*o;Object(n.isMissingValue)(i)?Object(u.renderMissingValue)(t,o,s.CANVAS_HEIGHT,d,0):(t.beginPath(),t.fillStyle=Object(a.toHeatMapColor)(i,l,e,r),t.fillRect(d,0,o,s.CANVAS_HEIGHT))})}}}createSummary(e){let t=e.labels.slice();for(;t.length>0&&!Object(l.wideEnough)(e,t.length);)t=t.filter((e,t)=>t%2==0);let r="<div>";for(const e of t)r+=`<div title="${e}" data-title="${e}"></div>`;return{template:r+="</div>",update:l.noop}}}},"./src/renderer/HistogramCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return g}),r.d(t,"getHistDOMRenderer",function(){return y});var n=r("./node_modules/d3-drag/index.js"),i=r("./node_modules/d3-selection/index.js"),s=r("./src/config.ts"),o=r("./src/internal/math.ts"),a=r("./src/model/index.ts"),u=r("./src/model/INumberColumn.ts"),l=r("./src/model/MappingFunction.ts"),c=r("./src/ui/dialogs/InputNumberDialog.ts"),d=r("./src/ui/missing.ts"),h=r("./src/renderer/impose.ts"),f=r("./src/renderer/interfaces.ts"),p=r("./src/renderer/missing.ts"),m=r("./src/renderer/utils.ts");class g{constructor(){this.title="Histogram"}canRender(e,t){return Object(u.isNumberColumn)(e)&&t!==f.ERenderMode.CELL||Object(u.isNumbersColumn)(e)&&t===f.ERenderMode.CELL}create(e,t,r,n){const{template:i,render:s,guessedBins:o}=y(t.totalNumberOfRows,e,n);return{template:`${i}</div>`,update:(t,n)=>{Object(p.renderMissingDOM)(t,e,n)||s(t,b(r,o,[n],e))},render:m.noop}}createGroup(e,t,r,n){const{template:i,render:s,guessedBins:o}=y(t.totalNumberOfRows,e,n);return{template:`${i}</div>`,update:(t,n,i)=>{s(t,b(r,o,i,e))}}}createSummary(e,t,r,s){const a=y(t.totalNumberOfRows,e,s);return!r||!Object(l.isMapAbleColumn)(e)?function(e,t,r){if(Object(l.isMapAbleColumn)(e)){const r=e.getRange();t+=`<span>${r[0]}</span><span>${r[1]}</span>`}return{template:`${t}</div>`,update:(t,n)=>{if(Object(l.isMapAbleColumn)(e)){const r=e.getRange();Array.from(t.querySelectorAll("span")).forEach((e,t)=>e.textContent=r[t])}t.classList.toggle("lu-missing",!n),n&&r(t,{bins:n.hist.length,max:n.maxBin,hist:n.hist})}}}(e,a.template,a.render):function(e,t,r,s){const a=v(e);let u;return{template:`${r+=`\n      <div data-handle="min-hint" style="width: ${a.percent(a.filterMin)}%"></div>\n      <div data-handle="max-hint" style="width: ${100-a.percent(a.filterMax)}%"></div>\n      <div data-handle="min" data-value="${Object(o.round)(a.filterMin,2)}" style="left: ${a.percent(a.filterMin)}%" title="min filter, drag or shift click to change"></div>\n      <div data-handle='max' data-value="${Object(o.round)(a.filterMax,2)}" style="right: ${100-a.percent(a.filterMax)}%" title="max filter, drag or shift click to change"></div>\n      ${Object(d.filterMissingNumberMarkup)(a.filterMissing,0,t.idPrefix)}\n    `}</div>`,update:(r,a)=>{u||(u=function(e,t,r){const s=e.querySelector("[data-handle=min]"),a=e.querySelector("[data-handle=max]"),u=e.querySelector("[data-handle=min-hint]"),l=e.querySelector("[data-handle=max-hint]"),h=e.querySelector("input"),f=()=>{const e=v(t),r=e.unpercent(parseFloat(s.style.left)),n=e.unpercent(100-parseFloat(a.style.right));t.setFilter({filterMissing:h.checked,min:Math.abs(r-e.domain[0])<.001?NaN:r,max:Math.abs(n-e.domain[1])<.001?NaN:n})};return s.onclick=(e=>{if(!e.shiftKey)return;e.preventDefault(),e.stopPropagation();const n=v(t),i=n.unpercent(parseFloat(s.style.left)),a={attachment:s,manager:r.dialogManager,level:1,idPrefix:r.idPrefix};new c.default(a,e=>{u.style.width=`${n.percent(e)}%`,s.dataset.value=Object(o.round)(e,2).toString(),s.style.left=`${n.percent(e)}%`,f()},{value:i,min:n.domain[0],max:n.domain[1]}).open()}),a.onclick=(e=>{if(!e.shiftKey)return;e.preventDefault(),e.stopPropagation();const n=v(t),i=n.unpercent(100-parseFloat(a.style.right)),s={attachment:a,manager:r.dialogManager,level:1,idPrefix:r.idPrefix};new c.default(s,e=>{l.style.width=`${100-n.percent(e)}%`,a.dataset.value=Object(o.round)(e,2).toString(),a.style.right=`${100-n.percent(e)}%`,f()},{value:i,min:n.domain[0],max:n.domain[1]}).open()}),h.onchange=(()=>f()),Object(i.selectAll)([s,a]).call(Object(n.drag)().filter(()=>0===i.event.button&&!i.event.shiftKey).on("start",function(){this.classList.add("lu-dragging")}).on("drag",function(){const r=i.event,n=e.clientWidth,s=Math.max(0,Math.min(r.x,n)),a=Math.round(100*s/n),c=t.getMapping().domain;if(this.dataset.value=Object(o.round)((e=>e/100*(c[1]-c[0])+c[0])(a),2).toString(),"min"===this.dataset.handle)return this.style.left=`${a}%`,void(u.style.width=`${a}%`);this.style.right=`${100-a}%`,l.style.width=`${100-a}%`}).on("end",function(){this.classList.remove("lu-dragging"),f()})),(e,r)=>{const n=v(t=r);u.style.width=`${n.percent(n.filterMin)}%`,l.style.width=`${100-n.percent(n.filterMax)}%`,s.dataset.value=Object(o.round)(n.filterMin,2).toString(),a.dataset.value=Object(o.round)(n.filterMax,2).toString(),s.style.left=`${n.percent(n.filterMin)}%`,a.style.right=`${100-n.percent(n.filterMax)}%`,h.checked=n.filterMissing,Object(d.updateFilterMissingNumberMarkup)(h.parentElement,e)}}(r,e,t)),u(a?a.missing:0,e),r.classList.toggle("lu-missing",!a),a&&s(r,{bins:a.hist.length,max:a.maxBin,hist:a.hist})}}}(e,t,a.template,a.render)}}function b(e,t,r,n){const i=e?e.hist.length:t;let s;if(Object(u.isNumbersColumn)(n)){const e=[].concat(...r.map(e=>n.getNumbers(e)));s=Object(o.computeStats)(e,e=>e,a.isMissingValue,[0,1],i)}else s=Object(o.computeStats)(r,e=>n.getNumber(e),e=>n.isMissing(e),[0,1],i);return{bins:i,max:Math.max(s.maxBin,e?e.maxBin:0),hist:s.hist}}function y(e,t,r){const n=Object(o.getNumberOfBins)(e);let i="";for(let e=0;e<n;++e)i+=`<div title="Bin ${e}: 0" data-x=""><div style="height: 0" ></div></div>`;return{template:`<div${n>s.DENSE_HISTOGRAM?' class="lu-dense':""}>${i}`,render:(e,n)=>{const{bins:i,max:o,hist:a}=n;let l=Array.from(e.querySelectorAll("[data-x]"));if(l.length>i)l.splice(i,l.length-i).forEach(e=>e.remove());else if(l.length<i){for(let t=l.length;t<i;++t)e.insertAdjacentHTML("afterbegin",`<div title="Bin ${t}: 0" data-x=""><div style="height: 0" ></div></div>`);l=Array.from(e.querySelectorAll("[data-x]"))}e.classList.toggle("lu-dense",i>s.DENSE_HISTOGRAM),l.forEach((e,n)=>{const{x0:i,x1:s,length:l}=a[n],c=e.firstElementChild;e.title=`${Object(u.DEFAULT_FORMATTER)(i)} - ${Object(u.DEFAULT_FORMATTER)(s)} (${l})`,e.dataset.x=Object(u.DEFAULT_FORMATTER)(i),c.style.height=`${Math.round(100*l/o)}%`,c.style.backgroundColor=Object(h.colorOf)(t,null,r)})},guessedBins:n}}function v(e){const t=e.getFilter(),r=e.getMapping().domain,n=isFinite(t.min)?t.min:r[0],i=isFinite(t.max)?t.max:r[1];return{filterMissing:t.filterMissing,domain:r,percent:e=>Math.round(100*(e-r[0])/(r[1]-r[0])),unpercent:e=>e/100*(r[1]-r[0])+r[0],filterMin:n,filterMax:i}}},"./src/renderer/ImageCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return a});var n=r("./src/model/StringColumn.ts"),i=r("./src/renderer/interfaces.ts"),s=r("./src/renderer/missing.ts"),o=r("./src/renderer/utils.ts");class a{constructor(){this.title="Image"}canRender(e,t){return e instanceof n.default&&t===i.ERenderMode.CELL}create(e){return{template:"<div></div>",update:(t,r)=>{const n=Object(s.renderMissingDOM)(t,e,r);t.title=e.getLabel(r),t.style.backgroundImage=n?null:`url('${e.getValue(r)}')`},render:o.noop}}createGroup(){return o.noRenderer}createSummary(){return o.noRenderer}}},"./src/renderer/InterleavingCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return c});var n=r("./src/model/CompositeNumberColumn.ts"),i=r("./src/styles/index.ts"),s=r("./src/renderer/HistogramCellRenderer.ts"),o=r("./src/renderer/interfaces.ts"),a=r("./src/renderer/missing.ts"),u=r("./src/renderer/MultiLevelCellRenderer.ts"),l=r("./src/renderer/utils.ts");class c{constructor(){this.title="Interleaved"}canRender(e){return e instanceof n.default}create(e,t){const{cols:r}=Object(u.createData)(e,t,!1,o.ERenderMode.CELL),n=t.colWidth(e);return{template:`<div>${r.map(e=>e.template).join("")}</div>`,update:(t,n,i,s)=>{Object(a.renderMissingDOM)(t,e,n)||(Object(l.matchColumns)(t,r),Object(l.forEachChild)(t,(e,t)=>{r[t].renderer.update(e,n,i,s)}))},render:(t,s,o,u)=>{Object(a.renderMissingCanvas)(t,e,s,n)||(t.save(),t.scale(1,1/r.length),r.forEach((e,r)=>{e.renderer.render(t,s,r,u),t.translate(0,i.CANVAS_HEIGHT)}),t.restore())}}}createGroup(e,t){const{cols:r}=Object(u.createData)(e,t,!1,o.ERenderMode.GROUP);return{template:`<div>${r.map(e=>e.template).join("")}</div>`,update:(e,t,n)=>{Object(l.matchColumns)(e,r),Object(l.forEachChild)(e,(e,i)=>{r[i].groupRenderer.update(e,t,n)})}}}createSummary(e,t){const r=e.children;let n=0;const{template:i,render:o}=Object(s.getHistDOMRenderer)(t.totalNumberOfRows,e,{color:()=>r[n++%r.length].color});return{template:i,update:e=>{const n=r.map(e=>t.statsOf(e));if(!n.some(Boolean))return void e.classList.add("lu-missing");e.classList.remove("lu-missing");const i=function(e){const t=e.find(Boolean).hist.length,r=[];let n=0;for(let i=0;i<t;++i)e.forEach(e=>{const t=e?e.hist[i]:null;t?(t.length>n&&(n=t.length),r.push(t)):r.push(d)});return{bins:t,max:n,hist:r}}(n);o(e,i)}}}}const d={length:0,x0:0,x1:0}},"./src/renderer/LinkCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return a});var n=r("./src/model/StringColumn.ts"),i=r("./src/renderer/interfaces.ts"),s=r("./src/renderer/missing.ts"),o=r("./src/renderer/utils.ts");class a{constructor(){this.title="Link"}canRender(e,t){return e instanceof n.default&&t!==i.ERenderMode.SUMMARY}create(e){const t=e.alignment||"left";return{template:`<a${"left"!==t?` class="lu-${t}"`:""} target="_blank" href=""></a>`,update:(t,r)=>{Object(s.renderMissingDOM)(t,e,r)||(t.href=e.getValue(r),e.escape?Object(o.setText)(t,e.getLabel(r)):t.innerHTML=e.getLabel(r))},render:o.noop}}static exampleText(e,t){const r=[];for(const n of t)if(!e.isMissing(n)&&(r.push(`<a target="_blank" href="${e.getValue(n)}">${e.getLabel(n)}</a>`),r.length>=5))break;return`${r.join(", ")}${r.length<t.length?", &hellip;":""}`}createGroup(e){return{template:"<div> </div>",update:(t,r,n)=>{t.innerHTML=`${a.exampleText(e,n)}`}}}createSummary(){return o.noRenderer}}},"./src/renderer/LinkMapCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return u});var n=r("./src/model/StringMapColumn.ts"),i=r("./src/renderer/interfaces.ts"),s=r("./src/renderer/missing.ts"),o=r("./src/renderer/TableCellRenderer.ts"),a=r("./src/renderer/utils.ts");class u{constructor(){this.title="Table with Links"}canRender(e,t){return e instanceof n.default&&t!==i.ERenderMode.SUMMARY}create(e){const t=e.alignment||"left";return{template:"<div></div>",update:(r,n)=>{if(Object(s.renderMissingDOM)(r,e,n))return;const i=e.getValue(n);r.innerHTML=e.getLabels(n).map(({key:e,value:r},n)=>`<div>${e}</div><div${"left"!==t?` class="lu-${t}"`:""}><a href="${i[n].value}" target="_blank">${r}</a></div>`).join("")},render:a.noop}}static example(e){const t=[];for(const r of e)if(t.push(`<a target="_blank" href="${r.link}">${r.value}</a>`),t.length>=5)break;return`${t.join(", ")}${t.length<e.length} ? ', &hellip;': ''}`}createGroup(e){const t=e.alignment||"left";return{template:"<div></div>",update:(r,n,i)=>{const s=i.filter(t=>!e.isMissing(t)).map(t=>{const r=e.getLabels(t),n=e.getValue(t);return r.map(({key:e,value:t},r)=>({key:e,value:t,link:n[r].value}))}),a=Object(o.groupByKey)(s);r.innerHTML=a.map(({key:e,values:r})=>`<div>${e}</div><div${"left"!==t?` class="lu-${t}"`:""}>${u.example(r)}</div>`).join("")}}}createSummary(){return a.noRenderer}}},"./src/renderer/LoadingCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i});var n=r("./src/renderer/utils.ts");class i{constructor(){this.title="Loading"}canRender(){return!1}create(){return{template:"<div>Loading…</div>",update:n.noop,render:n.noop}}createGroup(){return this.create()}createSummary(){return this.create()}}},"./src/renderer/MapBarCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return d});var n=r("./src/model/index.ts"),i=r("./src/model/IArrayColumn.ts"),s=r("./src/model/INumberColumn.ts"),o=r("./src/model/MappingFunction.ts"),a=r("./src/renderer/impose.ts"),u=r("./src/renderer/interfaces.ts"),l=r("./src/renderer/missing.ts"),c=r("./src/renderer/utils.ts");class d{constructor(){this.title="Bar Table"}canRender(e,t){return Object(i.isMapColumn)(e)&&Object(n.isNumberColumn)(e)&&(t===u.ERenderMode.CELL||t===u.ERenderMode.SUMMARY&&Object(o.isMapAbleColumn)(e))}create(e,t,r,i){return{template:"<div></div>",update:(t,r)=>{Object(l.renderMissingDOM)(t,e,r)||(t.innerHTML=e.getMap(r).map(({key:t,value:o})=>{if(Object(n.isMissingValue)(o))return`<div>${t}</div><div class="lu-missing"></div>`;const u=isNaN(o)?0:Math.round(100*o*100)/100;return`<div>${t}</div><div title="${Object(s.DEFAULT_FORMATTER)(o)}"><div style="width: ${u}%; background-color: ${Object(a.colorOf)(e,r,i)}"><span class="lu-hover-only">${o}</span></div></div>`}).join(""))},render:c.noop}}createGroup(){return c.noRenderer}createSummary(e){return{template:"<div><div>Key</div><div><span></span><span></span>Value</div></div>",update:t=>{const r=e.getRange(),n=t.lastElementChild;n.firstElementChild.textContent=r[0],n.children[1].textContent=r[1]}}}}},"./src/renderer/MultiLevelCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"gridClass",function(){return h}),r.d(t,"createData",function(){return f}),r.d(t,"default",function(){return p});var n=r("./src/internal/index.ts"),i=r("./src/model/index.ts"),s=r("./src/model/internal.ts"),o=r("./src/model/INumberColumn.ts"),a=r("./src/styles/index.ts"),u=r("./src/renderer/AAggregatedGroupRenderer.ts"),l=r("./src/renderer/interfaces.ts"),c=r("./src/renderer/missing.ts"),d=r("./src/renderer/utils.ts");function h(e){return`lu-stacked-${e.id}`}function f(e,t,r,n,i){const s=a.COLUMN_PADDING;let o=0;return{cols:e.children.map(a=>{const u=o,c=a.getWidth();o+=c,o+=r?0:s;const d=n===l.ERenderMode.CELL?t.renderer(a,i):null,h=n===l.ERenderMode.GROUP?t.groupRenderer(a,i):null,f=n===l.ERenderMode.GROUP?t.summaryRenderer(a,!1,i):null;let p="",m="";switch(n){case l.ERenderMode.CELL:p=d.template,m=e.getRenderer();break;case l.ERenderMode.GROUP:p=h.template,m=e.getGroupRenderer();break;case l.ERenderMode.SUMMARY:p=f.template,m=e.getSummaryRenderer()}return{column:a,shift:u,width:c,template:p,rendererId:m,renderer:d,groupRenderer:h,summaryRenderer:f}}),stacked:r,padding:s}}class p extends u.AAggregatedGroupRenderer{constructor(e=!0){super(),this.stacked=e,this.title=this.stacked?"Stacked Bar":"Nested"}canRender(e,t){return Object(i.isMultiLevelColumn)(e)&&t!==l.ERenderMode.SUMMARY}create(e,t,r,i){const{cols:s,stacked:o,padding:a}=f(e,t,this.stacked,l.ERenderMode.CELL,i),u=t.option("useGridLayout",!1),p=t.colWidth(e);return{template:`<div class='${u?h(e):""}${u&&!o?" lu-grid-space":""}'>${s.map(e=>e.template).join("")}</div>`,update:(t,r,i,l)=>{if(Object(c.renderMissingDOM)(t,e,r))return;Object(d.matchColumns)(t,s);const h=Array.from(t.children),f=e.getWidth();let p=0;s.forEach((e,t)=>{const s=e.column.getWidth()/f,c=h[t];c.style.transform=o?`translate(-${Object(n.round)(p/s*100,4)}%,0)`:null,u?c.style.gridColumnStart=(t+1).toString():(c.style.width=`${Object(n.round)(100*s,2)}%`,c.style.marginRight=o?null:`${a}px`),e.renderer.update(c,r,i,l),o&&(p+=(1-e.column.getValue(r))*s)})},render:(t,r,n,i)=>{if(Object(c.renderMissingCanvas)(t,e,r,p))return;let a=0;s.forEach(e=>{const s=e.shift-a;t.translate(s,0),e.renderer.render(t,r,n,i),t.translate(-s,0),o&&(a+=e.width*(1-e.column.getValue(r)))})}}}createGroup(e,t,r,i){if(this.stacked&&Object(o.isNumberColumn)(e))return super.createGroup(e,t,r,i);const{cols:s,padding:a}=f(e,t,!1,l.ERenderMode.GROUP,i),u=t.option("useGridLayout",!1);return{template:`<div class='${u?h(e):""}${u?" lu-grid-space":""}'>${s.map(e=>e.template).join("")}</div>`,update:(t,r,i)=>{Object(d.matchColumns)(t,s);const o=Array.from(t.children),l=e.getWidth();s.forEach((e,t)=>{const s=e.column.getWidth()/l,c=o[t];u?c.style.gridColumnStart=(t+1).toString():(c.style.width=`${Object(n.round)(100*s,2)}%`,c.style.marginRight=`${a}px`),e.groupRenderer.update(c,r,i)})}}}aggregatedIndex(e,t){return console.assert(Object(o.isNumberColumn)(t)),Object(s.medianIndex)(e,t)}}},"./src/renderer/RankCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return o});var n=r("./src/model/RankColumn.ts"),i=r("./src/renderer/missing.ts"),s=r("./src/renderer/utils.ts");class o{constructor(){this.title="Default"}canRender(e){return e instanceof n.default}create(e){return{template:'<div class="lu-right"> </div>',update:(t,r)=>{Object(i.renderMissingDOM)(t,e,r),Object(s.setText)(t,e.getLabel(r))},render:s.noop}}createGroup(e){return{template:"<div><div></div><div></div></div>",update:(t,r,n)=>{const i=t.firstElementChild,s=t.lastElementChild;if(0===n.length)return i.textContent="",void(s.textContent="");i.textContent=e.getLabel(n[0]),s.textContent=e.getLabel(n[n.length-1])}}}createSummary(){return s.noRenderer}}},"./src/renderer/SelectionRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/model/SelectionColumn.ts"),i=r("./src/renderer/utils.ts");class s{constructor(){this.title="Default"}canRender(e){return e instanceof n.default}create(e){return{template:"<div></div>",update:(t,r)=>{t.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.toggleValue(r)}},render:i.noop}}createGroup(e){return{template:"<div></div>",update:(t,r,n)=>{n.reduce((t,r)=>e.getValue(r)?t+1:t,0)>=n.length/2?t.classList.add("lu-group-selected"):t.classList.remove("lu-group-selected"),t.onclick=function(r){r.preventDefault(),r.stopPropagation();const i=t.classList.toggle("lu-group-selected");e.setValues(n,i)}}}}createSummary(e,t){return{template:'<div title="(Un)Select All" data-icon="unchecked"></div>',update:r=>{r.onclick=(n=>{n.stopPropagation(),"unchecked"===r.dataset.icon?(t.provider.selectAllOf(e.findMyRanker()),r.dataset.icon="checked"):(t.provider.setSelection([]),r.dataset.icon="unchecked")})}}}}},"./src/renderer/SparklineCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"line",function(){return c}),r.d(t,"default",function(){return d});var n=r("./src/model/index.ts"),i=r("./src/model/INumberColumn.ts"),s=r("./src/model/NumbersColumn.ts"),o=r("./src/renderer/ANumbersCellRenderer.ts"),a=r("./src/renderer/interfaces.ts"),u=r("./src/renderer/missing.ts"),l=r("./src/renderer/utils.ts");function c(e){if(0===e.length)return"";let t="",r=!0;return e.forEach((e,i)=>{Object(n.isMissingValue)(e)?r=!0:r?(t+=`M${i},${1-e} `,r=!1):t+=`L${i},${1-e} `}),t}class d{constructor(){this.title="Sparkline"}canRender(e,t){return Object(i.isNumbersColumn)(e)&&t!==a.ERenderMode.SUMMARY}create(e){const t=e.dataLength,r=1-e.getMapping().apply(s.default.CENTER);return{template:`<svg viewBox="0 0 ${t-1} 1" preserveAspectRatio="none meet"><line x1="0" x2="${t-1}" y1="${r}" y2="${r}"></line><path></path></svg>`,update:(t,r)=>{if(Object(u.renderMissingDOM)(t,e,r))return;const n=e.getNumbers(r);t.querySelector("path").setAttribute("d",c(n))},render:l.noop}}createGroup(e){const t=e.dataLength,r=1-e.getMapping().apply(s.default.CENTER);return{template:`<svg viewBox="0 0 ${t} 1" preserveAspectRatio="none meet"><line x1="0" x2="${t-1}" y1="${r}" y2="${r}"></line><path></path></svg>`,update:(t,r,n)=>{Object(o.matchRows)(t,n,"<path></path>"),Object(l.forEachChild)(t,(t,r)=>{const i=n[r];t.setAttribute("d",c(e.getNumbers(i)))})}}}createSummary(){return l.noRenderer}}},"./src/renderer/StringCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return a});var n=r("./src/model/StringColumn.ts"),i=r("./src/ui/missing.ts"),s=r("./src/renderer/missing.ts"),o=r("./src/renderer/utils.ts");class a{constructor(){this.title="Default"}canRender(e){return e instanceof n.default}create(e){const t=e.alignment||"left";return{template:`<div${"left"!==t?` class="lu-${t}"`:""}> </div>`,update:(t,r)=>{Object(s.renderMissingDOM)(t,e,r),e.escape?Object(o.setText)(t,e.getLabel(r)):t.innerHTML=e.getLabel(r)},render:o.noop}}static exampleText(e,t){const r=[];for(const n of t){if(e.isMissing(n))continue;const t=e.getLabel(n);if(r.push(t),r.length>=5)break}return`${r.join(", ")}${r.length<t.length?", &hellip;":""}`}createGroup(e){return{template:"<div> </div>",update:(t,r,n)=>{t.innerHTML=`${a.exampleText(e,n)}`}}}static interactiveSummary(e,t){const r=t,s=Object(i.findFilterMissing)(t),o=t.querySelector('input[type="text"]'),a=t.querySelector('input[type="checkbox"]'),u=()=>{if(o.disabled=s.checked,a.disabled=s.checked,s.checked)return void e.setFilter(n.default.FILTER_MISSING);const t=o.value.trim();s.disabled=t.length>0,t.length<=0?e.setFilter(null):e.setFilter(a.checked?new RegExp(o.value):o.value)};return s.onchange=u,o.onchange=u,a.onchange=u,r.onsubmit=(e=>(e.preventDefault(),e.stopPropagation(),u(),!1)),t=>{let r=(e=t).getFilter()||"";const i=r===n.default.FILTER_MISSING;i&&(r=""),s.checked=i,o.value=r instanceof RegExp?r.source:r,a.checked=r instanceof RegExp,s.disabled=o.value.trim().length>0,o.disabled=s.checked,a.disabled=s.checked}}createSummary(e,t,r){if(!r)return{template:"<div></div>",update:t=>{const r=e.getFilter()||"";t.textContent=function(e){if(null==e||""===e||e===n.default.FILTER_MISSING)return"";if(e instanceof RegExp)return e.source;return String(e)}(r)}};let s=e.getFilter()||"";const u=s===n.default.FILTER_MISSING;let l;u&&(s="");const c=Object(o.randomId)(t.idPrefix);return{template:`<form><input type="text" placeholder="containing..." autofocus value="${s instanceof RegExp?s.source:s}">\n          <input id="${c}" type="checkbox" ${s instanceof RegExp?'checked="checked"':""}><label for="${c}">RegExp</label>\n          ${Object(i.filterMissingMarkup)(u,t.idPrefix)}</form>`,update:t=>{l||(l=a.interactiveSummary(e,t)),l(e)}}}}},"./src/renderer/TableCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return a}),r.d(t,"groupByKey",function(){return u});var n=r("./src/model/index.ts"),i=r("./src/model/IArrayColumn.ts"),s=r("./src/renderer/missing.ts"),o=r("./src/renderer/utils.ts");class a{constructor(){this.title="Table"}canRender(e){return Object(i.isMapColumn)(e)}create(e){return Object(i.isArrayColumn)(e)&&e.dataLength?this.createFixed(e):{template:"<div></div>",update:(t,r)=>{Object(s.renderMissingDOM)(t,e,r)||(t.innerHTML=e.getMapLabel(r).map(({key:e,value:t})=>`<div>${e}</div><div>${t}</div>`).join(""))},render:o.noop}}static template(e){return`<div>${e.labels.map(e=>`<div>${e}</div><div data-v></div>`).join("\n")}</div>`}createFixed(e){return{template:a.template(e),update:(t,r)=>{if(Object(s.renderMissingDOM)(t,e,r))return;const n=e.getLabels(r);Object(o.forEach)(t,"[data-v]",(e,t)=>{e.innerHTML=n[t]})},render:o.noop}}static example(e){return`${e.slice(0,5).map(e=>e.value).join(", ")}${5<e.length?", &hellip;":""}`}createGroup(e){return Object(i.isArrayColumn)(e)&&e.dataLength?this.createFixedGroup(e):{template:"<div></div>",update:(t,r,n)=>{const i=u(n.filter(t=>!e.isMissing(t)).map(t=>e.getMapLabel(t)));t.innerHTML=i.map(({key:e,values:t})=>`<div>${e}</div><div>${a.example(t)}</div>`).join("")}}}createFixedGroup(e){return{template:a.template(e),update:(t,r,i)=>{const s=i.filter(t=>!e.isMissing(t)).map(t=>e.getLabels(t));Object(o.forEach)(t,"[data-v]",(e,t)=>{const r=[];for(const e of s){const i=e[t];if(!Object(n.isMissingValue)(i)&&(r.push(i),r.length>=5))break}e.innerHTML=`${r.join(", ")}${5<s.length?", &hellip;":""}`})}}}createSummary(){return{template:"<div><div>Key</div><div>Value</div></div>",update:o.noop}}}function u(e){const t=new Map;return e.forEach(e=>e.forEach(e=>{t.has(e.key)?t.get(e.key).push(e):t.set(e.key,[e])})),Array.from(t).sort((e,t)=>e[0].localeCompare(t[0])).map(([e,t])=>({key:e,values:t}))}},"./src/renderer/UpSetCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return u}),r.d(t,"union",function(){return l});var n=r("./src/model/ICategoricalColumn.ts"),i=r("./src/styles/index.ts"),s=r("./src/renderer/interfaces.ts"),o=r("./src/renderer/missing.ts"),a=r("./src/renderer/utils.ts");class u{constructor(){this.title="Matrix"}canRender(e,t){return Object(n.isSetColumn)(e)&&t!==s.ERenderMode.SUMMARY}static calculateSetPath(e,t){const r=[];return e.forEach((e,t)=>e?r.push(t):-1),{left:r[0]*t+t/2,right:r[r.length-1]*t+t/2}}static createDOMContext(e){const t=e.categories;let r="";for(const e of t)r+=`<div title="${e.label}"></div>`;return{templateRow:r,render:(e,t)=>{Array.from(e.children).slice(1).forEach((e,r)=>{const n=t[r];e.classList.toggle("enabled",n)});const r=e.firstElementChild,n=t.findIndex(e=>e),i=t.length-1-t.reverse().findIndex(e=>e);n<0||n===i?r.style.display="none":(r.style.display=null,r.style.left=`${Math.round(100*(n+.5)/t.length)}%`,r.style.width=`${Math.round(100*(i-n)/t.length)}%`)}}}create(e,t){const{templateRow:r,render:n}=u.createDOMContext(e),s=t.colWidth(e),a=s/e.dataLength;return{template:`<div><div></div>${r}</div>`,update:(t,r)=>{Object(o.renderMissingDOM)(t,e,r)||n(t,e.getValues(r))},render:(t,r)=>{if(Object(o.renderMissingCanvas)(t,e,r,s))return;const n=e.getValues(r),l=n.some(e=>e);if(t.save(),t.fillStyle=i.UPSET.circle,t.strokeStyle=i.UPSET.stroke,l){const{left:e,right:r}=u.calculateSetPath(n,a);t.beginPath(),t.moveTo(e,i.CANVAS_HEIGHT/2),t.lineTo(r,i.CANVAS_HEIGHT/2),t.stroke()}n.forEach((e,r)=>{const n=r*a;t.beginPath(),t.globalAlpha=e?1:i.UPSET.inactive,t.fillRect(n,0,a,i.CANVAS_HEIGHT),t.fill()}),t.restore()}}}createGroup(e){const{templateRow:t,render:r}=u.createDOMContext(e);return{template:`<div><div></div>${t}</div>`,update:(t,n,i)=>{const s=l(e,i);r(t,s)}}}createSummary(){return a.noRenderer}}function l(e,t){const r=new Set;return t.forEach(t=>{e.getSet(t).forEach(e=>r.add(e))}),e.categories.map(e=>r.has(e))}},"./src/renderer/VerticalBarCellRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return c});var n=r("./src/model/INumberColumn.ts"),i=r("./src/model/NumbersColumn.ts"),s=r("./src/styles/index.ts"),o=r("./src/renderer/ANumbersCellRenderer.ts"),a=r("./src/renderer/BrightnessCellRenderer.ts"),u=r("./src/renderer/interfaces.ts"),l=r("./src/renderer/utils.ts");class c extends o.ANumbersCellRenderer{constructor(){super(...arguments),this.title="Bar Chart"}canRender(e,t){return Object(n.isNumbersColumn)(e)&&Boolean(e.dataLength)&&t===u.ERenderMode.CELL}static compute(e,t,r){return e<t?{height:t-e,bottom:e-r[0]}:{height:e-t,bottom:t-r[0]}}createContext(e,t,r){const o=t.colWidth(e)/e.dataLength,u=e.getMapping().apply(i.default.CENTER);let d="";for(let t=0;t<e.dataLength;++t)d+='<div style="background-color: white" title=""></div>';return{templateRow:d,update:(t,i,s)=>{const o=Object(a.toHeatMapColor)(0,s,e,r),d=Object(a.toHeatMapColor)(1,s,e,r);Object(l.forEachChild)(t,(e,t)=>{const r=i[t],{bottom:s,height:a}=c.compute(r,u,[0,1]);Object(l.attr)(e,{title:Object(n.DEFAULT_FORMATTER)(r)},{"background-color":r<u?o:d,bottom:`${Math.round(100*s/1)}%`,height:`${Math.round(100*a/1)}%`})})},render:(t,n,i)=>{const l=Object(a.toHeatMapColor)(0,i,e,r),d=Object(a.toHeatMapColor)(1,i,e,r),h=s.CANVAS_HEIGHT/1;n.forEach((e,r)=>{t.fillStyle=e<u?l:d;const n=r*o,{bottom:i,height:s}=c.compute(e,u,[0,1]);t.fillRect(n,(1-s-i)*h,o,s*h)})}}}createSummary(){return l.noRenderer}}},"./src/renderer/impose.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"colorOf",function(){return o});var n=r("./src/model/index.ts"),i=r("./src/model/CompositeNumberColumn.ts"),s=r("./src/model/ImpositionCompositeColumn.ts");function o(e,t,r){if(r&&r.color)return r.color(t);if(!t)return e.color;if(Object(n.isCategoricalColumn)(e)){const r=e.getCategory(t);return r?r.color:e.color}return e instanceof s.default||e instanceof i.default?e.getColor(t):e.color}},"./src/renderer/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"renderers",function(){return I}),r.d(t,"chooseRenderer",function(){return V}),r.d(t,"chooseGroupRenderer",function(){return H}),r.d(t,"chooseSummaryRenderer",function(){return P}),r.d(t,"possibleRenderer",function(){return k}),r.d(t,"possibleGroupRenderer",function(){return G}),r.d(t,"possibleSummaryRenderer",function(){return F});var n=r("./src/renderer/ActionRenderer.ts"),i=r("./src/renderer/AggregateGroupRenderer.ts"),s=r("./src/renderer/AnnotationRenderer.ts"),o=r("./src/renderer/BarCellRenderer.ts"),a=r("./src/renderer/BooleanCellRenderer.ts"),u=r("./src/renderer/BoxplotCellRenderer.ts"),l=r("./src/renderer/BrightnessCellRenderer.ts"),c=r("./src/renderer/CategoricalCellRenderer.ts"),d=r("./src/renderer/CategoricalHeatmapCellRenderer.ts"),h=r("./src/renderer/CategoricalStackedDistributionlCellRenderer.ts"),f=r("./src/renderer/CircleCellRenderer.ts"),p=r("./src/renderer/DefaultCellRenderer.ts"),m=r("./src/renderer/DotCellRenderer.ts"),g=r("./src/renderer/GroupCellRenderer.ts"),b=r("./src/renderer/HeatmapCellRenderer.ts"),y=r("./src/renderer/HistogramCellRenderer.ts"),v=r("./src/renderer/ImageCellRenderer.ts"),E=r("./src/renderer/interfaces.ts"),_=r("./src/renderer/InterleavingCellRenderer.ts"),C=r("./src/renderer/LinkCellRenderer.ts"),T=r("./src/renderer/LinkMapCellRenderer.ts"),O=r("./src/renderer/LoadingCellRenderer.ts"),N=r("./src/renderer/MapBarCellRenderer.ts"),R=r("./src/renderer/MultiLevelCellRenderer.ts"),D=r("./src/renderer/RankCellRenderer.ts"),j=r("./src/renderer/SelectionRenderer.ts"),A=r("./src/renderer/SparklineCellRenderer.ts"),x=r("./src/renderer/StringCellRenderer.ts"),M=r("./src/renderer/TableCellRenderer.ts"),S=r("./src/renderer/UpSetCellRenderer.ts"),w=r("./src/renderer/VerticalBarCellRenderer.ts");r.d(t,"IRenderContext",function(){return E.default}),r.d(t,"IImposer",function(){return E.IImposer}),r.d(t,"IGroupCellRenderer",function(){return E.IGroupCellRenderer}),r.d(t,"ICellRenderer",function(){return E.ICellRenderer}),r.d(t,"ICellRendererFactory",function(){return E.ICellRendererFactory});const L=new p.DefaultCellRenderer,I={actions:new n.default,aggregate:new i.default,annotate:new s.default,boolean:new a.default,boxplot:new u.default,brightness:new l.default,catdistributionbar:new h.default,categorical:new c.default,circle:new f.default,default:L,dot:new m.default,group:new g.default,heatmap:new b.default,catheatmap:new d.default,histogram:new y.default,image:new v.default,interleaving:new _.default,link:new C.default,linkMap:new T.default,loading:new O.default,nested:new R.default(!1),number:new o.default,mapbars:new N.default,rank:new D.default,selection:new j.default,sparkline:new A.default,stack:new R.default,string:new x.default,table:new M.default,upset:new S.default,verticalbar:new w.default};function V(e,t){return t[e.getRenderer()]||L}function H(e,t){return t[e.getGroupRenderer()]||L}function P(e,t){return t[e.getSummaryRenderer()]||L}function k(e,t,r=E.ERenderMode.CELL){return Object.keys(t).filter(n=>{return t[n].canRender(e,r)}).map(e=>{const n=t[e];return{type:e,label:r===E.ERenderMode.CELL?n.title:r===E.ERenderMode.GROUP?n.groupTitle||n.title:n.summaryTitle||n.groupTitle||n.title}})}function G(e,t){return k(e,t,E.ERenderMode.GROUP)}function F(e,t){return k(e,t,E.ERenderMode.SUMMARY)}},"./src/renderer/interfaces.ts":function(e,t,r){"use strict";var n;r.r(t),r.d(t,"ERenderMode",function(){return n}),function(e){e[e.CELL=0]="CELL",e[e.GROUP=1]="GROUP",e[e.SUMMARY=2]="SUMMARY"}(n||(n={}))},"./src/renderer/missing.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"renderMissingValue",function(){return i}),r.d(t,"renderMissingDOM",function(){return s}),r.d(t,"renderMissingCanvas",function(){return o});var n=r("./src/styles/index.ts");function i(e,t,r,i=0,s=0){const o=Math.max(0,(t-i-n.DASH.width)/2),a=Math.max(0,(r-s-n.DASH.height)/2);e.fillStyle=n.DASH.color,e.fillRect(o,a,Math.min(t,n.DASH.width),Math.min(r,n.DASH.height))}function s(e,t,r){const n=t.isMissing(r);return e.classList.toggle("lu-missing",n),n}function o(e,t,r,s,o=0,a=0){const u=t.isMissing(r);return u&&i(e,s,n.CANVAS_HEIGHT,o,a),u}},"./src/renderer/utils.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"attr",function(){return s}),r.d(t,"noop",function(){return o}),r.d(t,"noRenderer",function(){return a}),r.d(t,"setText",function(){return u}),r.d(t,"forEach",function(){return l}),r.d(t,"forEachChild",function(){return c}),r.d(t,"matchColumns",function(){return d}),r.d(t,"wideEnough",function(){return h}),r.d(t,"adaptTextColorToBgColor",function(){return f}),r.d(t,"adaptDynamicColorToBgColor",function(){return p}),r.d(t,"randomId",function(){return m});var n=r("./src/config.ts"),i=r("./node_modules/d3-color/index.js");function s(e,t={},r={},n){return Object.keys(t).forEach(r=>{const n=String(t[r]);e.getAttribute(r)!==n&&e.setAttribute(r,n)}),Object.keys(r).forEach(t=>{const n=r[t];e.style.getPropertyValue(t)!==n&&e.style.setProperty(t,n)}),u(e,n)}function o(){}const a={template:"<div></div>",update:o,render:o};function u(e,t){return void 0===t?e:(e.textContent!==t&&(e.textContent=t),e)}function l(e,t,r){Array.from(e.querySelectorAll(t)).forEach(r)}function c(e,t){Array.from(e.children).forEach(t)}function d(e,t){if(0===e.childElementCount)return e.innerHTML=t.map(e=>e.template).join(""),void t.forEach((t,r)=>{const n=e.childNodes[r];n.setAttribute("data-column-id",t.column.id),n.setAttribute("data-renderer",t.rendererId)});if(t.every(function(t,r){const n=e.children[r];return null!=n&&n.dataset.columnid===t.column.id&&n.dataset.renderer===t.rendererId}))return;const r=new Set(t.map(e=>`${e.column.id}@${e.rendererId}`));c(e,t=>{const n=`${t.dataset.columnId}@${t.dataset.rendere}`;r.has(n)||e.removeChild(t)}),t.forEach(t=>{let r=e.querySelector(`[data-column-id="${t.column.id}"]`);r||(e.insertAdjacentHTML("beforeend",t.template),(r=e.lastElementChild).dataset.columnId=t.column.id,r.dataset.renderer=t.rendererId),e.appendChild(r)})}function h(e,t=e.labels.length){return e.getWidth()/t>n.MIN_LABEL_WIDTH}function f(e){return Object(i.hsl)(e).l>.5?"black":"white"}function p(e,t,r,n){const i=f(t);n<=.05||"black"===i||n>.9?e.style.color="black"===i||n<=.05?null:i:(e.style.color=null,e.innerHTML=`${r}<span class="lu-gradient-text" style="color: ${i}">${r}</span>`)}function m(e){return`${e}${Math.floor(1e3*Math.random()).toString(36)}`}},"./src/style.scss":function(e,t){},"./src/styles/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s}),r.d(t,"COLUMN_PADDING",function(){return o}),r.d(t,"DASH",function(){return a}),r.d(t,"UPSET",function(){return u}),r.d(t,"DOT",function(){return l}),r.d(t,"BOX_PLOT",function(){return c}),r.d(t,"AGGREGATE",function(){return d}),r.d(t,"SLOPEGRAPH_WIDTH",function(){return h}),r.d(t,"CANVAS_HEIGHT",function(){return f});var n=r("../node_modules/raw-loader/index.js!./src/styles/_vars.scss");const i=new Map;{const e=/^[$]([\w]+): ([\w #.()'\/,-]+)( !default)?;/gim,t=String(n);let r=t.match(e);for(;null!=r;)i.set(r[1],r[2]),r=t.match(e)}function s(e,t=""){return"$"===e[0]&&(e=e.slice(1)),i.has(e)?i.get(e):t}const o=parseInt(s("lu_engine_grip_gap","5px"),10),a={width:parseInt(s("lu_missing_dash_width","3px"),10),height:parseInt(s("lu_missing_dash_height","10px"),10),color:s("lu_missing_dash_color","gray")},u={circle:s("lu_renderer_upset_circle_color"),inactive:parseFloat(s("lu_renderer_upset_inactive_opacity","0.1")),stroke:s("lu_renderer_upset_stroke")},l={color:s("lu_renderer_dot_color","gray"),size:parseInt(s("lu_renderer_dot_size","5px"),10),opacity:parseFloat(s("lu_renderer_dot_opacity","0.7"))},c={box:s("lu_renderer_boxplot_box","#e0e0e0"),stroke:s("lu_renderer_boxplot_stroke","black"),sort:s("lu_renderer_boxplot_sort_indicator","#ffa500"),outlier:s("lu_renderer_boxplot_outlier","#e0e0e0")},d={width:parseInt(s("lu_aggregate_square_bracket_width","4px"),10),strokeWidth:parseInt(s("lu_aggregate_square_bracket_stroke_width","1px"),10),color:s("lu_aggregate_square_bracket_stroke_color","#000")},h=200,f=4},"./src/ui/ALineUp.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"ALineUp",function(){return s});var n=r("./src/internal/AEventDispatcher.ts"),i=r("./src/provider/ADataProvider.ts");class s extends n.default{constructor(e,t){super(),this.node=e,this.data=t,this.forward(this.data,`${i.default.EVENT_SELECTION_CHANGED}.main`)}createEventList(){return super.createEventList().concat([s.EVENT_HIGHLIGHT_CHANGED,s.EVENT_SELECTION_CHANGED])}destroy(){this.node.innerHTML=""}dump(){return this.data.dump()}setDataProvider(e,t){this.data&&this.unforward(this.data,`${i.default.EVENT_SELECTION_CHANGED}.taggle`),this.data=e,t&&this.data.restore(t),this.forward(this.data,`${i.default.EVENT_SELECTION_CHANGED}.taggle`)}getSelection(){return this.data.getSelection()}setSelection(e){this.data.setSelection(e)}sortBy(e,t=!1){const r=this.data.find(e);return r&&r.sortByMe(t),null!=r}}s.EVENT_SELECTION_CHANGED=i.default.EVENT_SELECTION_CHANGED,s.EVENT_HIGHLIGHT_CHANGED="highlightChanged",t.default=s},"./src/ui/EngineRanking.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return y});var n=r("./node_modules/lineupengine/build/lineupengine.js"),i=r("./src/config.ts"),s=r("./src/internal/AEventDispatcher.ts"),o=r("./src/internal/debounce.ts"),a=r("./src/model/index.ts"),u=r("./src/model/Column.ts"),l=r("./src/model/Ranking.ts"),c=r("./src/model/StackColumn.ts"),d=r("./src/styles/index.ts"),h=r("./src/ui/animation.ts"),f=r("./src/ui/interfaces.ts"),p=r("./src/ui/MultiLevelRenderColumn.ts"),m=r("./src/ui/RenderColumn.ts"),g=r("./src/ui/SelectionManager.ts");class b extends s.default{fire(e,...t){super.fire(e,...t)}createEventList(){return super.createEventList().concat([b.EVENT_WIDTH_CHANGED,b.EVENT_UPDATE_DATA,b.EVENT_UPDATE_HIST,b.EVENT_HIGHLIGHT_CHANGED])}}b.EVENT_WIDTH_CHANGED="widthChanged",b.EVENT_UPDATE_DATA="updateData",b.EVENT_UPDATE_HIST="updateHist",b.EVENT_HIGHLIGHT_CHANGED="highlightChanged";class y extends n.ACellTableSection{constructor(e,t,r,s,c,h,f={}){super(t,r,s,c,{mixins:[n.PrefetchMixin]}),this.ranking=e,this.ctx=h,this.data=[],this.highlight=-1,this.canvasPool=[],this.events=new b,this.on=this.events.on.bind(this.events),this.roptions={animation:!0,levelOfDetail:()=>"high",customRowUpdate:()=>void 0},this.canvasMouseHandler={timer:-1,enter:e=>{const t=this.canvasMouseHandler;t.timer>0&&self.clearTimeout(t.timer);const r=e.currentTarget;r.addEventListener("mouseleave",t.leave),t.timer=self.setTimeout(()=>this.updateHoveredRow(r,!0),i.HOVER_DELAY_SHOW_DETAIL)},leave:e=>{const t=this.canvasMouseHandler;t.timer>0&&(self.clearTimeout(t.timer),t.timer=-1);const r=e.currentTarget;y.isCanvasRenderedRow(r)||setTimeout(()=>this.updateHoveredRow(r,!1)),r.removeEventListener("mouseleave",t.leave)}},this.highlightHandler={enter:e=>{if(this.highlight>=0){const e=this.body.querySelector(".le-highlighted");e&&e.classList.remove("le-highlighted"),this.highlight=-1}const t=e.currentTarget,r=parseInt(t.dataset.i||"-1",10);this.events.fire(y.EVENT_HIGHLIGHT_CHANGED,r)},leave:()=>{if(this.highlight>=0){const e=this.body.querySelector(".le-highlighted");e&&e.classList.remove("le-highlighted"),this.highlight=-1}this.events.fire(y.EVENT_HIGHLIGHT_CHANGED,-1)}},Object.assign(this.roptions,f),r.classList.add("lu-row-body");const m=this;this.delayedUpdate=Object(o.default)(function(){this.type===l.default.EVENT_DIRTY_VALUES?this.primaryType!==u.default.EVENT_RENDERER_TYPE_CHANGED&&this.primaryType!==u.default.EVENT_GROUP_RENDERER_TYPE_CHANGED&&this.primaryType!==u.default.EVENT_LABEL_CHANGED&&m.updateBody():m.events.fire(y.EVENT_UPDATE_DATA)},50,(e,t)=>{return e.self.type===l.default.EVENT_ORDER_CHANGED?e:t}),this.delayedUpdateAll=Object(o.default)(()=>this.updateAll(),50),this.delayedUpdateColumnWidths=Object(o.default)(()=>this.updateColumnWidths(),50),e.on(`${l.default.EVENT_ADD_COLUMN}.hist`,(e,t)=>{this.columns.splice(t,0,this.createCol(e,t)),this.reindex(),this.delayedUpdateAll()}),e.on(`${l.default.EVENT_REMOVE_COLUMN}.body`,(e,t)=>{y.disableListener(e),this.columns.splice(t,1),this.reindex(),this.delayedUpdateAll()}),e.on(`${l.default.EVENT_MOVE_COLUMN}.body`,(e,t,r)=>{const n=this.columns.splice(r,1)[0];console.assert(n.c===e),this.columns.splice(r<t?t-1:t,0,n),this.reindex(),this.delayedUpdateAll()}),e.on(`${l.default.EVENT_COLUMN_VISIBILITY_CHANGED}.body`,(t,r,n)=>{if(n){const r=e.children.indexOf(t);this.columns.splice(r,0,this.createCol(t,r))}else{const e=this.columns.findIndex(e=>e.c===t);y.disableListener(t),this.columns.splice(e,1)}this.reindex(),this.delayedUpdateAll()}),e.on(`${l.default.EVENT_ORDER_CHANGED}.body`,this.delayedUpdate),this.selection=new g.default(this.ctx,r),this.selection.on(g.default.EVENT_SELECT_RANGE,(e,t,r)=>{this.selection.selectRange(this.data.slice(e,t+1),r)}),this.renderCtx=Object.assign({isGroup:e=>Object(a.isGroup)(this.data[e]),getRow:e=>this.data[e],getGroup:e=>this.data[e]},h),this.columns=e.children.filter(e=>e.isVisible()).map((e,t)=>this.createCol(e,t)),this.updateCanvasRule(),this._context=Object.assign({columns:this.columns,column:Object(n.nonUniformContext)(this.columns.map(e=>e.width),100,d.COLUMN_PADDING)},Object(n.uniformContext)(0,20)),this.columns.forEach(e=>{e instanceof p.default&&e.updateWidthRule(this.style),e.renderers=this.ctx.createRenderer(e.c)}),this.body.addEventListener("mouseleave",this.highlightHandler.leave)}get id(){return this.ranking.id}onVisibilityChanged(e){super.onVisibilityChanged(e),e&&this.delayedUpdate.call({type:l.default.EVENT_ORDER_CHANGED})}updateHeaders(){return super.updateHeaders()}get currentData(){return this.data}get context(){return this._context}createHeader(e,t){return t.createHeader()}updateHeader(e,t){return t instanceof p.default&&t.updateWidthRule(this.style),t.updateHeader(e)}createCell(e,t,r){return r.createCell(t)}updateCell(e,t,r){return r.updateCell(e,t)}selectCanvas(){return this.canvasPool.length>0?this.canvasPool.pop():this.body.ownerDocument.createElement("canvas")}renderRow(e,t){e.width=this.width,e.height=d.CANVAS_HEIGHT;const r=e.getContext("2d");r.imageSmoothingEnabled=!1,r.clearRect(0,0,e.width,e.height),r.save(),this.columns.forEach(e=>{e.renderCell(r,t);const n=e.width+d.COLUMN_PADDING+f.WEIRD_CANVAS_OFFSET;r.translate(n,0)}),r.restore()}updateCanvasCell(e,t,r,n){const i=e.getContext("2d");i.clearRect(n-1,0,r.width+2,e.height),i.save(),i.translate(n,0),r.renderCell(i,t),i.restore()}reindex(){this.columns.forEach((e,t)=>{e.index=t})}updateAll(){this.columns.forEach((e,t)=>{e.index=t,e.renderers=this.ctx.createRenderer(e.c)}),this.updateCanvasRule(),this._context=Object.assign({},this._context,{column:Object(n.nonUniformContext)(this.columns.map(e=>e.width),100,d.COLUMN_PADDING)}),super.recreate(),this.events.fire(y.EVENT_WIDTH_CHANGED)}updateCanvasRule(){this.style.updateRule(`__canvas_gap${this.tableId}`,`\n      ${this.style.id}_B${this.tableId} > .lu-row > canvas {\n        grid-column-start: span ${this.columns.length};\n      }`)}updateBody(){this.hidden||(this.events.fire(y.EVENT_WIDTH_CHANGED),super.forEachRow((e,t)=>this.updateRow(e,t)))}updateHeaderOf(e){const t=this._context.columns.findIndex(t=>t.c===e);if(t<0)return!1;const r=this.header.children[t],n=this._context.columns[t];return r&&n&&this.updateHeader(r,n),r&&n}createRow(e,t){if(e.classList.add("lu-row"),this.roptions.customRowUpdate(e,t),e.addEventListener("mouseenter",this.highlightHandler.enter),this.renderCtx.isGroup(t))return e.dataset.agg="group",void super.createRow(e,t);const{i:r,meta:n}=this.renderCtx.getRow(t);e.classList.toggle("le-highlighted",this.highlight===r),e.dataset.i=r.toString(),e.dataset.agg="detail",n?e.dataset.meta=n:delete e.dataset.meta,this.selection.updateState(e,r),this.selection.add(e);const i=this.roptions.levelOfDetail(t);if("high"===i||n||this.ctx.provider.isSelected(r))return void super.createRow(e,t);e.dataset.lod=i;const s=this.selectCanvas();e.appendChild(s),this.renderRow(s,t),e.addEventListener("mouseenter",this.canvasMouseHandler.enter)}updateRow(e,t,r){this.roptions.customRowUpdate(e,t);const n=this.roptions.levelOfDetail(t),i=r||n,s=e.dataset.lod||"high",o=this.renderCtx.isGroup(t),a="group"===e.dataset.agg;if("high"===n?delete e.dataset.lod:e.dataset.lod=n,e.removeEventListener("mouseenter",this.canvasMouseHandler.enter),o!==a&&(e.innerHTML="",e.dataset.agg=o?"group":"detail",o?(e.dataset.i="",this.selection.remove(e)):this.selection.add(e)),o)return e.classList.remove("le-highlighted"),void super.updateRow(e,t);const{i:u,meta:l}=this.renderCtx.getRow(t);e.classList.toggle("le-highlighted",this.highlight===u),e.dataset.i=u.toString(),l?e.dataset.meta=l:delete e.dataset.meta,this.selection.updateState(e,u);const c=Array.from(e.children).find(e=>"canvas"===e.nodeName.toLowerCase());if("high"===i||l||this.ctx.provider.isSelected(u))return c&&(this.canvasPool.push(c),c.remove()),void super.updateRow(e,t);if(e.addEventListener("mouseenter",this.canvasMouseHandler.enter),"high"!==s&&c)return void this.renderRow(c,t);e.innerHTML="",e.dataset.agg="detail";const d=this.selectCanvas();e.appendChild(d),this.renderRow(d,t)}updateHoveredRow(e,t){if(y.isCanvasRenderedRow(e)!==t)return;const r=parseInt(e.dataset.index,10);this.updateRow(e,r,t?"high":"low")}forEachRow(e,t=!1){return super.forEachRow((t,r)=>{y.isCanvasRenderedRow(t)||e(t,r)},t)}updateSelection(e){super.forEachRow((t,r)=>{this.renderCtx.isGroup(r)?this.updateRow(t,r):this.selection.update(t,e)},!0)}updateColumnWidths(){this._context.column=Object(n.nonUniformContext)(this._context.columns.map(e=>e.width),100,d.COLUMN_PADDING),super.updateColumnWidths();const{columns:e}=this.context;e.forEach(e=>{e instanceof p.default&&e.updateWidthRule(this.style),e.renderers=this.ctx.createRenderer(e.c)}),this.events.fire(y.EVENT_WIDTH_CHANGED)}updateHist(e){this.events.fire(y.EVENT_UPDATE_HIST,e)}updateColumn(e){const t=this.context.columns,r=t[e];if(!r)return!1;let i=0;for(let r=0;r<e;++r)i+=t[r].width+d.COLUMN_PADDING+f.WEIRD_CANVAS_OFFSET;return super.forEachRow((t,s)=>{if(y.isCanvasRenderedRow(t))return void this.updateCanvasCell(t.querySelector("canvas"),s,r,i);const o=t.children[e],a=this.updateCell(o,s,r);o!==a&&a&&(Object(n.setColumn)(a,r),t.replaceChild(a,o))}),!0}destroy(){super.destroy(),this.ranking.flatColumns.forEach(e=>y.disableListener(e))}groupData(e){const t=this.ranking.getGroups(),r=this.ctx.provider,n=(e,t)=>1===t?"first last":0===e?"first":e===t-1?"last":void 0;if(1===t.length)return r.isAggregated(this.ranking,t[0])?[Object.assign({rows:e},t[0])]:e.map((r,i)=>Object.assign({group:t[0],relativeIndex:i,meta:n(i,e.length)},r));let i=0;const s=[];return t.forEach(t=>{const o=t.order.length,a=e.slice(i,i+o);i+=o,r.isAggregated(this.ranking,t)?s.push(Object.assign({rows:a},t)):s.push(...a.map((e,r)=>Object.assign({group:t,relativeIndex:r,meta:n(r,a.length)},e)))}),s}render(e,t){const r=this._context,i=this.data;return this.data=e,this.renderCtx.totalNumberOfRows=e.length,this.columns.forEach((e,t)=>{e.index=t,e.renderers=this.ctx.createRenderer(e.c)}),this._context=Object.assign({columns:this.columns,column:Object(n.nonUniformContext)(this.columns.map(e=>e.width),100,d.COLUMN_PADDING)},t),super.recreate(this.roptions.animation?Object(h.lineupAnimation)(r,i,this.data):void 0)}setHighlight(e){this.highlight=e;const t=this.body.querySelector("[data-i].le-highlighted");if(t&&t.classList.remove("le-highlighted"),e<0)return;const r=this.body.querySelector(`[data-i="${e}"]`);return r&&r.classList.add("le-highlighted"),null!=r}findNearest(e){const t=e.find(e=>Boolean(this.body.querySelectorAll(`[data-i="${e}"]`)));if(null!=t)return t;const r=this.visible,n=new Set(e);let i=-1,s=-1;for(let e=r.first;e>=0;--e){const t=this.data[e];if(!Object(a.isGroup)(t)&&n.has(t.i)){i=e;break}}for(let e=r.last;e<this.data.length;++e){const t=this.data[e];if(!Object(a.isGroup)(t)&&n.has(t.i)){s=e;break}}if(i<0&&i<0)return-1;const o=i>=0&&r.first-i<s-r.last?i:s;return this.data[o].i}scrollIntoView(e){const t=this.body.querySelector(`[data-i="${e}"]`);if(t)return t.scrollIntoView(!0),!0;const r=this.data.findIndex(t=>!Object(a.isGroup)(t)&&t.i===e);if(r<0)return!1;const n=(()=>{const e=this._context;if(0===e.exceptions.length||r<e.exceptions[0].index)return r*e.defaultRowHeight;const t=e.exceptions.reverse().find(e=>e.index<=r);if(!t)return-1;if(t.index===r)return t.y;const n=r-t.index-1;return t.y2+n*e.defaultRowHeight})();if(n<0)return!1;const i=this.bodyScroller,s=i.scrollTop;i.scrollTop=Math.min(n,i.scrollHeight-i.clientHeight),this.onScrolledVertically(i.scrollTop,i.clientHeight,s<i.scrollTop);const o=this.body.querySelector(`[data-i="${e}"]`);return!!o&&(o.scrollIntoView(!0),!0)}getHighlight(){const e=this.body.querySelector("[data-i]:hover, [data-i].le-highlighted");return e?parseInt(e.dataset.i,10):this.highlight}createCol(e,t){const r=Object(a.isMultiLevelColumn)(e)&&!e.getCollapsed()?new p.default(e,t,this.renderCtx):new m.default(e,t,this.renderCtx);e.on(`${u.default.EVENT_WIDTH_CHANGED}.body`,()=>{this.delayedUpdateColumnWidths()}),e.on(`${u.default.EVENT_DATA_LOADED}.hist`,()=>this.updateHist(e));const n=Object(o.default)(()=>{this.updateColumn(r.index)||y.disableListener(e)},25);e.on([`${u.default.EVENT_RENDERER_TYPE_CHANGED}.body`,`${u.default.EVENT_GROUP_RENDERER_TYPE_CHANGED}.body`],()=>{r.renderers=this.ctx.createRenderer(e),n()});const i=this;return e.on(`${u.default.EVENT_DIRTY_HEADER}.body`,function(){i.updateHeaderOf(r.c)||y.disableListener(e),this.primaryType!==u.default.EVENT_SUMMARY_RENDERER_TYPE_CHANGED&&this.primaryType!==u.default.EVENT_LABEL_CHANGED&&this.primaryType!==u.default.EVENT_METADATA_CHANGED&&setTimeout(()=>i.updateHist(r.c),50)}),e.on(`${u.default.EVENT_SUMMARY_RENDERER_TYPE_CHANGED}.body`,()=>{r.renderers=this.ctx.createRenderer(e),this.updateHeaderOf(r.c)||y.disableListener(e)}),e.on(`${u.default.EVENT_DIRTY_VALUES}.body`,n),Object(a.isMultiLevelColumn)(e)&&!e.getCollapsed()&&(r.updateWidthRule(this.style),e.on(`${c.default.EVENT_MULTI_LEVEL_CHANGED}.body`,()=>{r.updateWidthRule(this.style)}),e.on(`${c.default.EVENT_MULTI_LEVEL_CHANGED}.bodyUpdate`,n)),r}static isCanvasRenderedRow(e){return"low"===e.dataset.lod&&1===e.childElementCount&&"canvas"===e.firstElementChild.nodeName.toLowerCase()}static disableListener(e){e.on(`${u.default.EVENT_WIDTH_CHANGED}.body`,null),e.on(`${u.default.EVENT_DATA_LOADED}.hist`,null),e.on([`${u.default.EVENT_RENDERER_TYPE_CHANGED}.body`,`${u.default.EVENT_GROUP_RENDERER_TYPE_CHANGED}.body`,`${u.default.EVENT_SUMMARY_RENDERER_TYPE_CHANGED}.body`,`${u.default.EVENT_LABEL_CHANGED}.body`],null),e.on(`${l.default.EVENT_DIRTY_HEADER}.body`,null),e.on(`${l.default.EVENT_DIRTY_VALUES}.body`,null),Object(a.isMultiLevelColumn)(e)&&(e.on(`${c.default.EVENT_MULTI_LEVEL_CHANGED}.body`,null),e.on(`${c.default.EVENT_MULTI_LEVEL_CHANGED}.bodyUpdate`,null))}}y.EVENT_WIDTH_CHANGED=b.EVENT_WIDTH_CHANGED,y.EVENT_UPDATE_DATA=b.EVENT_UPDATE_DATA,y.EVENT_UPDATE_HIST=b.EVENT_UPDATE_HIST,y.EVENT_HIGHLIGHT_CHANGED=b.EVENT_HIGHLIGHT_CHANGED},"./src/ui/EngineRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return f});var n=r("./node_modules/lineupengine/build/lineupengine.js"),i=r("./src/internal/index.ts"),s=r("./src/internal/AEventDispatcher.ts"),o=r("./src/model/index.ts"),a=r("./src/model/Ranking.ts"),u=r("./src/provider/ADataProvider.ts"),l=r("./src/renderer/index.ts"),c=r("./src/ui/EngineRanking.ts"),d=r("./src/ui/SlopeGraph.ts"),h=r("./src/ui/dialogs/DialogManager.ts");class f extends s.default{constructor(e,t,r){super(),this.data=e,this.histCache=new Map,this.rankings=[],this.slopeGraphs=[],this.updateAbles=[],this.zoomFactor=1,this.options=r,this.node=t.ownerDocument.createElement("main"),this.node.id=this.options.idPrefix,this.node.classList.toggle("lu-whole-hover",r.expandLineOnHover),t.appendChild(this.node);const s=e=>{const t=this.histCache.get(e.id);return null==t||t instanceof Promise?null:t},o=new h.default(t.ownerDocument);t.appendChild(o.node),this.ctx={idPrefix:this.options.idPrefix,document:t.ownerDocument,provider:e,dialogManager:o,toolbar:this.options.toolbar,option:Object(i.findOption)(Object.assign({useGridLayout:!0},this.options)),statsOf:s,renderer:(e,t)=>{return Object(l.chooseRenderer)(e,this.options.renderers).create(e,this.ctx,s(e),t)},groupRenderer:(e,t)=>{return Object(l.chooseGroupRenderer)(e,this.options.renderers).createGroup(e,this.ctx,s(e),t)},summaryRenderer:(e,t,r)=>{return Object(l.chooseSummaryRenderer)(e,this.options.renderers).createSummary(e,this.ctx,t,r)},totalNumberOfRows:0,createRenderer(e,t){return{single:this.renderer(e,t),group:this.groupRenderer(e,t),summary:r.summaryHeader?this.summaryRenderer(e,!1,t):null,singleId:e.getRenderer(),groupId:e.getGroupRenderer(),summaryId:e.getSummaryRenderer()}},getPossibleRenderer:e=>({item:Object(l.possibleRenderer)(e,this.options.renderers),group:Object(l.possibleGroupRenderer)(e,this.options.renderers),summary:Object(l.possibleSummaryRenderer)(e,this.options.renderers)}),colWidth:e=>e.isVisible()?e.getWidth():0},this.table=new n.MultiTableRowRenderer(this.node,`#${r.idPrefix}`),this.style.addRule("lineup_groupPadding",`\n       #${r.idPrefix} > main > article > [data-agg=group],\n       #${r.idPrefix} > main > article > [data-meta~=last] {\n        margin-bottom: ${r.groupPadding}px;\n       }`),this.style.addRule("lineup_rowPadding",`\n       #${r.idPrefix} > main > article > div {\n         padding-top: ${r.rowPadding}px;\n       }`),this.style.addRule("lineup_rowPadding2",`\n       #${r.idPrefix} > main > article > div[data-lod=low]:not(:hover) {\n         padding-top: 0;\n       }`),this.initProvider(e)}get style(){return this.table.style}zoomOut(){this.zoomFactor=Math.max(this.zoomFactor-.1,.5),this.updateZoomFactor(),this.update()}zoomIn(){this.zoomFactor=Math.min(this.zoomFactor+.1,2),this.updateZoomFactor(),this.update()}updateZoomFactor(){this.node.querySelector("main").style.fontSize=`${100*this.zoomFactor}%`}pushUpdateAble(e){this.updateAbles.push(e)}createEventList(){return super.createEventList().concat([f.EVENT_HIGHLIGHT_CHANGED])}setDataProvider(e){this.takeDownProvider(),this.data=e,this.ctx.provider=e,this.initProvider(e)}takeDownProvider(){this.data.on(`${u.default.EVENT_SELECTION_CHANGED}.body`,null),this.data.on(`${u.default.EVENT_ADD_RANKING}.body`,null),this.data.on(`${u.default.EVENT_REMOVE_RANKING}.body`,null),this.data.on(`${u.default.EVENT_GROUP_AGGREGATION_CHANGED}.body`,null),this.data.on(`${u.default.EVENT_JUMP_TO_NEAREST}.body`,null),this.rankings.forEach(e=>this.table.remove(e)),this.rankings.splice(0,this.rankings.length),this.slopeGraphs.forEach(e=>this.table.remove(e)),this.slopeGraphs.splice(0,this.slopeGraphs.length)}initProvider(e){e.on(`${u.default.EVENT_SELECTION_CHANGED}.body`,()=>this.updateSelection(e.getSelection())),e.on(`${u.default.EVENT_ADD_RANKING}.body`,e=>{this.addRanking(e)}),e.on(`${u.default.EVENT_REMOVE_RANKING}.body`,e=>{this.removeRanking(e)}),e.on(`${u.default.EVENT_GROUP_AGGREGATION_CHANGED}.body`,e=>{this.update(this.rankings.filter(t=>t.ranking===e))}),e.on(`${u.default.EVENT_JUMP_TO_NEAREST}.body`,e=>{this.setHighlightToNearest(e,!0)}),this.data.getRankings().forEach(e=>this.addRanking(e))}updateSelection(e){const t=new Set(e);this.rankings.forEach(e=>e.updateSelection(t)),this.slopeGraphs.forEach(e=>e.updateSelection(t))}updateHist(e,t){if(!this.options.summaryHeader)return;(e?[e]:this.rankings).forEach(e=>{const r=e.ranking,n=r.getOrder(),i=t?[t]:r.flatColumns,s=null==n?null:this.data.stats(n);i.filter(e=>e.isVisible()&&Object(o.isNumberColumn)(e)).forEach(e=>{this.histCache.set(e.id,null==s?null:s.stats(e))}),i.filter(e=>Object(o.isCategoricalColumn)(e)&&e.isVisible()).forEach(e=>{this.histCache.set(e.id,null==s?null:s.hist(e))}),t?e.updateHeaderOf(t):e.updateHeaders()}),this.updateAbles.forEach(e=>e(this.ctx))}addRanking(e){if(this.rankings.length>0){const t=this.table.pushSeparator((t,r)=>new d.default(t,r,`${e.id}S`,this.ctx,{mode:"band"===this.options.defaultSlopeGraphMode?d.EMode.BAND:d.EMode.ITEM}));this.slopeGraphs.push(t)}const t=this.table.pushTable((t,r,n,i)=>new c.default(e,t,r,n,i,this.ctx,{animation:this.options.animated,customRowUpdate:this.options.customRowUpdate||(()=>void 0),levelOfDetail:this.options.levelOfDetail||(()=>"high")}));t.on(c.default.EVENT_WIDTH_CHANGED,()=>this.table.widthChanged()),t.on(c.default.EVENT_UPDATE_DATA,()=>this.update([t])),t.on(c.default.EVENT_UPDATE_HIST,e=>this.updateHist(t,e)),this.forward(t,c.default.EVENT_HIGHLIGHT_CHANGED),e.on(Object(s.suffix)(".renderer",a.default.EVENT_ORDER_CHANGED),()=>this.updateHist(t)),this.rankings.push(t),this.update([t])}removeRanking(e){if(!e)return this.rankings.splice(0,this.rankings.length),this.slopeGraphs.splice(0,this.slopeGraphs.length),void this.table.clear();const t=this.rankings.findIndex(t=>t.ranking===e);if(t<0)return;const r=this.rankings.splice(t,1)[0],n=this.slopeGraphs.splice(0===t?t:t-1,1)[0];this.table.remove(r),n&&this.table.remove(n)}update(e=this.rankings){if(0===(e=e.filter(e=>!e.hidden)).length)return;const t=e.map(e=>e.ranking.getOrder()),r=this.data.fetch(t);this.ctx.totalNumberOfRows=Math.max(...r.map(e=>e.length));const s=r.map(e=>e.map(e=>e));0===this.histCache.size&&this.updateHist();const a=e=>Object(i.round)(e,2),u=a(this.zoomFactor*this.options.groupPadding),l=(e,t)=>{if(this.options.dynamicHeight){const r=this.options.dynamicHeight(t,e);if(r)return{defaultHeight:a(this.zoomFactor*r.defaultHeight),height:e=>a(this.zoomFactor*r.height(e)),padding:e=>a(this.zoomFactor*r.padding(e))}}const r=a(this.zoomFactor*this.options.rowHeight),n=a(this.zoomFactor*this.options.groupHeight);return{defaultHeight:r,height:e=>Object(o.isGroup)(e)?n:r,padding:0}};e.forEach((e,t)=>{const r=e.groupData(s[t]),{height:i,defaultHeight:a,padding:c}=l(e.ranking,r),d=Object(n.nonUniformContext)(r.map(i),a,e=>{const t="number"==typeof c?c:c(r[e]||null);return e>=0&&r[e]&&(Object(o.isGroup)(r[e])||"last"===r[e].meta||"first last"===r[e].meta)?u+t:t});e.render(r,d)}),this.updateSlopeGraphs(e),this.table.widthChanged()}updateSlopeGraphs(e=this.rankings){const t=new Set(e.map(e=>this.rankings.indexOf(e)));this.slopeGraphs.forEach((e,r)=>{if(e.hidden)return;const n=r,i=r+1;if(!t.has(n)&&!t.has(i))return;const s=this.rankings[n],o=this.rankings[i];e.rebuild(s.currentData,s.context,o.currentData,o.context)})}setHighlight(e,t){const r=this.rankings.map(t=>t.setHighlight(e));return this.fire(f.EVENT_HIGHLIGHT_CHANGED,e),!(0===this.rankings.length||e<0)&&(t?this.rankings[0].scrollIntoView(e):r[0])}setHighlightToNearest(e,t){if(0===this.rankings.length)return!1;const r=this.rankings[0].findNearest(e);return r>=0&&this.setHighlight(r,t)}getHighlight(){for(const e of this.rankings){const t=e.getHighlight();if(t>=0)return t}return-1}destroy(){this.takeDownProvider(),this.table.destroy(),this.node.remove()}}f.EVENT_HIGHLIGHT_CHANGED="highlightChanged"},"./src/ui/LineUp.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return l});var n=r("./src/config.ts"),i=r("./src/internal/merge.ts"),s=r("./src/ui/ALineUp.ts"),o=r("./src/ui/EngineRenderer.ts"),a=r("./src/ui/panel/SidePanel.ts"),u=r("./src/interfaces.ts");r.d(t,"ILineUpOptions",function(){return u.ILineUpOptions});class l extends s.ALineUp{constructor(e,t,r={}){super(e,t),this.options=Object(n.defaultOptions)(),Object(i.default)(this.options,r),this.node.classList.add("lu"),this.renderer=new o.default(t,this.node,this.options),this.options.sidePanel?(this.panel=new a.default(this.renderer.ctx,this.node.ownerDocument,{collapseable:!this.options.sidePanelCollapsed||"collapsed"}),this.renderer.pushUpdateAble(e=>this.panel.update(e)),this.node.insertBefore(this.panel.node,this.node.firstChild)):this.panel=null,this.forward(this.renderer,`${o.default.EVENT_HIGHLIGHT_CHANGED}.main`)}destroy(){this.node.classList.remove("lu"),this.renderer.destroy(),this.panel&&this.panel.destroy(),super.destroy()}update(){this.renderer.update()}setDataProvider(e,t){super.setDataProvider(e,t),this.renderer.setDataProvider(e),this.update(),this.panel&&this.panel.update(this.renderer.ctx)}setHighlight(e,t=!0){return this.renderer.setHighlight(e,t)}getHighlight(){return this.renderer.getHighlight()}}},"./src/ui/MultiLevelRenderColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return u});var n=r("./src/internal/index.ts"),i=r("./src/renderer/MultiLevelCellRenderer.ts"),s=r("./src/styles/index.ts"),o=r("./src/ui/header.ts"),a=r("./src/ui/RenderColumn.ts");class u extends a.default{constructor(e,t,r){super(e,t,r),this.summaries=[]}get mc(){return this.c}get width(){return this.c.getWidth()+s.COLUMN_PADDING*this.mc.length}createHeader(){const e=super.createHeader(),t=this.ctx.document.createElement("div");return t.classList.add("lu-nested"),t.classList.add(Object(i.gridClass)(this.c)),e.appendChild(t),this.summaries.splice(0,this.summaries.length),this.mc.children.forEach((e,r)=>{const n=Object(o.createHeader)(e,this.ctx,{mergeDropAble:!1});if(n.style.marginLeft=r>0?`${2*s.COLUMN_PADDING}px`:null,n.classList.add("lu-header"),n.style.gridColumnStart=(r+1).toString(),t.appendChild(n),!this.renderers||!this.renderers.summary)return;const i=this.ctx.summaryRenderer(e,!1);n.insertAdjacentHTML("beforeend",i.template);const a=n.lastElementChild;a.classList.add("lu-summary"),a.dataset.renderer=e.getSummaryRenderer(),this.summaries.push(i),i.update(a,this.ctx.statsOf(e))}),this.updateNested(t),e}updateHeader(e){super.updateHeader(e);const t=e.querySelector(".lu-nested");return t?(e.appendChild(t),this.updateNested(t),e):e}updateWidthRule(e){const t=this.mc,r=this.width,s=t.children.map(e=>`${Object(n.round)(100*e.getWidth()/r,2)}%`),o=Object(i.gridClass)(this.c);return e.updateRule(`stacked-${this.c.id}`,`.lineup-engine .${o} {\n      display: grid;\n      grid-template-columns: ${s.join(" ")};\n      grid-template-rows: auto;\n      grid-auto-columns: 0;\n    }`),o}updateNested(e){const t=this.mc.children,r=Array.from(e.children);t.forEach((e,t)=>{const n=r[t];if(Object(o.updateHeader)(n,e),!this.renderers||!this.renderers.summary)return;let i=n.querySelector(".lu-summary");const s=i.dataset.renderer,a=e.getSummaryRenderer();if(s!==a){const r=this.ctx.summaryRenderer(e,!1);i.remove(),i.innerHTML=r.template,(i=i.firstElementChild).classList.add("lu-summary"),i.dataset.renderer=a,this.summaries[t]=r,n.appendChild(i)}this.summaries[t].update(i,this.ctx.statsOf(e))})}}},"./src/ui/RenderColumn.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i});var n=r("./src/ui/header.ts");class i{constructor(e,t,r){this.c=e,this.index=t,this.ctx=r,this.renderers=null}get width(){return this.c.getWidth()}get id(){return this.c.id}get frozen(){return this.c.frozen}createHeader(){const e=Object(n.createHeader)(this.c,this.ctx);if(e.className="lu-header",e.classList.toggle("frozen",this.c.frozen),this.renderers&&this.renderers.summary){e.insertAdjacentHTML("beforeend",this.renderers.summary.template);const t=e.lastElementChild;t.dataset.renderer=this.renderers.summaryId,t.classList.add("lu-summary")}return this.updateHeader(e),e}updateHeader(e){if(Object(n.updateHeader)(e,this.c),!this.renderers||!this.renderers.summary)return;let t=e.querySelector(".lu-summary");const r=t.dataset.renderer,i=this.renderers.summaryId;r!==i&&(t.remove(),t.innerHTML=this.renderers.summary.template,(t=t.firstElementChild).classList.add("lu-summary"),t.dataset.renderer=i,e.appendChild(t)),this.renderers.summary.update(t,this.ctx.statsOf(this.c))}createCell(e){const t=this.ctx.isGroup(e),r=function(e,t){const r=e.createElement("div");r.innerHTML=t;const n=r.firstElementChild;return r.innerHTML="",n}(this.ctx.document,t?this.renderers.group.template:this.renderers.single.template);return r.dataset.renderer=t?this.renderers.groupId:this.renderers.singleId,r.dataset.group=t?"g":"d",this.updateCell(r,e),r}updateCell(e,t){e.classList.toggle("frozen",this.frozen);const r=this.ctx.isGroup(t),n=e.dataset.renderer,i=r?this.renderers.groupId:this.renderers.singleId,s=e.dataset.group,o=r?"g":"d";if(n===i&&s===o||(e.innerHTML=r?this.renderers.group.template:this.renderers.single.template,(e=e.firstElementChild).dataset.renderer=i,e.dataset.group=o),r){const r=this.ctx.getGroup(t);this.renderers.group.update(e,r,r.rows)}else{const r=this.ctx.getRow(t);this.renderers.single.update(e,r,r.relativeIndex,r.group)}return e}renderCell(e,t){const r=this.ctx.getRow(t);this.renderers.single.render(e,r,r.relativeIndex,r.group)}}},"./src/ui/SelectionManager.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return o});var n=r("./src/internal/AEventDispatcher.ts"),i=r("./src/internal/OrderedSet.ts"),s=r("./src/model/index.ts");class o extends n.default{constructor(e,t){super(),this.ctx=e,this.body=t,this.start=null;const r=t.parentElement.parentElement;let n=r.querySelector("hr");n||(n=r.ownerDocument.createElement("hr"),r.appendChild(n)),this.hr=n;const i=e=>{this.showHint(e)},s=e=>{if(this.body.removeEventListener("mousemove",i),this.body.removeEventListener("mouseup",s),this.body.removeEventListener("mouseleave",s),!this.start)return;const t=this.start.node.classList.contains("lu-row")?this.start.node:this.start.node.closest(".lu-row"),r=this.body.ownerDocument.elementFromPoint(e.x,e.y),n=r.classList.contains("lu-row")?r:r.closest(".lu-row");this.start=null,this.body.classList.remove("lu-selection-active"),this.hr.classList.remove("lu-selection-active"),this.select(e.ctrlKey,t,n)};t.addEventListener("mousedown",e=>{const n=r.getBoundingClientRect();this.start={x:e.x,y:e.y,xShift:n.left,yShift:n.top,node:e.target},t.addEventListener("mousemove",i),t.addEventListener("mouseup",s),t.addEventListener("mouseleave",s)})}createEventList(){return super.createEventList().concat([o.EVENT_SELECT_RANGE])}select(e,t,r){if(!t||!r||t===r)return;const n=parseInt(t.dataset.index,10),i=parseInt(r.dataset.index,10),s=Math.min(n,i),a=Math.max(n,i);s!==a&&requestAnimationFrame(()=>this.fire(o.EVENT_SELECT_RANGE,s,a,e))}showHint(e){const t=this.start,r=t.y,n=e.y,i=Math.abs(r-n)>o.MIN_DISTANCE;this.body.classList.toggle("lu-selection-active",i),this.hr.classList.toggle("lu-selection-active",i),this.hr.style.transform=`translate(${t.x-t.xShift}px,${r-t.yShift}px)scale(1,${Math.abs(n-r)})rotate(${n>r?90:-90}deg)`}remove(e){e.onclick=void 0}add(e){e.onclick=(t=>{const r=parseInt(e.dataset.i,10);this.ctx.provider.toggleSelection(r,t.ctrlKey)})}selectRange(e,t=!1){const r=new i.default(t?this.ctx.provider.getSelection():[]),n=e=>{r.has(e)?r.delete(e):r.add(e)};e.forEach(e=>{Object(s.isGroup)(e)?e.rows.forEach(e=>n(e.i)):n(e.i)}),this.ctx.provider.setSelection(Array.from(r))}updateState(e,t){this.ctx.provider.isSelected(t)?e.classList.add("lu-selected"):e.classList.remove("lu-selected")}update(e,t){const r=parseInt(e.dataset.i,10);t.has(r)?e.classList.add("lu-selected"):e.classList.remove("lu-selected")}}o.EVENT_SELECT_RANGE="selectRange",o.MIN_DISTANCE=10},"./src/ui/SlopeGraph.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"EMode",function(){return n}),r.d(t,"default",function(){return l});var n,i=r("./node_modules/lineupengine/build/lineupengine.js"),s=r("./src/model/index.ts"),o=r("./src/styles/index.ts");class a{constructor(e,t,r){this.left=e,this.right=t,this.dataIndices=r}isSelected(e){return 1===this.dataIndices.length?e.has(this.dataIndices[0]):this.dataIndices.some(t=>e.has(t))}update(e,t){e.setAttribute("data-i",String(this.dataIndices[0])),e.setAttribute("class","lu-slope"),e.setAttribute("d",`M0,${this.left}L${t},${this.right}`)}}class u{constructor(e,t,r){this.left=e,this.right=t,this.dataIndices=r}isSelected(e){return this.dataIndices.some(t=>e.has(t))}update(e,t){e.setAttribute("class","lu-group-slope"),e.setAttribute("d",`M0,${this.left[0]}L${t},${this.right[0]}L${t},${this.right[1]}L0,${this.left[1]}Z`)}}!function(e){e.ITEM="item",e.BAND="band"}(n||(n={}));class l{constructor(e,t,r,i,s={}){this.header=e,this.body=t,this.id=r,this.ctx=i,this.leftSlopes=[],this.rightSlopes=[],this.pool=[],this.scrollListener=null,this.width=o.SLOPEGRAPH_WIDTH,this.current=null,this._mode=n.ITEM,this.node=e.ownerDocument.createElementNS("http://www.w3.org/2000/svg","svg"),this.node.innerHTML='<g transform="translate(0,0)"></g>',e.classList.add("lu-slopegraph-header"),this._mode=s.mode===n.BAND?n.BAND:n.ITEM,this.initHeader(e),t.classList.add("lu-slopegraph"),this.body.style.height="1px",t.appendChild(this.node)}init(){this.hide();const e=this.body.parentElement;let t=e.scrollTop;this.scrollListener=(()=>{const r=e.scrollTop;t!==r&&(t=r,this.onScrolledVertically(r,e.clientHeight))}),e.addEventListener("scroll",this.scrollListener)}initHeader(e){e.innerHTML=`<i title="Item" class="${this._mode===n.ITEM?"active":""}"><span aria-hidden="true">Item</span></i>\n        <i title="Band" class="${this._mode===n.BAND?"active":""}"><span aria-hidden="true">Band</span></i>`;const t=Array.from(e.children);t.forEach((e,r)=>{e.onclick=(i=>{i.preventDefault(),i.stopPropagation(),e.classList.contains("active")||(this.mode=0===r?n.ITEM:n.BAND,t.forEach((e,t)=>e.classList.toggle("active",t===r)))})})}get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.current&&this.rebuild(this.current.left,this.current.leftContext,this.current.right,this.current.rightContext))}get hidden(){return this.header.classList.contains("loading")}set hidden(e){this.header.classList.toggle("loading",e),this.body.classList.toggle("loading",e)}hide(){this.hidden=!0}show(){const e=this.hidden;this.hidden=!1,e&&this.revalidate()}destroy(){this.header.remove(),this.scrollListener&&this.body.parentElement.removeEventListener("scroll",this.scrollListener),this.body.remove()}rebuild(e,t,r,n){this.current={left:e,leftContext:t,right:r,rightContext:n};const i=this.prepareRightSlopes(r,n);this.computeSlopes(e,t,i),this.revalidate()}computeSlopes(e,t,r){const i=this.mode,o=new Map;let l=0;this.leftSlopes=e.map((c,d)=>{let h=t.exceptionsLookup.get(d)||t.defaultRowHeight,f=h-t.padding(d);const p=[],m=l;l+=h;let g=0;const b=(e,t,r=1,n=0)=>{p.push(e),t.ref.forEach(t=>this.rightSlopes[t].push(e)),t.offset+=r*t.heightPerRow,g+=r*n};let y;if(Object(s.isGroup)(c))y=c;else{const u=c,l=u.i,g=r.get(l);if(!g)return p;if(i===n.ITEM){const e=new a(m+f/2,g.start+g.offset+g.heightPerRow/2,[l]);return b(e,g),p}if(o.has(u.group))return o.get(u.group);const v=((r,n)=>{let i=0,o=0;const a=[];for(let u=r;u<e.length;++u){const r=e[u];if(Object(s.isGroup)(r)||r.group!==n)break;i++,o+=t.exceptionsLookup.get(u)||t.defaultRowHeight,a.push(r)}const u=o-t.padding(r+i-1);return{gr:Object.assign({rows:a},n),padded:u,height:o}})(d,u.group);y=v.gr,h=v.height,f=v.padded,o.set(u.group,p)}const v=new Set(y.rows.map(e=>e.i)),E=f/y.rows.length;return y.rows.forEach(e=>{if(!v.has(e.i))return;v.delete(e.i);const t=r.get(e.i);if(!t)return;const s=t.rows.filter(e=>v.delete(e));s.push(e.i);const o=s.length;let l;l=1===o?new a(m+g+E/2,t.start+t.offset+t.heightPerRow/2,[e.i]):i===n.ITEM?new a(m+g+E*o/2,t.start+t.offset+t.heightPerRow*o/2,s):new u([m+g,m+g+E*o],[t.start+t.offset,t.start+t.offset+t.heightPerRow*o],s),b(l,t,o,E)}),p})}prepareRightSlopes(e,t){const r=new Map,i=this.mode,o=new Map;let a=0;return this.rightSlopes=e.map((e,u)=>{const l=t.exceptionsLookup.get(u)||t.defaultRowHeight,c=l-t.padding(u),d=a;a+=l;const h=[],f={start:d,offset:0,ref:[u]};if(Object(s.isGroup)(e)){const t=Object.assign(f,{rows:e.rows.map(e=>e.i),heightPerRow:c/e.rows.length,group:e});return e.rows.forEach(e=>r.set(e.i,t)),h}const p=e,m=e.i;let g=Object.assign(f,{rows:[m],heightPerRow:c,group:p.group});return i===n.ITEM?(r.set(m,g),h):(o.has(p.group)?((g=o.get(p.group)).rows.push(m),g.ref.push(u)):(g.heightPerRow=l,o.set(p.group,g)),r.set(m,g),h)}),r}revalidate(){if(!this.current||this.hidden)return;const e=this.body.parentElement;this.onScrolledVertically(e.scrollTop,e.clientHeight)}highlight(e){const t=this.body.querySelector("[data-i].le-highlighted");if(t&&t.classList.remove("le-highlighted"),e<0)return;const r=this.body.querySelector(`[data-i="${e}"]`);return r&&r.classList.add("le-highlighted"),null!=r}onScrolledVertically(e,t){if(!this.current)return;const{leftContext:r,rightContext:n}=this.current,s=Object(i.range)(e,t,r.defaultRowHeight,r.exceptions,r.numberOfRows),o=Object(i.range)(e,t,n.defaultRowHeight,n.exceptions,n.numberOfRows),a=Math.min(s.firstRowPos,o.firstRowPos),u=Math.max(s.endPos,o.endPos);this.body.style.transform=`translate(0, ${a.toFixed(0)}px)`,this.body.style.height=`${(u-a).toFixed(0)}px`,this.node.firstElementChild.setAttribute("transform",`translate(0,-${a.toFixed(0)})`),this.choose(s.first,s.last,o.first,o.last)}choose(e,t,r,n){const i=new Set;for(let r=e;r<=t;++r)this.leftSlopes[r].forEach(e=>i.add(e));for(let e=r;e<=n;++e)this.rightSlopes[e].forEach(e=>i.add(e));this.render(i)}render(e){const t=this.node.firstElementChild,r=t.ownerSVGElement.getBoundingClientRect().width,n=this.matchLength(e,t),i=this.ctx.provider,s={has:e=>i.isSelected(e)};let o=0;e.forEach(e=>{const i=n[o++];e.update(i,r),i.__data__=e;const a=e.isSelected(s);i.classList.toggle("lu-selected",a),a&&t.appendChild(i)})}matchLength(e,t){const r=Array.from(t.children);for(let t=e.size;t<r.length;++t){const e=r[t];this.pool.push(e),e.remove()}for(let n=r.length;n<e.size;++n){const e=this.pool.pop();if(e)t.appendChild(e),r.push(e);else{const e=t.ownerDocument.createElementNS("http://www.w3.org/2000/svg","path");e.onclick=(t=>{const r=e.__data__,n=this.ctx.provider,i=r.dataIndices;if(t.ctrlKey)i.forEach(e=>n.toggleSelection(e,!0));else{const e=n.isSelected(i[0]);n.setSelection(e?[]:i)}}),t.appendChild(e),r.push(e)}}return r}updateSelection(e){const t=this.node.firstElementChild;Array.from(t.children).forEach(r=>{const n=r.__data__.isSelected(e);r.classList.toggle("lu-selected",n),n&&t.appendChild(r)})}}},"./src/ui/animation.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"lineupAnimation",function(){return a});var n=r("./node_modules/lineupengine/build/lineupengine.js"),i=r("./src/model/index.ts");function s(e){const t=new Map,r=new Map;return e.forEach((e,n)=>{Object(i.isGroup)(e)?e.rows.forEach(e=>t.set(e.i,n)):e.group&&0===e.relativeIndex&&r.set(e.group.name,n)}),{item2groupIndex:t,group2firstItemIndex:r}}function o(e){return Object(i.isGroup)(e)?e.name:e.i.toString()}function a(e,t,r){const a=e=>o(t[e]),u=e=>o(r[e]);if(t.reduce((e,t)=>e+(Object(i.isGroup)(t)?1:0),0)===r.reduce((e,t)=>e+(Object(i.isGroup)(t)?1:0),0))return{currentKey:u,previous:e,previousKey:a};let l;let c;const d=[Object.assign({},n.defaultPhases[0],{apply(e,o){n.defaultPhases[0].apply(e),e.mode===n.EAnimationMode.SHOW&&(e.node.style.transform=`translate(0, ${((e,n,o)=>{l||(l=s(t));const u=r[e],c=Object(i.isGroup)(u)?l.group2firstItemIndex.get(u.name):l.item2groupIndex.get(u.i);if(void 0===c)return o;const d=n.posByKey(a(c));return d.pos>=0?d.pos:o})(e.current.index,o,e.previous.y)-e.nodeY}px)`)}}),Object.assign({},n.defaultPhases[1],{apply(e,o,a){n.defaultPhases[1].apply(e),e.mode===n.EAnimationMode.HIDE&&(e.node.style.transform=`translate(0, ${((e,n,o)=>{c||(c=s(r));const a=t[e],l=Object(i.isGroup)(a)?c.group2firstItemIndex.get(a.name):c.item2groupIndex.get(a.i);if(void 0===l)return o;const d=n.posByKey(u(l));return d.pos>=0?d.pos:o})(e.previous.index,a,e.current.y)-e.nodeY}px)`)}}),n.defaultPhases[n.defaultPhases.length-1]];return{previous:e,previousKey:a,currentKey:u,phases:d}}},"./src/ui/dialogs/ADialog.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/popper.js/dist/esm/popper.js"),i=r("./src/internal/merge.ts");t.default=class{constructor(e,t={}){this.dialog=e,this.options={title:"",fullDialog:!1,placement:"bottom-start",toggleDialog:!0,modifiers:{}},this.popper=null,Object.assign(this.options,t),this.node=e.attachment.ownerDocument.createElement("form"),this.node.classList.add("lu-dialog")}get attachment(){return this.dialog.attachment}get level(){return this.dialog.level}equals(e){return this.dialog.level===e.dialog.level&&this.dialog.attachment===e.dialog.attachment}open(){if(this.options.toggleDialog&&this.dialog.manager.removeLike(this))return;if(!1===this.build(this.node))return;const e=this.attachment.closest(".lu");this.options.title&&this.node.insertAdjacentHTML("afterbegin",`<strong>${this.options.title}</strong>`),this.options.fullDialog&&this.node.insertAdjacentHTML("beforeend",'<div>\n        <button type="submit" title="Apply"></button>\n        <button type="button" title="Cancel"></button>\n        <button type="reset" title="Reset to default values"></button>\n      </div>'),e.appendChild(this.node),this.popper=new n.default(this.attachment,this.node,Object(i.default)({modifiers:{preventOverflow:{boundariesElement:e}}},this.options));const t=this.find("input[autofocus]");t&&setTimeout(()=>t.focus());const r=this.find("button[type=reset]");r&&(r.onclick=(e=>{e.stopPropagation(),e.preventDefault(),this.reset()})),this.node.onsubmit=(e=>(e.stopPropagation(),e.preventDefault(),!!this.node.checkValidity()&&(this.submit()&&this.destroy(),!1)));const s=this.find("button[title=Cancel]");s&&(s.onclick=(e=>{e.stopPropagation(),e.preventDefault(),this.destroy()})),this.dialog.manager.push(this)}find(e){return this.node.querySelector(e)}findInput(e){return this.find(e)}forEach(e,t){return Array.from(this.node.querySelectorAll(e)).map(t)}reset(){}submit(){return!0}destroy(){this.dialog.manager.remove(this),this.popper&&this.popper.destroy(),this.node.remove()}}},"./src/ui/dialogs/BooleanFilterDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/ui/dialogs/ADialog.ts"),i=r("./src/ui/dialogs/utils.ts");class s extends n.default{constructor(e,t){super(t,{fullDialog:!0}),this.column=e,this.before=this.column.getFilter()}build(e){const t=Object(i.randomId)(this.dialog.idPrefix);e.insertAdjacentHTML("beforeend",`\n     <input id="${t}0" type="radio" name="boolean_check" value="null" ${null==this.before?'checked="checked"':""}><label id="${t}0">No Filter</label>\n     <input id="${t}1" type="radio" name="boolean_check" value="true" ${!0===this.before?'checked="checked"':""}><label id="${t}1">True</label>\n     <input id="${t}2" type="radio" name="boolean_check" value="false" ${!1===this.before?'checked="checked"':""}><label id="${t}2">False</label>\n    `)}updateFilter(e){Object(i.updateFilterState)(this.attachment,this.column,null!=e),this.column.setFilter(e)}reset(){this.forEach('input[type="radio"]',e=>e.checked="null"===e.value),this.updateFilter(null)}submit(){const e=this.findInput('input[type="radio"][value="true"]').checked,t=this.findInput('input[type="radio"][value="false"]').checked;return this.updateFilter(!!e||!t&&null),!0}}},"./src/ui/dialogs/CategoricalFilterDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return a});var n=r("./src/model/ICategoricalColumn.ts"),i=r("./src/ui/missing.ts"),s=r("./src/ui/dialogs/ADialog.ts"),o=r("./src/ui/dialogs/utils.ts");class a extends s.default{constructor(e,t){super(t,{fullDialog:!0}),this.column=e,this.before=this.column.getFilter()||{filter:this.column.categories.map(e=>e.name),filterMissing:!1}}build(e){e.classList.add("lu-filter-table");const t=Object(o.randomId)(this.dialog.idPrefix);e.insertAdjacentHTML("beforeend",`<div>\n        <input id="${t}" type="checkbox" checked><label for="${t}"><span></span><div>Un/Select All</div></label>\n        ${this.column.categories.map(e=>`<input for="${t}${e.name}" data-cat="${e.name}" type="checkbox"${Object(n.isCategoryIncluded)(this.before,e)?"checked":""}><label for="${t}${e.name}"><span style="background-color: ${e.color}"></span><div>${e.label}</div></label>`).join("")}\n    </div>`),this.findInput("input:not([data-cat])").onchange=function(){const t=this;Object(o.forEach)(e,"input[data-cat]",e=>e.checked=t.checked)},e.insertAdjacentHTML("beforeend",Object(i.filterMissingMarkup)(this.before.filterMissing,this.dialog.idPrefix))}updateFilter(e,t){const r=null==e&&!1===t;Object(o.updateFilterState)(this.attachment,this.column,!r),this.column.setFilter(r?null:{filter:e,filterMissing:t})}reset(){this.forEach("input[data-cat]",e=>e.checked=!0),this.updateFilter(null,!1)}submit(){let e=this.forEach("input[data-cat]",e=>e.checked?e.dataset.cat:"").filter(Boolean);e.length===this.column.categories.length&&(e=null);const t=Object(i.findFilterMissing)(this.node).checked;return this.updateFilter(e,t),!0}}},"./src/ui/dialogs/CategoricalMappingFilterDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return u});var n=r("./src/internal/index.ts"),i=r("./src/model/ICategoricalColumn.ts"),s=r("./src/ui/missing.ts"),o=r("./src/ui/dialogs/ADialog.ts"),a=r("./src/ui/dialogs/utils.ts");class u extends o.default{constructor(e,t){super(t,{fullDialog:!0}),this.column=e,this.before=this.column.getFilter()||{filter:this.column.categories.map(e=>e.name),filterMissing:!1}}build(e){e.classList.add("lu-filter-table");const t=this.column.categories.map(e=>Object.assign({range:Object(n.round)(100*e.value,2)}));t.sort((e,t)=>e.label.localeCompare(t.label));const r=Object(a.randomId)(this.dialog.idPrefix);e.insertAdjacentHTML("beforeend",`<div>\n        <input id="${r}" type="checkbox" checked><label for="${r}"><div>Un/Select All</div></label>\n        ${t.map(({name:e,color:t,label:n,range:s})=>`<input id="${r}${e}" data-cat="${e}" type="checkbox"${Object(i.isCategoryIncluded)(this.before,e)?"checked":""}>\n        <input type="number" value="${s}" min="0" max="100" size="5"><label for="${r}${e}"><div><div style="background-color: ${t}; width: ${s}%"></div></div><div>${n}</div></label>`).join("")}\n    </div>`),this.findInput("input[type=checkbox]:not([data-cat])").onchange=function(){const t=this;Object(a.forEach)(e,"[data-cat]",e=>e.checked=t.checked)},this.forEach("input[type=number]",e=>{e.oninput=(()=>{e.nextElementSibling.firstElementChild.style.width=`${e.value}%`})}),e.insertAdjacentHTML("beforeend",Object(s.filterMissingMarkup)(this.before.filterMissing,this.dialog.idPrefix))}updateFilter(e,t){const r=null==e&&!1===t;Object(a.updateFilterState)(this.attachment,this.column,!r),this.column.setFilter(r?null:{filter:e,filterMissing:t})}reset(){this.forEach("[data-cat]",e=>{e.checked=!1,e.nextElementSibling.value="50"}),this.updateFilter(null,!1),this.column.setMapping(this.column.categories.map(()=>1))}submit(){const e=this.forEach("input[data-cat]",e=>({checked:e.checked,cat:e.dataset.cat,range:parseFloat(e.nextElementSibling.value)}));let t=e.filter(e=>e.checked).map(e=>e.cat);t.length===this.column.categories.length&&(t=null);const r=Object(s.findFilterMissing)(this.node).checked;return this.updateFilter(t,r),this.column.setMapping(e.map(e=>e.range/100)),!0}}},"./src/ui/dialogs/ChangeRendererDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/ui/dialogs/ADialog.ts"),i=r("./src/ui/dialogs/utils.ts");class s extends n.default{constructor(e,t,r){super(t),this.column=e,this.ctx=r}build(e){const t=this.column.getRenderer(),r=this.column.getGroupRenderer(),n=this.column.getSummaryRenderer(),{item:s,group:o,summary:a}=this.ctx.getPossibleRenderer(this.column);console.assert(s.length>1||o.length>1||a.length>1);const u=Object(i.randomId)(this.dialog.idPrefix);e.insertAdjacentHTML("beforeend",`\n      ${s.map(e=>`<input id="${u}0${e.type}" type="radio" name="renderer" value="${e.type}" ${t===e.type?"checked":""}><label for="${u}0${e.type}">${e.label}</label>`).join("")}\n      <strong>Group Visualization</strong>\n      ${o.map(e=>`<input id="${u}1${e.type}" type="radio" name="group" value="${e.type}" ${r===e.type?"checked":""}><label for="${u}1${e.type}">${e.label}</label>`).join("")}\n      <strong>Summary Visualization</strong>\n      ${a.map(e=>`<input id="${u}2${e.type}" type="radio" name="summary" value="${e.type}" ${n===e.type?"checked":""}><label for="${u}2${e.type}">${e.label}</label>`).join("")}\n    `),this.forEach('input[name="renderer"]',e=>{e.addEventListener("change",()=>this.column.setRenderer(e.value))}),this.forEach('input[name="group"]',e=>{e.addEventListener("change",()=>this.column.setGroupRenderer(e.value))}),this.forEach('input[name="summary"]',e=>{e.addEventListener("change",()=>this.column.setSummaryRenderer(e.value))})}}},"./src/ui/dialogs/CompositeChildrenDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return u});var n=r("./src/internal/AEventDispatcher.ts"),i=r("./src/internal/debounce.ts"),s=r("./src/model/Column.ts"),o=r("./src/ui/header.ts"),a=r("./src/ui/dialogs/ADialog.ts");class u extends a.default{constructor(e,t,r){super(t),this.column=e,this.ctx=r,this.id=`.dialog${Math.random().toString(36).slice(-8).substr(0,3)}`}destroy(){this.column.on(Object(n.suffix)(this.id,s.default.EVENT_ADD_COLUMN,s.default.EVENT_REMOVE_COLUMN),null),super.destroy()}build(e){e.classList.add("lu-sub-nested");const t=()=>{this.column.children.forEach(t=>{const r=Object(o.createHeader)(t,this.ctx,{mergeDropAble:!1,resizeable:!1,level:this.dialog.level+1});r.className="lu-header",Object(o.updateHeader)(r,t);const n=this.ctx.summaryRenderer(t,!1);r.insertAdjacentHTML("beforeend",n.template);const i=r.lastElementChild;i.dataset.renderer=t.getSummaryRenderer(),i.classList.add("lu-summary"),n.update(i,this.ctx.statsOf(t)),e.appendChild(r)})};t(),this.column.on(Object(n.suffix)(this.id,s.default.EVENT_ADD_COLUMN,s.default.EVENT_REMOVE_COLUMN),Object(i.default)(()=>{e.parentElement?(e.innerHTML="",t()):this.destroy()}))}}},"./src/ui/dialogs/CutOffHierarchyDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/model/HierarchyColumn.ts"),i=r("./src/ui/dialogs/ADialog.ts");class s extends i.default{constructor(e,t,r){super(t,{fullDialog:!0}),this.column=e,this.idPrefix=r,this.innerNodes=Object(n.resolveInnerNodes)(this.column.hierarchy),this.innerNodePaths=this.innerNodes.map(e=>e.path),this.before=e.getCutOff()}build(e){e.insertAdjacentHTML("beforeend",`\n        <input type="text" value="${this.before.node.label}" required="required" autofocus="autofocus" list="ui${this.idPrefix}lineupHierarchyList" placeholder="cut off node">\n        <input type="number" value="${isFinite(this.before.maxDepth)?this.before.maxDepth:""}" placeholder="max depth (&infin;)">\n        <datalist id="ui${this.idPrefix}lineupHierarchyList">${this.innerNodes.map(e=>`<option value="${e.path}">${e.label}</option>`)}</datalist>`);const t=this.innerNodePaths;this.findInput('input[type="text"]').addEventListener("change",function(){const e=this.value;t.indexOf(e)<0?this.setCustomValidity("invalid node"):this.setCustomValidity("")})}reset(){this.findInput('input[type="text"]').value=this.before.node.label,this.findInput('input[type="number"]').value=isFinite(this.before.maxDepth)?String(this.before.maxDepth):"",this.column.setCutOff(this.before)}submit(){const e=this.findInput('input[type="text"]').value,t=this.innerNodePaths.indexOf(e),r=this.innerNodes[t],n=this.findInput('input[type="number"]').value,i=""===n?1/0:parseInt(n,10);return this.column.setCutOff({node:r,maxDepth:i}),!0}}},"./src/ui/dialogs/DialogManager.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return n});class n{constructor(e=document){this.escKeyListener=(e=>{27===e.which&&this.removeLast()}),this.openDialogs=[],this.node=e.createElement("div"),this.node.classList.add("lu-backdrop"),this.node.innerHTML="<div></div>",this.node.onclick=(()=>{this.removeAll()})}setHighlight(e){this.node.firstElementChild.style.clipPath=`polygon(\n      0% 0%,\n      0% 100%,\n      ${e.left}px 100%,\n      ${e.left}px ${e.top}px,\n      ${e.left+e.width}px ${e.top}px,\n      ${e.left+e.width}px ${e.top+e.height}px,\n      ${e.left}px ${e.top+e.height}px,\n      ${e.left}px 100%,\n      100% 100%,\n      100% 0%\n    )`}setHighlightColumn(e){const t=this.node.parentElement;if(!t)return void this.clearHighlight();const r=t.querySelector(`.lu-header[data-col-id="${e.id}"]`);if(!r)return void this.clearHighlight();const n=r.getBoundingClientRect(),i=t.getBoundingClientRect();this.setHighlight({left:n.left-i.left,top:n.top-i.top,width:n.width,height:i.height})}clearHighlight(){this.node.firstElementChild.style.clipPath=null}removeLast(){0!==this.openDialogs.length&&this.remove(this.openDialogs[this.openDialogs.length-1])}removeAll(){if(0===this.openDialogs.length)return;this.openDialogs.splice(0,this.openDialogs.length).forEach(e=>e.destroy()),this.takeDown()}remove(e){const t=this.openDialogs.indexOf(e);return!(t<0)&&(this.openDialogs.splice(t,this.openDialogs.length-t).reverse().forEach(e=>e.destroy()),0===this.openDialogs.length&&this.takeDown(),!0)}removeAboveLevel(e){this.openDialogs.filter(t=>t.level>=e).reverse().forEach(e=>this.remove(e))}removeLike(e){const t=this.openDialogs.find(t=>e.equals(t));return!!t&&(this.remove(t),!0)}setUp(){this.node.ownerDocument.addEventListener("keyup",this.escKeyListener),this.node.style.display="block"}takeDown(){this.clearHighlight(),this.node.ownerDocument.removeEventListener("keyup",this.escKeyListener),this.node.style.display=null}push(e){this.removeAboveLevel(e.level),0===this.openDialogs.length&&this.setUp(),this.openDialogs.push(e)}}},"./src/ui/dialogs/EditPatternDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i});var n=r("./src/ui/dialogs/ADialog.ts");class i extends n.default{constructor(e,t,r){super(t,{fullDialog:!0}),this.column=e,this.idPrefix=r}build(e){const t=this.column.patternTemplates;e.insertAdjacentHTML("beforeend",`<strong>Edit Pattern (access via \${value}, \${item})</strong><input\n        type="text"\n        size="30"\n        value="${this.column.getPattern()}"\n        required\n        autofocus\n        placeholder="pattern (access via \${value}, \${item})"\n        ${t.length>0?`list="ui${this.idPrefix}lineupPatternList"`:""}\n      >`),t.length>0&&e.insertAdjacentHTML("beforeend",`<datalist id="ui${this.idPrefix}lineupPatternList">${t.map(e=>`<option value="${e}">`)}</datalist>`)}reset(){this.node.querySelector("input").value="",this.column.setPattern("")}submit(){const e=this.node.querySelector("input").value;return this.column.setPattern(e),!0}}},"./src/ui/dialogs/InputNumberDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i});var n=r("./src/ui/dialogs/ADialog.ts");class i extends n.default{constructor(e,t,r={}){super(e),this.callback=t,this.ioptions={min:NaN,max:NaN,step:"any",value:NaN,label:null},Object.assign(this.ioptions,r)}build(e){const t=this.ioptions;e.insertAdjacentHTML("beforeend",`\n     <input type="number" value="${isNaN(t.value)?"":String(t.value)}" required autofocus placeholder="${t.label?t.label:"enter number"}" ${isNaN(t.min)?"":` min="${t.min}"`} ${isNaN(t.max)?"":` max="${t.max}"`} step="${t.step}">\n    `)}submit(){return this.callback(parseFloat(this.findInput("input[type=number]").value)),!0}}},"./src/ui/dialogs/MappingLineDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return u}),r.d(t,"MappingLine",function(){return l});var n=r("./node_modules/d3-drag/index.js"),i=r("./node_modules/d3-selection/index.js"),s=r("./src/internal/math.ts"),o=r("./src/ui/dialogs/ADialog.ts");function a(e){return Math.max(Math.min(e,100),0)}class u extends o.default{constructor(e,t,r){super(t),this.line=e,this.adapter=r}build(e){const t=this.adapter.domain();e.insertAdjacentHTML("beforeend",`\n        <strong>Input Domain Value (min ... max)</strong>\n        <input type="number" value="${Object(s.round)(this.adapter.unnormalizeRaw(this.line.domain),3)}" ${this.line.frozen?"readonly":""} autofocus required min="${t[0]}" max="${t[1]}" step="any">\n        <strong>Output Normalized Value (0 ... 1)</strong>\n        <input type="number" value="${Object(s.round)(this.line.range/100,3)}" required min="0" max="1" step="any">\n        <button type="button" ${this.line.frozen?"disabled":""} >Remove Mapping Line</button>\n      `),this.forEach("input",e=>e.onchange=(()=>this.submit())),this.find("button").addEventListener("click",()=>{this.destroy(),this.line.destroy()})}submit(){if(!this.node.checkValidity())return!1;const e=this.adapter.normalizeRaw(parseFloat(this.findInput("input[type=number]").value)),t=100*parseFloat(this.findInput("input[type=number]:last-of-type").value);return this.line.update(e,t),!0}}class l{constructor(e,t,r,o){this.domain=t,this.range=r,this.adapter=o,e.insertAdjacentHTML("beforeend",`<g class="lu-mapping" transform="translate(${t},0)">\n      <line x1="0" x2="${r-t}" y2="60"></line>\n      <line x1="0" x2="${r-t}" y2="60"></line>\n      <circle r="3"></circle>\n      <circle cx="${r-t}" cy="60" r="3"></circle>\n      <title>Drag the anchor circle to change the mapping, shift click to edit</title>\n    </g>`),this.node=e.lastElementChild,this.node.classList.toggle("lu-frozen",Object(s.similar)(0,t)||Object(s.similar)(t,100)),this.$select=Object(i.select)(this.node);{let e,t,r,o;this.$select.selectAll("line:first-of-type, circle").call(Object(n.drag)().container(function(){return this.parentNode.parentNode}).filter(()=>0===i.event.button&&!i.event.shiftKey).on("start",()=>{e=this.domain,t=this.range;const n=i.event;r=this.domain-n.x,o=this.range-n.x}).on("drag",(e,t)=>{const n=i.event;switch(t){case 0:this.update(a(n.x+r),a(n.x+o));break;case 1:this.update(a(n.x),this.range);break;case 2:this.update(this.domain,a(n.x))}}).on("end",()=>{Object(s.similar)(e,this.domain)&&Object(s.similar)(t,this.range)||this.adapter.updated(this)}))}this.node.onclick=(e=>{if(!e.shiftKey)return;const t={manager:this.adapter.dialog.manager,level:this.adapter.dialog.level+1,attachment:this.node,idPrefix:this.adapter.dialog.idPrefix};new u(this,t,this.adapter).open()})}get frozen(){return this.node.classList.contains("lu-frozen")}destroy(){this.node.remove(),this.adapter.destroyed(this)}update(e,t){if(Object(s.similar)(e,this.domain)&&Object(s.similar)(t,this.range))return;this.frozen&&(e=this.domain),this.domain=e,this.range=t,this.node.setAttribute("transform",`translate(${e},0)`);const r=t-e;this.$select.selectAll("line").attr("x2",String(r)),this.$select.select("circle[cx]").attr("cx",String(r))}}},"./src/ui/dialogs/MappingsFilterDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return l});var n=r("./src/internal/index.ts"),i=r("./src/model/index.ts"),s=r("./src/model/internal.ts"),o=r("./src/ui/dialogs/ADialog.ts"),a=r("./src/ui/dialogs/MappingLineDialog.ts"),u=r("./src/ui/dialogs/utils.ts");class l extends o.default{constructor(e,t,r){super(t,{fullDialog:!0}),this.column=e,this.mappingLines=[],this.loadedData=null,this.hist=null,this.mappingAdapter={destroyed:e=>{this.mappingLines.splice(this.mappingLines.indexOf(e),1)},updated:()=>this.updateLines(this.computeScale()),domain:()=>this.rawDomain,normalizeRaw:this.normalizeRaw.bind(this),unnormalizeRaw:this.unnormalizeRaw.bind(this),dialog:this.dialog},this.idPrefix=`me${r.idPrefix}`,this.scale=this.column.getMapping().clone();const n=this.scale.domain;this.rawDomain=[n[0],n[n.length-1]],this.summary=r.summaryRenderer(this.column,!0),this.data=Promise.resolve(r.provider.mappingSample(e))}get scaleType(){if(!(this.scale instanceof i.ScaleMappingFunction))return"script";const e=this.scale.scaleType;if("linear"!==e)return e;const t=this.scale.range;return 2===t.length&&1===t[0]&&0===t[1]?"linear_invert":3===t.length&&1===t[0]&&0===t[1]&&1===t[2]?"linear_abs":"linear"}build(e){e.classList.add("lu-dialog-mapper"),e.insertAdjacentHTML("beforeend",`\n        <div><label for="${this.idPrefix}mapping_type"><strong>Mapping / Scaling Type:</strong></label><select id="${this.idPrefix}mapping_type" class="browser-default">\n        <option value="linear">Linear</option>\n        <option value="linear_invert">Invert</option>\n        <option value="linear_abs">Absolute</option>\n        <option value="log">Log</option>\n        <option value="pow1.1">Pow 1.1</option>\n        <option value="pow2">Pow 2</option>\n        <option value="pow3">Pow 3</option>\n        <option value="sqrt">Sqrt</option>\n        <option value="script">Custom Script</option>\n      </select>\n      </div>\n        ${this.summary.template}\n        <strong data-toggle>Mapping Details</strong>\n        <div class="lu-details"><strong>Domain (min - max): </strong><input id="${this.idPrefix}min" required type="number" value="${Object(n.round)(this.rawDomain[0],3)}" step="any"> - <input id="${this.idPrefix}max" required type="number" value="${Object(n.round)(this.rawDomain[1],3)}" step="any"></div>\n        <strong class="lu-details" style="text-align: center">Input Domain (min - max)</strong>\n        <svg class="lu-details" viewBox="0 0 106 66">\n           <g transform="translate(3,3)">\n              <line x2="100"></line>\n              <rect y="-3" width="100" height="10"></rect>\n              <line y1="60" x2="100" y2="60"></line>\n              <rect y="36" width="100" height="10"></rect>\n           </g>\n        </svg>\n        <strong class="lu-details" style="text-align: center; margin-top: 0">Output Normalized Domain (0 - 1)</strong>\n        <div class="lu-script">\n          <strong>Custom Mapping Script</strong>\n          <textarea></textarea>\n        </div>`);const t=e.children[1];t.classList.add("lu-summary"),t.dataset.interactive="",t.dataset.renderer=this.column.getSummaryRenderer(),this.find("[data-toggle]").onclick=(e=>{e.stopPropagation(),e.preventDefault();const t=e.currentTarget.dataset;t.toggle="open"===t.toggle?"":"open"});const r=e.querySelector(".lu-details > g");this.forEach(".lu-details rect",e=>e.onclick=(t=>{t.preventDefault(),t.stopPropagation();const i=e.getBoundingClientRect(),s=Object(n.round)(100*(t.x-i.left)/i.width,2),o=new a.MappingLine(r,s,s,this.mappingAdapter);this.mappingLines.push(o)}));{const t=()=>{if(!(this.scale instanceof i.ScaleMappingFunction))return;const e=this.scale.domain,t=this.scale.range;this.mappingLines.push(...e.map((e,n)=>new a.MappingLine(r,this.normalizeRaw(e),100*t[n],this.mappingAdapter)))},n=this.find("select"),s=this.find("textarea");n.onchange=(r=>{const n=r.currentTarget;switch(n.value){case"linear_invert":this.scale=new i.ScaleMappingFunction(this.rawDomain.slice(),"linear",[1,0]);break;case"linear_abs":this.scale=new i.ScaleMappingFunction([this.rawDomain[0],(this.rawDomain[1]-this.rawDomain[0])/2,this.rawDomain[1]],"linear",[1,0,1]);break;case"script":const e=new i.ScriptMappingFunction(this.rawDomain.slice());this.scale=e,s.value=e.code;break;default:this.scale=new i.ScaleMappingFunction(this.rawDomain.slice(),n.value)}this.mappingLines.splice(0,this.mappingLines.length).forEach(e=>e.destroy()),t(),e.dataset.scale=n.value,this.updateLines()});const o=e.dataset.scale=this.scaleType;n.selectedIndex=Array.from(n.options).findIndex(e=>e.value===o),"script"===o&&(s.value=this.scale.code),t()}this.forEach(".lu-details input[type=number]",(e,r)=>e.onchange=(()=>{const s=parseFloat(e.value);if(s===this.rawDomain[r])return void e.setCustomValidity("");const o=this.rawDomain[1-r];isNaN(s)||0===r&&s>=o||1===r&&s<=o?e.setCustomValidity(`value has to be ${0===r?"<= max":">= min"}`):(e.setCustomValidity(""),this.rawDomain[r]=s,this.loadedData&&(this.hist=Object(n.computeStats)(this.loadedData,e=>e,e=>Object(i.isMissingValue)(e),this.rawDomain),this.summary.update(t,this.hist),this.updateLines()))})),this.data.then(e=>{this.loadedData=e.filter(e=>!Object(i.isMissingValue)(e)),this.hist=Object(n.computeStats)(this.loadedData,e=>e,()=>!1,this.rawDomain),this.summary.update(t,this.hist),Array.from(this.loadedData).forEach(e=>{r.insertAdjacentHTML("afterbegin",`<line data-v="${e}" x1="${Object(n.round)(this.normalizeRaw(e),2)}" x2="${Object(n.round)(100*this.scale.apply(e),2)}" y2="60"></line>`)})})}update(){const e=this.node.dataset.scale=this.scaleType,t=this.find("select");t.selectedIndex=Array.from(t.options).findIndex(t=>t.value===e),"script"===e&&(this.find("textarea").value=this.scale.code);const r=this.scale.domain;this.forEach(".lu-details input[type=number]",(e,t)=>{e.value=String(r[t])})}updateLines(e=this.scale){this.forEach(".lu-details > g > line[x1]",t=>{const r=parseFloat(t.getAttribute("data-v"));t.setAttribute("x1",Object(n.round)(this.normalizeRaw(r),2).toString()),t.setAttribute("x2",Object(n.round)(100*e.apply(r),2).toString())})}applyMapping(e,t){Object(u.updateFilterState)(this.attachment,this.column,!Object(s.isDummyNumberFilter)(t)),this.column.setMapping(e),this.column.setFilter(t)}reset(){this.scale=this.column.getOriginalMapping(),this.applyMapping(this.scale,Object(i.noNumberFilter)()),this.update(),this.hist&&this.summary.update(this.find(".lu-summary"),this.hist),this.updateLines()}normalizeRaw(e){return 100*(e-this.rawDomain[0])/(this.rawDomain[1]-this.rawDomain[0])}unnormalizeRaw(e){return e*(this.rawDomain[1]-this.rawDomain[0])/100+this.rawDomain[0]}computeScale(){const e=this.scale.clone();return"script"===this.scaleType&&(e.code=this.node.querySelector("textarea").value,e.domain=this.rawDomain.slice()),e instanceof i.ScaleMappingFunction&&(this.mappingLines.sort((e,t)=>e.domain-t.domain),e.domain=this.mappingLines.map(e=>this.unnormalizeRaw(e.domain)),e.range=this.mappingLines.map(e=>e.range/100)),e}submit(){return!!this.node.checkValidity()&&("script"===this.scaleType&&(this.scale.code=this.node.querySelector("textarea").value,this.scale.domain=this.rawDomain.slice()),this.scale instanceof i.ScaleMappingFunction&&(this.mappingLines.sort((e,t)=>e.domain-t.domain),this.scale.domain=this.mappingLines.map(e=>this.unnormalizeRaw(e.domain)),this.scale.range=this.mappingLines.map(e=>e.range/100)),this.applyMapping(this.scale,this.column.getFilter()),!0)}}},"./src/ui/dialogs/MoreColumnOptionsDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/ui/header.ts"),i=r("./src/ui/dialogs/ADialog.ts");class s extends i.default{constructor(e,t,r){super(t),this.column=e,this.ctx=r}build(e){e.classList.add("lu-more-options"),Object(n.createToolbarMenuItems)(e,this.dialog.level+1,this.column,this.ctx),Object(n.updateIconState)(e,this.column)}}},"./src/ui/dialogs/ReduceDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return o});var n=r("./src/model/INumberColumn.ts"),i=r("./src/ui/dialogs/ADialog.ts"),s=r("./src/ui/dialogs/SortDialog.ts");class o extends i.default{constructor(e,t){super(t),this.column=e}build(e){const t={getSortMethod:()=>this.column.getReduce(),setSortMethod:e=>this.column.setReduce(e)};Object(s.sortMethods)(e,t,Object.keys(n.EAdvancedSortMethod),this.dialog.idPrefix)}}},"./src/ui/dialogs/RenameDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/model/Column.ts"),i=r("./src/ui/dialogs/ADialog.ts");class s extends i.default{constructor(e,t){super(t,{fullDialog:!0}),this.column=e,this.before=e.getMetaData()}build(e){e.classList.add("lu-rename-dialog"),e.insertAdjacentHTML("beforeend",`\n      <input type="text" value="${this.column.label}" required autofocus placeholder="name">\n      <input type="color" value="${this.column.color}" required placeholder="color">\n      <textarea rows="5" placeholder="Description">${this.column.description}</textarea>`)}reset(){this.findInput('input[type="text"]').value=this.before.label,this.findInput('input[type="color"]').value=this.before.color||n.default.DEFAULT_COLOR,this.node.querySelector("textarea").value=this.before.description,this.column.setMetaData(this.before)}submit(){const e=this.findInput('input[type="text"]').value,t=this.findInput('input[type="color"]').value,r=this.node.querySelector("textarea").value;return this.column.setMetaData({label:e,color:t,description:r}),!0}}},"./src/ui/dialogs/ScriptEditDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i});var n=r("./src/ui/dialogs/ADialog.ts");class i extends n.default{constructor(e,t){super(t,{fullDialog:!0}),this.column=e,this.before=e.getScript()}build(e){e.insertAdjacentHTML("beforeend",`<textarea autofocus="true" rows="5" autofocus="autofocus" style="width: 95%;">${this.column.getScript()}</textarea>`)}reset(){this.node.querySelector("textarea").value=this.before,this.column.setScript(this.before)}submit(){return this.column.setScript(this.node.querySelector("textarea").value),!0}}},"./src/ui/dialogs/SearchDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/ui/dialogs/ADialog.ts"),i=r("./src/ui/dialogs/utils.ts");class s extends n.default{constructor(e,t,r){super(t),this.column=e,this.provider=r}build(e){const t=Object(i.randomId)(this.dialog.idPrefix);e.insertAdjacentHTML("beforeend",`<input type="text" size="20" value="" required autofocus placeholder="search... (>= 3 chars)"><input id="${t}" type="checkbox"><label for="${t}">RegExp</label>`);const r=e.querySelector('input[type="text"]'),n=e.querySelector('input[type="checkbox"]'),s=()=>{let e=r.value;if(e.length<3)return void r.setCustomValidity("at least 3 characters");r.setCustomValidity(""),n.checked&&(e=new RegExp(e)),this.provider.searchAndJump(e,this.column)};r.addEventListener("input",s),n.addEventListener("change",s)}}},"./src/ui/dialogs/SortDateDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/ui/dialogs/ADialog.ts"),i=r("./src/ui/dialogs/SortDialog.ts");class s extends n.default{constructor(e,t){super(t),this.column=e}build(e){Object(i.sortMethods)(e,this.column,["min","max","median"],this.dialog.idPrefix),Object(i.sortOrder)(e,this.column,this.dialog.idPrefix)}}},"./src/ui/dialogs/SortDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return u}),r.d(t,"sortMethods",function(){return l}),r.d(t,"sortOrder",function(){return c});var n=r("./src/model/BoxPlotColumn.ts"),i=r("./src/model/INumberColumn.ts"),s=r("./src/model/NumberColumn.ts"),o=r("./src/ui/dialogs/ADialog.ts"),a=r("./src/ui/dialogs/utils.ts");class u extends o.default{constructor(e,t){super(t),this.column=e}build(e){l(e,this.column,Object.keys(this.column instanceof n.default?i.ESortMethod:i.EAdvancedSortMethod),this.dialog.idPrefix),c(e,this.column,this.dialog.idPrefix,this.column instanceof s.default)}}function l(e,t,r,n){const i=Object(a.randomId)(n),s=t.getSortMethod();r.forEach(t=>e.insertAdjacentHTML("beforeend",`<input id="${i}${t}" type="radio" name="multivaluesort" value="${t}"  ${s===t?"checked":""} ><label for="${i}${t}">${t.slice(0,1).toUpperCase()+t.slice(1)}</label>`)),Object(a.forEach)(e,"input[name=multivaluesort]",e=>{e.addEventListener("change",()=>t.setSortMethod(e.value))})}function c(e,t,r,n=!1){const i=n?t.isGroupSortedByMe().asc:t.isSortedByMe().asc,s=Object(a.randomId)(r);e.insertAdjacentHTML("beforeend",`\n        <strong>Sort Order</strong>\n        <input id="${s}A" type="radio" name="sortorder" value="asc"  ${"asc"===i?"checked":""} ><label for="${s}A">Ascending</label>\n        <input id="${s}A" type="radio" name="sortorder" value="desc"  ${"desc"===i?"checked":""} ><label for="${s}B">Decending</label>\n    `),Object(a.forEach)(e,"input[name=sortorder]",e=>{e.addEventListener("change",()=>{n?t.groupSortByMe("asc"===e.value):t.sortByMe("asc"===e.value)})})}},"./src/ui/dialogs/SortGroupDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/ui/dialogs/ADialog.ts"),i=r("./src/ui/dialogs/SortDialog.ts");class s extends n.default{constructor(e,t){super(t),this.column=e}build(e){Object(i.sortMethods)(e,this.column,["name","count"],this.dialog.idPrefix),Object(i.sortOrder)(e,this.column,this.dialog.idPrefix,!0)}}},"./src/ui/dialogs/StratifyThresholdDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/ui/dialogs/ADialog.ts"),i=r("./src/internal/math.ts");class s extends n.default{constructor(e,t){super(t,{fullDialog:!0}),this.column=e,this.before=this.column.getStratifyThresholds()}build(e){if(this.column.isGroupedBy()>=0)return this.column.groupByMe(),!1;const t=this.column.getOriginalMapping().domain;return e.insertAdjacentHTML("beforeend",`<strong>Threshold: </strong><input\n        type="number"\n        size="15"\n        value="${this.before.length>0?this.before[0]:Object(i.round)((t[1]-t[0])/2,2)}"\n        required\n        autofocus\n        min="${t[0]}"\n        max="${t[1]}"\n        step="any"\n      >`),!0}reset(){const e=this.column.getOriginalMapping().domain;this.findInput('input[type="number"]').value=`${this.before.length>0?this.before[0]:Object(i.round)((e[1]-e[0])/2,2)}`,this.column.setStratifyThresholds(this.before)}submit(){const e=+this.findInput('input[type="number"]').value;return this.column.setStratifyThresholds([e]),this.column.groupByMe(),!0}}},"./src/ui/dialogs/StringFilterDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return a});var n=r("./src/model/StringColumn.ts"),i=r("./src/ui/missing.ts"),s=r("./src/ui/dialogs/ADialog.ts"),o=r("./src/ui/dialogs/utils.ts");class a extends s.default{constructor(e,t){super(t,{fullDialog:!0}),this.column=e}updateFilter(e){Object(o.updateFilterState)(this.attachment,this.column,null!=e&&""!==e),this.column.setFilter(e)}reset(){this.findInput('input[type="text"]').value="",this.forEach("input[type=checkbox",e=>e.checked=!1),this.updateFilter(null)}submit(){if(Object(i.findFilterMissing)(this.node).checked)return this.updateFilter(n.default.FILTER_MISSING),!0;const e=this.findInput('input[type="text"]').value,t=this.findInput('input[type="checkbox"]').checked;return this.updateFilter(t?new RegExp(e):e),!0}build(e){let t=this.column.getFilter()||"";const r=t===n.default.FILTER_MISSING;r&&(t="");const s=Object(o.randomId)(this.dialog.idPrefix);e.insertAdjacentHTML("beforeend",`<input type="text" placeholder="containing..." autofocus value="${t instanceof RegExp?t.source:t}" style="width: 100%">\n    <input id="${s}" type="checkbox" ${t instanceof RegExp?'checked="checked"':""}><label for="${s}">RegExp</label>\n    ${Object(i.filterMissingMarkup)(r,this.dialog.idPrefix)}`);const a=Object(i.findFilterMissing)(e),u=e.querySelector('input[type="text"]'),l=e.querySelector('input[type="checkbox"]'),c=()=>{if(u.disabled=a.checked,l.disabled=a.checked,a.checked)return void this.updateFilter(n.default.FILTER_MISSING);const e=u.value.trim();a.disabled=e.length>0,e.length<=0?this.updateFilter(null):this.updateFilter(l.checked?new RegExp(u.value):u.value)};a.onchange=c,u.onchange=c,l.onchange=c}}},"./src/ui/dialogs/WeightsEditDialog.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return o});var n=r("./src/internal/index.ts"),i=r("./src/ui/dialogs/ADialog.ts"),s=r("./src/ui/dialogs/utils.ts");class o extends i.default{constructor(e,t){super(t,{fullDialog:!0}),this.column=e,this.weights=this.column.getWeights()}reset(){Object(s.forEach)(this.node,"input[type=number]",e=>{const t=Object(n.round)(100/this.weights.length,2);e.value=String(t),e.nextElementSibling.style.width=`${t}%`}),this.column.setWeights(this.weights.slice().fill(100/this.weights.length))}build(e){e.classList.add("lu-filter-table");const t=this.column.children;e.insertAdjacentHTML("beforeend",`<div>\n        ${this.weights.map((e,r)=>`<div><input type="number" value="${Object(n.round)(100*e,2)}" min="0" max="100" size="5"><span style="background-color: ${t[r].color}; width: ${Object(n.round)(100*e,2)}%"></span>${t[r].label}</div>`).join("")}\n    </div>`),this.forEach("input[type=number]",e=>{e.oninput=(()=>{e.nextElementSibling.style.width=`${e.value}px`})})}submit(){const e=this.forEach("input[type=number]",e=>parseFloat(e.value)/100);return this.column.setWeights(e),!0}}},"./src/ui/dialogs/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/ui/dialogs/ADialog.ts");r.d(t,"IDialogOptions",function(){return n.IDialogOptions}),r.d(t,"ADialog",function(){return n.default})},"./src/ui/dialogs/utils.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"updateFilterState",function(){return i});var n=r("./src/renderer/utils.ts");function i(e,t,r){const n=e=>{const t=e;r?t.dataset.active="":delete t.dataset.active};n(e);const i=e.closest(".lu");i&&Array.from(i.querySelectorAll(`[data-col-id="${t.id}"] i[title^=Filter]`)).forEach(n)}r.d(t,"randomId",function(){return n.randomId}),r.d(t,"forEach",function(){return n.forEach}),r.d(t,"forEachChild",function(){return n.forEachChild})},"./src/ui/header.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"createHeader",function(){return p}),r.d(t,"updateHeader",function(){return m}),r.d(t,"updateIconState",function(){return g}),r.d(t,"createToolbar",function(){return y}),r.d(t,"createShortcutMenuItems",function(){return v}),r.d(t,"createToolbarMenuItems",function(){return E}),r.d(t,"dragWidth",function(){return C}),r.d(t,"MIMETYPE_PREFIX",function(){return T}),r.d(t,"dragAbleColumn",function(){return O}),r.d(t,"rearrangeDropAble",function(){return N}),r.d(t,"resortDropAble",function(){return R}),r.d(t,"mergeDropAble",function(){return D});var n=r("./node_modules/popper.js/dist/esm/popper.js"),i=r("./src/config.ts"),s=r("./src/internal/index.ts"),o=r("./src/internal/dnd.ts"),a=r("./src/model/index.ts"),u=r("./src/model/annotations.ts"),l=r("./src/model/CompositeColumn.ts"),c=r("./src/model/ImpositionBoxPlotColumn.ts"),d=r("./src/model/ImpositionCompositeColumn.ts"),h=r("./src/model/ImpositionCompositesColumn.ts"),f=r("./src/ui/toolbar.ts");function p(e,t,r={}){r=Object.assign({dragAble:!0,mergeDropAble:!0,rearrangeAble:!0,resizeable:!0,level:0},r);const s=t.document.createElement("section");return s.innerHTML=`\n    <div class="lu-label">${e.getWidth()<i.MIN_LABEL_WIDTH?"&nbsp;":e.label}</div>\n    <div class="lu-toolbar"></div>\n    <div class="lu-spacing"></div>\n    <div class="lu-handle"></div>\n  `,function(e,t){let r=-1,s=null;const o=()=>{if(r=-1,t.description.length<=0)return;const i=e.closest(".lu");i.insertAdjacentHTML("beforeend",`<div class="lu-tooltip" data-type="${t.desc.type}" data-type-cat="${Object(u.categoryOf)(t).name}">\n        <div x-arrow></div>\n        <strong class="lu-label">${t.label}</strong>\n        <p>${t.description.replace("\n","<br/>")}</p>\n    </div>`),s=new n.default(e,i.lastElementChild,{removeOnDestroy:!0,placement:"auto",modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!1}}})};e.addEventListener("mouseenter",()=>{r=self.setTimeout(o,i.HOVER_DELAY_SHOW_DETAIL)}),e.addEventListener("mouseleave",()=>{r>=0&&(clearTimeout(r),r=-1),s&&(s.destroy(),s=null)})}(s,e),y(s.querySelector("div.lu-toolbar"),r.level,e,t),_(s,e),r.dragAble&&O(s,e,t),r.mergeDropAble&&D(s,e,t),r.rearrangeAble&&N(s.querySelector(".lu-handle"),e,t),r.resizeable&&C(e,s),s}function m(e,t){e.querySelector(".lu-label").innerHTML=t.getWidth()<i.MIN_LABEL_WIDTH?"&nbsp;":t.label,e.title=t.label,e.dataset.colId=t.id,e.dataset.type=t.desc.type,e.dataset.typeCat=Object(u.categoryOf)(t).name,g(e,t)}function g(e,t){const r=e.querySelector("i[title='Sort']");if(r){const{asc:e,priority:n}=t.isSortedByMe();r.dataset.sort=void 0!==e?e:"",void 0!==n?r.dataset.priority=(parseInt(n,10)+1).toString():delete r.dataset.priority}const n=e.querySelector("i[title^='Stratify']");if(n){const e=t.isGroupedBy();n.dataset.stratify=e>=0?"true":"false",e>=0?n.dataset.priority=(e+1).toString():delete n.dataset.priority}const i=e.querySelector("i[title^='Filter']");i&&(t.isFiltered()?i.dataset.active="":delete i.dataset.active)}function b(e,t,r,n,i){return(s,o)=>{e.insertAdjacentHTML("beforeend",`<i title="${s}"><span${i?"":' aria-hidden="true"'}>${s}</span> </i>`);const a=e.lastElementChild;return a.onclick=(e=>{e.stopPropagation(),r.dialogManager.setHighlightColumn(t),o(t,e,r,n)}),a}}function y(e,t,r,n){return v(e,t,r,n)}function v(e,t,r,n){const i=b(e,r,n,t,!1);Object(f.default)(r,n).filter(e=>e.options.shortcut).forEach(e=>i(e.title,e.onClick))}function E(e,t,r,n){const i=b(e,r,n,t,!0);Object(f.default)(r,n).filter(e=>!e.title.startsWith("More")).forEach(e=>i(e.title,e.onClick))}function _(e,t,r=22.5){const n=e.querySelector(".lu-toolbar");if(0===n.childElementCount)return;const i=n.querySelector("[title^=More]"),s=t.getWidth()-(i&&i.clientWidth?i.clientWidth:r),o=Array.from(n.children).filter(e=>e!==i).reverse();o.forEach(e=>{e.classList.remove("hidden")}),o.forEach(e=>{const t=o.reduce((e,t)=>{const n=t.clientWidth;return n>0?e+n:t.classList.contains("hidden")?e:e+r},0);e.classList.toggle("hidden",t>s)})}function C(e,t){let r;const n=t.querySelector(".lu-handle");let i=0;const s=r=>{r.stopPropagation(),r.preventDefault();const n=r.clientX;if(Math.abs(i-n)<2)return;const s=n-i;i=n;const o=Math.max(0,e.getWidth()+s);e.setWidth(o),_(t,e)},o=n=>{n.stopPropagation(),n.preventDefault();const a=n.clientX;if(t.classList.remove("lu-change-width"),r.removeEventListener("mousemove",s),r.removeEventListener("mouseup",o),r.removeEventListener("mouseleave",o),Math.abs(i-a)<2)return;const u=a-i,l=Math.max(0,e.getWidth()+u);e.setWidth(l),_(t,e)};n.onmousedown=(e=>{e.stopPropagation(),e.preventDefault(),t.classList.add("lu-change-width"),i=e.clientX,(r=t.closest("header")).addEventListener("mousemove",s),r.addEventListener("mouseup",o),r.addEventListener("mouseleave",o)}),n.onclick=(e=>{e.stopPropagation(),e.preventDefault()})}const T="text/x-caleydo-lineup-column";function O(e,t,r){Object(o.dragAble)(e,()=>{const e=JSON.stringify(r.provider.toDescRef(t.desc)),n={"text/plain":t.label,[`${T}-ref`]:t.id,[T]:e};return Object(a.isNumberColumn)(t)&&(n[`${T}-number`]=e,n[`${T}-number-ref`]=t.id),Object(a.isCategoricalColumn)(t)&&(n[`${T}-categorical`]=e,n[`${T}-categorical-ref`]=t.id),Object(a.isBoxPlotColumn)(t)&&(n[`${T}-boxplot`]=e,n[`${T}-boxplot-ref`]=t.id),Object(a.isMapColumn)(t)&&(n[`${T}-map`]=e,n[`${T}-map-ref`]=t.id),Object(a.isArrayColumn)(t)&&(n[`${T}-array`]=e,n[`${T}-array-ref`]=t.id),Object(a.isNumbersColumn)(t)&&(n[`${T}-numbers`]=e,n[`${T}-numbers-ref`]=t.id),{effectAllowed:"copyMove",data:n}},!0)}function N(e,t,r){Object(o.dropAble)(e,[`${T}-ref`,T],e=>{let n=null;const i=e.data;if(!(`${T}-ref`in i)){const e=JSON.parse(i[T]);return null!=(n=r.provider.create(r.provider.fromDescRef(e)))&&null!=t.insertAfterMe(n)}const s=i[`${T}-ref`];if(!(n=r.provider.find(s))||n===t&&!e.effect.startsWith("copy"))return!1;if(e.effect.startsWith("copy"))return null!=(n=r.provider.clone(n))&&null!=t.insertAfterMe(n);const o=n.parent;return o?o===t.parent?null!=o.moveAfter(n,t):(n.removeMe(),null!=t.insertAfterMe(n)):null!=t.insertAfterMe(n)},null,!0)}function R(e,t,r,n,i){Object(o.dropAble)(e,[`${T}-ref`,T],e=>{let o=null;const u=e.data;if(`${T}-ref`in u){const e=u[`${T}-ref`];if(!(o=r.provider.find(e))||o===t)return!1}else{const e=JSON.parse(u[T]);(o=r.provider.create(r.provider.fromDescRef(e)))&&t.findMyRanker().push(o)}const l=t.findMyRanker();if(!o||o===t||!l)return!1;const c=l.getSortCriteria(),d=l.getGroupCriteria(),h=e=>{const t=c.findIndex(t=>t.col===e);return t>=0&&c.splice(t,1)[0].asc},f=h(o),p=d.indexOf(t),m=c.findIndex(e=>e.col===t);if(i&&p>=0)if(h(t),Object(a.isCategoricalColumn)(o)){if(d.splice(p+("after"===n?1:0),0,o),d.length>l.getMaxGroupColumns()){const e=d.splice(0,d.length-l.getMaxGroupColumns());c.unshift(...e.reverse().map(e=>({asc:!1,col:e})))}}else{const e=d.splice(0,d.length-p);c.unshift(...e.reverse().map(e=>({asc:!1,col:e}))),c.unshift({asc:f,col:o})}else m<0?c.push({asc:f,col:o}):0===m&&i&&Object(a.isCategoricalColumn)(o)?d.push(o):c.splice(m+("after"===n?1:0),0,{asc:f,col:o});return Object(s.equalArrays)(d,l.getGroupCriteria())||l.groupBy(d),l.setSortCriteria(c),!0},null,!0)}function D(e,t,r){const n=e=>{const n=e.data,i="copy"===e.effect,s=T,o=Object.keys(n).find(e=>e.startsWith(s)&&e.endsWith("-ref"));if(o){const e=n[o];let s=r.provider.find(e);if(i)s=r.provider.clone(s);else{if(s===t)return null;s.removeMe()}return s}const a=Object.keys(n).find(e=>e.startsWith(s));if(!a)return null;const u=JSON.parse(a);return r.provider.create(r.provider.fromDescRef(u))},i=e=>{const r=n(e);return null!=r&&null!=t.push(r)},s=(e,n)=>{if(null==e)return!1;const i=t.findMyRanker(),s=i.indexOf(t),o=r.provider.create(n);return t.removeMe(),o.push(t),o.push(e),null!=i.insert(o,s)},u=e=>t=>{const r=n(t);return s(r,e)},f=[`${T}-ref`,T],p=[`${T}-number-ref`,`${T}-number`],m=[`${T}-categorical-ref`,`${T}-categorical`],g=[`${T}-boxplot-ref`,`${T}-boxplot`],b=[`${T}-numbers-ref`,`${T}-numbers`];return e.dataset.draginfo="+",t instanceof d.default?Object(o.dropAble)(e,m.concat(p),i,t=>{Object(o.hasDnDType)(t,...m)?e.dataset.draginfo="Color by":Object(o.hasDnDType)(t,...p)&&(e.dataset.draginfo="Wrap")}):t instanceof c.default?Object(o.dropAble)(e,m.concat(g),i,t=>{Object(o.hasDnDType)(t,...m)?e.dataset.draginfo="Color by":Object(o.hasDnDType)(t,...g)&&(e.dataset.draginfo="Wrap")}):t instanceof h.default?Object(o.dropAble)(e,m.concat(b),i,t=>{Object(o.hasDnDType)(t,...m)?e.dataset.draginfo="Color by":Object(o.hasDnDType)(t,...b)&&(e.dataset.draginfo="Wrap")}):Object(l.isMultiLevelColumn)(t)?Object(o.dropAble)(e,t.canJustAddNumbers?p:f,i):t instanceof l.default?Object(o.dropAble)(e,t.canJustAddNumbers?p:f,i):Object(a.isNumbersColumn)(t)?(e.dataset.draginfo="Color by",Object(o.dropAble)(e,m,u(Object(a.createImpositionsDesc)()))):Object(a.isBoxPlotColumn)(t)?(e.dataset.draginfo="Color by",Object(o.dropAble)(e,m,u(Object(a.createImpositionBoxPlotDesc)()))):Object(a.isNumberColumn)(t)?(e.dataset.draginfo="Merge",Object(o.dropAble)(e,m.concat(p),(e,t)=>{const r=n(e);return null!=r&&(Object(a.isCategoricalColumn)(r)?s(r,Object(a.createImpositionDesc)()):!!Object(a.isNumberColumn)(r)&&s(r,t.shiftKey?Object(a.createReduceDesc)():Object(a.createStackDesc)()))},t=>{Object(o.hasDnDType)(t,...m)?e.dataset.draginfo="Color by":Object(o.hasDnDType)(t,...p)&&(e.dataset.draginfo=t.shiftKey?"Min/Max":"Sum")})):(e.dataset.draginfo="Group",Object(o.dropAble)(e,f,u(Object(a.createNestedDesc)())))}},"./src/ui/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/ui/taggle/index.ts");r.d(t,"Taggle",function(){return n.default}),r.d(t,"ITaggleOptions",function(){return n.ITaggleOptions}),r.d(t,"TaggleRenderer",function(){return n.TaggleRenderer}),r.d(t,"IRuleInstance",function(){return n.IRuleInstance}),r.d(t,"IRule",function(){return n.IRule});var i=r("./src/ui/EngineRenderer.ts");r.d(t,"EngineRenderer",function(){return i.default});var s=r("./src/ui/EngineRanking.ts");r.d(t,"EngineRanking",function(){return s.default}),r.d(t,"IEngineRankingContext",function(){return s.IEngineRankingContext}),r.d(t,"IEngineRankingOptions",function(){return s.IEngineRankingOptions});var o=r("./src/ui/SlopeGraph.ts");r.d(t,"SlopeGraph",function(){return o.default}),r.d(t,"EMode",function(){return o.EMode});var a=r("./src/ui/dialogs/index.ts");r.d(t,"IDialogOptions",function(){return a.IDialogOptions}),r.d(t,"ADialog",function(){return a.ADialog});var u=r("./src/ui/panel/index.ts");r.d(t,"SidePanel",function(){return u.SidePanel}),r.d(t,"ISidePanelOptions",function(){return u.ISidePanelOptions}),r.d(t,"SearchBox",function(){return u.SearchBox}),r.d(t,"IGroupSearchItem",function(){return u.IGroupSearchItem}),r.d(t,"IItem",function(){return u.IItem}),r.d(t,"ISearchBoxOptions",function(){return u.ISearchBoxOptions});var l=r("./src/ui/toolbar.ts");r.d(t,"toolbarActions",function(){return l.toolbarActions});var c=r("./src/ui/interfaces.ts");r.d(t,"WEIRD_CANVAS_OFFSET",function(){return c.WEIRD_CANVAS_OFFSET});var d=r("./src/ui/LineUp.ts");r.d(t,"LineUp",function(){return d.default}),r.d(t,"ILineUpOptions",function(){return d.ILineUpOptions})},"./src/ui/interfaces.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"WEIRD_CANVAS_OFFSET",function(){return n});const n=.6},"./src/ui/missing.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"filterMissingText",function(){return i}),r.d(t,"filterMissingMarkup",function(){return s}),r.d(t,"filterMissingNumberMarkup",function(){return o}),r.d(t,"findFilterMissing",function(){return a}),r.d(t,"updateFilterMissingNumberMarkup",function(){return u});var n=r("./src/ui/dialogs/utils.ts");const i="Filter out rows containing missing values";function s(e,t){const r=Object(n.randomId)(t);return`<input type="checkbox" ${e?'checked="checked"':""} id="${r}"><label for="${r}" class="lu-filter-missing">${i}</label>`}function o(e,t,r){const i=Object(n.randomId)(r);return`<input type="checkbox" ${e?'checked="checked"':""} ${0===t?"disabled":""} id="${i}"><label for="${i}" class="lu-filter-missing" ${0===t?'class="lu-disabled"':""}>Filter out ${t} missing value rows</label>`}function a(e){return e.querySelector(".lu-filter-missing").previousElementSibling}function u(e,t){const r=e.querySelector("input");t>0&&(e.classList.remove("lu-disabled"),r.disabled=!1),r.checked||(e.lastElementChild.textContent=`Filter out ${t} remaining missing value rows`)}},"./src/ui/panel/SearchBox.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i});var n=r("./src/internal/AEventDispatcher.ts");class i extends n.default{constructor(e={}){super(),this.options={formatItem:e=>e.text,doc:document,placeholder:"Select..."},this.values=[],Object.assign(this.options,e),this.node=this.options.doc.createElement("div"),this.node.classList.add("lu-search"),this.node.innerHTML=`<input type="search" placeholder="${this.options.placeholder}"><ul></ul>`,this.search=this.node.querySelector("input"),this.body=this.node.querySelector("ul"),this.search.onfocus=(()=>this.focus()),this.search.onblur=(()=>this.blur()),this.search.oninput=(()=>this.filter()),this.search.onkeydown=(e=>this.handleKey(e))}get data(){return this.values}set data(e){this.values=e,this.body.innerHTML="",this.buildDialog(this.body,this.values)}buildDialog(e,t){t.forEach(t=>{if(void 0!==t.id){e.insertAdjacentHTML("beforeend",'<li class="lu-search-item"><span></span></li>');const r=e.lastElementChild;r.onmousedown=(e=>{e.preventDefault()}),r.onclick=(()=>this.select(t)),r.onmouseenter=(()=>this.highlighted=r),r.onmouseleave=(()=>this.highlighted=null)}else{e.insertAdjacentHTML("beforeend",'<li class="lu-search-group"><span></span><ul></ul></li>');const r=e.lastElementChild.lastElementChild;this.buildDialog(r,t.children)}const r=e.lastElementChild.firstElementChild;r.innerHTML=this.options.formatItem(t,r)})}handleKey(e){const t=27,r=13,n=38,i=40;switch(e.which){case t:this.search.blur();break;case r:const s=this.highlighted;s&&s.click();break;case n:this.highlightPrevious();break;case i:this.highlightNext()}}select(e){this.search.value="",this.search.blur(),this.filterResults(this.body,""),this.fire(i.EVENT_SELECT,e)}focus(){this.body.style.width=`${this.search.offsetWidth}px`,this.highlighted=this.body.firstElementChild||null,this.node.classList.add("lu-search-open")}get highlighted(){return this.body.querySelector(".lu-search-highlighted")||null}set highlighted(e){const t=this.highlighted;t!==e&&(t&&t.classList.remove("lu-search-highlighted"),e&&e.classList.add("lu-search-highlighted"))}highlightNext(){const e=this.highlighted;if(!e||e.classList.contains("hidden"))return void(this.highlighted=this.body.querySelector(".lu-search-item:not(.hidden)")||null);const t=Array.from(this.body.querySelectorAll(".lu-search-item:not(.hidden)")),r=t.indexOf(e);this.highlighted=t[r+1]||null}highlightPrevious(){const e=this.highlighted,t=Array.from(this.body.querySelectorAll(".lu-search-item:not(.hidden)"));if(!e||e.classList.contains("hidden"))return void(this.highlighted=t[t.length-1]||null);const r=t.indexOf(e);this.highlighted=t[r-1]||null}blur(){this.search.value="",this.node.classList.remove("lu-search-open")}filter(){const e=this.filterResults(this.body,this.search.value.toLowerCase());this.body.classList.toggle("lu-search-empty",e)}filterResults(e,t){if(""===t)return Array.from(e.querySelectorAll(".hidden")).forEach(e=>e.classList.remove("hidden")),!1;const r=Array.from(e.children);return r.forEach(e=>{let r=!e.firstElementChild.innerHTML.toLowerCase().includes(t);if(e.classList.contains("lu-search-group")){const n=e.lastElementChild,i=this.filterResults(n,t);r=r&&i}e.classList.toggle("hidden",r)}),r.every(e=>e.classList.contains("hidden"))}createEventList(){return super.createEventList().concat([i.EVENT_SELECT])}}i.EVENT_SELECT="select"},"./src/ui/panel/SidePanel.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return c});var n=r("./src/internal/AEventDispatcher.ts"),i=r("./src/model/index.ts"),s=r("./src/model/annotations.ts"),o=r("./src/model/Ranking.ts"),a=r("./src/provider/ADataProvider.ts"),u=r("./src/ui/panel/SearchBox.ts"),l=r("./src/ui/panel/SidePanelEntry.ts");class c{constructor(e,t,r={}){this.ctx=e,this.options={additionalDescs:[Object(i.createStackDesc)("Weighted Sum"),Object(i.createScriptDesc)("Scripted Formula"),Object(i.createNestedDesc)("Nested"),Object(i.createReduceDesc)(),Object(i.createImpositionDesc)(),Object(i.createRankDesc)(),Object(i.createSelectionDesc)(),Object(i.createGroupDesc)(),Object(i.createAggregateDesc)()],chooser:!0,placeholder:"Add Column...",formatItem:(e,t)=>(t.dataset.typeCat=e instanceof l.default?e.category.name:e.children[0].category.name,e instanceof l.default&&(t.dataset.type=e.desc.type),e.text),collapseable:!0},this.descs=new Map,Object.assign(this.options,r),this.node=t.createElement("aside"),this.node.classList.add("lu-side-panel"),this.search=new u.default(this.options),this.data=e.provider,this.init(),this.update(e)}init(){if(this.node.innerHTML='\n      <aside class="lu-stats"></aside>\n      <div><main></main></div>\n    ',this.options.collapseable){this.node.insertAdjacentHTML("beforeend",'<div class="lu-collapser" title="Collapse Panel"></div>'),this.node.lastElementChild.onclick=(()=>this.collapsed=!this.collapsed),this.collapsed="collapsed"===this.options.collapseable}this.initChooser(),this.changeDataStorage(null,this.data)}initChooser(){this.options.chooser&&(this.node.insertAdjacentHTML("afterbegin","<header>\n        <form></form>\n      </header>"),this.node.querySelector("form").appendChild(this.search.node),this.search.on(u.default.EVENT_SELECT,e=>{const t=this.data.create(e.desc);t&&this.data.getLastRanking().push(t)}))}changeDataStorage(e,t){const r=this;e&&e.on(Object(n.suffix)(".panel",a.default.EVENT_ADD_RANKING,a.default.EVENT_REMOVE_RANKING,a.default.EVENT_ADD_DESC,a.default.EVENT_CLEAR_DESC,a.default.EVENT_ORDER_CHANGED,a.default.EVENT_SELECTION_CHANGED),null),this.data=t,this.descs.forEach(e=>e.destroyVis()),this.descs.clear(),t.getColumns().concat(this.options.additionalDescs).forEach(e=>{this.descs.set(e,new l.default(e,Object(s.categoryOfDesc)(e,t.columnTypes)))});const i=(e,i)=>{const s=i?1:-1;e.flatColumns.forEach(e=>{this.descs.has(e.desc)&&(this.descs.get(e.desc).used+=s)}),i?(e.on(Object(n.suffix)(".panel",o.default.EVENT_GROUP_CRITERIA_CHANGED,o.default.EVENT_SORT_CRITERIA_CHANGED),()=>{e===t.getRankings()[0]&&this.updateList()}),e.on(Object(n.suffix)(".panel",a.default.EVENT_ADD_COLUMN,a.default.EVENT_REMOVE_COLUMN),function(e){const t=e.desc,n="addColumn"===this.type;r.descs.has(t)&&(r.descs.get(t).used+=n?1:-1,r.updateList())})):e.on(Object(n.suffix)(".panel",o.default.EVENT_GROUP_CRITERIA_CHANGED,o.default.EVENT_SORT_CRITERIA_CHANGED,o.default.EVENT_ADD_COLUMN,o.default.EVENT_REMOVE_COLUMN),null)};t.getRankings().forEach(e=>i(e,!0)),t.on(`${a.default.EVENT_ADD_DESC}.panel`,e=>{const n=new l.default(e,Object(s.categoryOfDesc)(e,t.columnTypes));r.descs.set(e,n),this.updateChooser()}),t.on(`${a.default.EVENT_CLEAR_DESC}.panel`,()=>{r.descs.forEach(e=>e.destroyVis()),r.descs.clear(),this.updateChooser()}),t.on(Object(n.suffix)(".panel",a.default.EVENT_SELECTION_CHANGED,a.default.EVENT_ORDER_CHANGED),()=>{this.updateStats()}),t.on(Object(n.suffix)(".panel",a.default.EVENT_ADD_RANKING,a.default.EVENT_REMOVE_RANKING),function(e){e?i(e,"addRanking"===this.type):(r.descs.forEach(e=>e.destroyVis()),r.descs.clear()),r.updateList()}),this.updateStats()}get collapsed(){return this.node.classList.contains("lu-collapsed")}set collapsed(e){this.node.classList.toggle("lu-collapsed",e),e||(this.updateChooser(),this.updateList(),this.updateStats())}update(e){const t=this.data;this.ctx=e,e.provider!==t&&this.changeDataStorage(t,e.provider),this.updateChooser(),this.updateList(),this.updateStats()}updateStats(){if(this.collapsed)return;const e=this.node.querySelector("aside.lu-stats"),t=this.data.getSelection(),r=this.data.getRankings()[0],n=r?r.getGroups().reduce((e,t)=>e+t.order.length,0):0;e.innerHTML=`Showing <strong>${n}</strong> of ${this.data.getTotalNumberOfRows()} items${t.length>0?`; ${t.length} <span>selected</span>`:""}`}destroy(){this.node.remove(),this.data&&(this.data.getRankings().forEach(e=>{e.on(Object(n.suffix)(".panel",o.default.EVENT_GROUP_CRITERIA_CHANGED,o.default.EVENT_SORT_CRITERIA_CHANGED,o.default.EVENT_ADD_COLUMN,o.default.EVENT_REMOVE_COLUMN),null)}),this.data.on(Object(n.suffix)(".panel",a.default.EVENT_ADD_RANKING,a.default.EVENT_REMOVE_RANKING,a.default.EVENT_ADD_DESC),null))}columnOrder(){const e=this.data.getRankings()[0];if(!e)return[];const t=e.getGroupCriteria(),r=new Set(t.map(e=>e.desc));return e.getSortCriteria().forEach(({col:e})=>{r.has(e.desc)||(t.push(e),r.add(e.desc))}),e.flatColumns.forEach(e=>{r.has(e.desc)||(t.push(e),r.add(e.desc))}),t}prepareListData(){const e=this.columnOrder(),t=new Map;e.forEach(e=>t.set(e.desc,e)),this.data.getRankings().forEach(e=>{e.flatColumns.forEach(e=>{const r=e.desc;t.has(r)||Object(i.isSupportType)(e)||t.set(r,e)})});const r=Array.from(t.values());return r.sort((t,r)=>{const n=e.indexOf(t),i=e.indexOf(r);return n<0?i<0?0:1:i<0?-1:n-i}),r}updateList(){if(this.collapsed)return;const e=this.node.querySelector("main"),t=this.prepareListData();if(0===t.length)return e.innerHTML="",void this.descs.forEach(e=>e.destroyVis());e.innerHTML="",t.forEach(t=>{const r=this.descs.get(t.desc);r&&(r.visColumn!==t?(r.destroyVis(),e.appendChild(r.createVis(t,this.ctx,e.ownerDocument))):e.appendChild(r.updateVis(this.ctx)))})}static groupByType(e){const t=new Map;return e.forEach(e=>{t.has(e.category)?t.get(e.category).push(e):t.set(e.category,[e])}),Array.from(t).map(([e,t])=>({key:e.label,order:e.order,values:t.sort((e,t)=>e.text.localeCompare(t.text))})).sort((e,t)=>e.order-t.order)}updateChooser(){if(!this.options.chooser||this.collapsed)return;const e=c.groupByType(Array.from(this.descs.values()));this.search.data=e.map(e=>({text:e.key,children:e.values}))}}},"./src/ui/panel/SidePanelEntry.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i});var n=r("./src/ui/panel/SidePanelEntryVis.ts");class i{constructor(e,t){this.desc=e,this.category=t,this.used=0,this.vis=null}get text(){return this.desc.label}get id(){return`${this.desc.type}@${this.desc.label}`}destroyVis(){this.vis&&this.vis.destroy()}get visColumn(){return this.vis?this.vis.column:null}updateVis(e){return this.vis?(this.vis.update(e),this.vis.node):null}createVis(e,t,r){return this.vis=new n.default(e,t,r),this.vis.node}}},"./src/ui/panel/SidePanelEntryVis.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r("./src/model/Column.ts"),i=r("./src/ui/header.ts");class s{constructor(e,t,r){this.column=e,this.ctx=t,this.node=r.createElement("article"),this.node.classList.add("lu-side-panel-entry"),this.node.dataset.colId=e.id,this.node.dataset.type=e.desc.type,this.summary=t.summaryRenderer(e,!0),this.column.on([`${n.default.EVENT_FILTER_CHANGED}.panel`,`${n.default.EVENT_DIRTY_HEADER}.panel`],()=>{this.update()}),this.init(),this.update()}init(){this.node.innerHTML=`\n      <header><div class="lu-label"></div><div class="lu-toolbar"></div></header>${this.summary.template}`,Object(i.createToolbar)(this.node.querySelector(".lu-toolbar"),0,this.column,this.ctx),Object(i.dragAbleColumn)(this.node.querySelector("header"),this.column,this.ctx);const e=this.node.lastElementChild;e.classList.add("lu-summary"),e.dataset.renderer=this.column.getSummaryRenderer(),e.dataset.interactive=""}update(e=this.ctx){this.ctx=e,Object(i.updateHeader)(this.node,this.column),this.summary.update(this.node.querySelector(".lu-summary"),e.statsOf(this.column))}destroy(){this.column.on([`${n.default.EVENT_FILTER_CHANGED}.panel`,`${n.default.EVENT_DIRTY_HEADER}.panel`],null),this.node.remove()}}},"./src/ui/panel/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/ui/panel/SidePanel.ts");r.d(t,"SidePanel",function(){return n.default}),r.d(t,"ISidePanelOptions",function(){return n.ISidePanelOptions});var i=r("./src/ui/panel/SearchBox.ts");r.d(t,"SearchBox",function(){return i.default}),r.d(t,"IGroupSearchItem",function(){return i.IGroupSearchItem}),r.d(t,"IItem",function(){return i.IItem}),r.d(t,"ISearchBoxOptions",function(){return i.ISearchBoxOptions})},"./src/ui/taggle/Taggle.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return c});var n=r("./src/config.ts"),i=r("./src/internal/merge.ts"),s=r("./src/ui/ALineUp.ts"),o=r("./src/ui/panel/SidePanel.ts"),a=r("./src/ui/taggle/spaceFillingRule.ts"),u=r("./src/ui/taggle/TaggleRenderer.ts"),l=r("./src/interfaces.ts");r.d(t,"ITaggleOptions",function(){return l.ITaggleOptions});class c extends s.ALineUp{constructor(e,t,r={}){super(e,t),this.options=Object(n.defaultOptions)(),Object(i.default)(this.options,r,{violationChanged:(e,t)=>this.setViolation(t)}),this.node.classList.add("lu-taggle","lu"),this.renderer=new u.default(this.node,t,this.options),this.panel=new o.default(this.renderer.ctx,this.node.ownerDocument,{collapseable:!this.options.sidePanelCollapsed||"collapsed"}),this.renderer.pushUpdateAble(e=>this.panel.update(e)),this.node.insertBefore(this.panel.node,this.node.firstChild);{this.panel.node.insertAdjacentHTML("afterbegin",'<div class="lu-rule-button-chooser">\n            <span>Overview</span>\n            <div></div>\n          </div>');const e=Object(a.default)(this.options);this.spaceFilling=this.node.querySelector(".lu-rule-button-chooser"),this.spaceFilling.addEventListener("click",()=>{const t=this.spaceFilling.classList.toggle("chosen");this.renderer.switchRule(t?e:null)}),this.options.overviewMode&&(this.spaceFilling.classList.toggle("chosen"),this.renderer.switchRule(e))}this.forward(this.renderer,`${s.ALineUp.EVENT_HIGHLIGHT_CHANGED}.main`)}setViolation(e){e=e||"",this.spaceFilling.classList.toggle("violated",Boolean(e)),this.spaceFilling.lastElementChild.innerHTML=e.replace(/\n/g,"<br>")}destroy(){this.node.classList.remove("lu-taggle","lu"),this.renderer.destroy(),this.panel.destroy(),super.destroy()}update(){this.renderer.update()}setHighlight(e,t=!0){return this.renderer.setHighlight(e,t)}getHighlight(){return this.renderer.getHighlight()}setDataProvider(e,t){super.setDataProvider(e,t),this.renderer.setDataProvider(e),this.update(),this.panel.update(this.renderer.ctx)}}},"./src/ui/taggle/TaggleRenderer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return u});var n=r("./src/internal/AEventDispatcher.ts"),i=r("./src/internal/debounce.ts"),s=r("./src/model/index.ts"),o=r("./src/provider/ADataProvider.ts"),a=r("./src/ui/EngineRenderer.ts");class u extends n.default{constructor(e,t,r){super(),this.data=t,this.isDynamicLeafHeight=!1,this.rule=null,this.levelOfDetail=null,this.resizeListener=(()=>Object(i.default)(()=>this.update(),100)),this.options={violationChanged:()=>void 0,rowPadding:2},this.renderer=new a.default(t,e,Object.assign({},r,{dynamicHeight:(e,t)=>{const n=this.dynamicHeight(e);return n||(r.dynamicHeight?r.dynamicHeight(e,t):null)},levelOfDetail:e=>this.levelOfDetail?this.levelOfDetail(e):"high"})),this.renderer.style.addRule("taggle_lod_rule",`\n      #${r.idPrefix} [data-lod=low][data-agg=detail]:hover {\n        /* show regular height for hovered rows in low + medium LOD */\n        height: ${r.rowHeight}px !important;\n      }\n    `),this.data.on(`${o.default.EVENT_SELECTION_CHANGED}.rule`,()=>{this.isDynamicLeafHeight&&this.update()}),this.forward(this.renderer,`${u.EVENT_HIGHLIGHT_CHANGED}.main`),window.addEventListener("resize",this.resizeListener)}get ctx(){return this.renderer.ctx}pushUpdateAble(e){this.renderer.pushUpdateAble(e)}dynamicHeight(e){if(!this.rule)return this.levelOfDetail=null,null;const t=this.renderer?this.renderer.node.querySelector("main").clientHeight:100,r=this.rule.apply(e,t,new Set(this.data.getSelection()));this.isDynamicLeafHeight="function"==typeof r.item,this.options.violationChanged(this.rule,r.violation||"");const n=e=>Object(s.isGroup)(e)?"number"==typeof r.group?r.group:r.group(e):"number"==typeof r.item?r.item:r.item(e);return this.levelOfDetail=(t=>{const r=e[t];return this.rule?this.rule.levelOfDetail(r,n(r)):"high"}),{defaultHeight:"number"==typeof r.item?r.item:NaN,height:n,padding:0}}createEventList(){return super.createEventList().concat([u.EVENT_HIGHLIGHT_CHANGED])}zoomOut(){this.renderer.zoomOut()}zoomIn(){this.renderer.zoomIn()}switchRule(e){this.rule!==e&&(this.rule=e,this.update())}destroy(){this.renderer.destroy(),window.removeEventListener("resize",this.resizeListener)}update(){this.renderer.update()}setDataProvider(e){this.data&&this.data.on(`${o.default.EVENT_SELECTION_CHANGED}.rule`,null),this.data=e,this.data.on(`${o.default.EVENT_SELECTION_CHANGED}.rule`,()=>{this.isDynamicLeafHeight&&this.update()}),this.renderer.setDataProvider(e),this.update()}setHighlight(e,t){return this.renderer.setHighlight(e,t)}getHighlight(){return this.renderer.getHighlight()}}u.EVENT_HIGHLIGHT_CHANGED=a.default.EVENT_HIGHLIGHT_CHANGED},"./src/ui/taggle/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/ui/taggle/Taggle.ts");r.d(t,"default",function(){return n.default}),r.d(t,"ITaggleOptions",function(){return n.ITaggleOptions});var i=r("./src/ui/taggle/TaggleRenderer.ts");r.d(t,"TaggleRenderer",function(){return i.default});var s=r("./src/ui/taggle/interfaces.ts");r.d(t,"IRule",function(){return s.IRule}),r.d(t,"IRuleInstance",function(){return s.IRuleInstance})},"./src/ui/taggle/interfaces.ts":function(e,t){},"./src/ui/taggle/spaceFillingRule.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i});var n=r("./src/model/index.ts");function i(e){return{apply:(t,r,i)=>{const{violation:s,height:o}=function(t,r,i){const s=r-e.rowHeight-5,o=t.filter(e=>!Object(n.isGroup)(e)),a=t.length-o.length,u=o.reduce((e,t)=>e+("last"===t.meta||"first last"===t.meta?1:0),0),l=o.reduce((e,t)=>e+(i.has(t.i)?1:0),0),c=o.length-l,d=a+u;if(c<=0)return{height:e.rowHeight,violation:""};const h=(s-a*e.groupHeight-d*e.groupPadding-l*e.rowHeight)/c;return h<1?{height:1,violation:"Not possible to fit all rows on the screen. Set filters or aggregate groups to make it fit again."}:h>e.rowHeight?{height:e.rowHeight,violation:""}:{height:h,violation:""}}(t,r,i);return{item:t=>i.has(t.i)?e.rowHeight:o,group:e.groupHeight,violation:s}},levelOfDetail:function(t,r){return r>=.9*(Object(n.isGroup)(t)?e.groupHeight:e.rowHeight)?"high":"low"}}}},"./src/ui/toolbar.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"toolbarActions",function(){return S}),r.d(t,"default",function(){return L});var n=r("./src/model/annotations.ts"),i=r("./src/ui/dialogs/ChangeRendererDialog.ts"),s=r("./src/ui/dialogs/MoreColumnOptionsDialog.ts"),o=r("./src/ui/dialogs/RenameDialog.ts"),a=r("./src/ui/dialogs/BooleanFilterDialog.ts"),u=r("./src/ui/dialogs/CategoricalFilterDialog.ts"),l=r("./src/ui/dialogs/CategoricalMappingFilterDialog.ts"),c=r("./src/ui/dialogs/CompositeChildrenDialog.ts"),d=r("./src/ui/dialogs/CutOffHierarchyDialog.ts"),h=r("./src/ui/dialogs/EditPatternDialog.ts"),f=r("./src/ui/dialogs/MappingsFilterDialog.ts"),p=r("./src/ui/dialogs/ReduceDialog.ts"),m=r("./src/ui/dialogs/ScriptEditDialog.ts"),g=r("./src/ui/dialogs/SearchDialog.ts"),b=r("./src/ui/dialogs/SortDateDialog.ts"),y=r("./src/ui/dialogs/SortDialog.ts"),v=r("./src/ui/dialogs/SortGroupDialog.ts"),E=r("./src/ui/dialogs/StratifyThresholdDialog.ts"),_=r("./src/ui/dialogs/StringFilterDialog.ts"),C=r("./src/ui/dialogs/WeightsEditDialog.ts");function T(e,t,r={}){return{title:e,onClick:t,options:r}}function O(e,t,r){return{attachment:r.currentTarget,level:t,manager:e.dialogManager,idPrefix:e.idPrefix}}function N(e,t,r=(()=>[]),n={}){return{title:e,onClick:(e,n,i,s)=>{new t(e,O(i,s,n),...r(i)).open()},options:n}}const R={title:"Sort",onClick:(e,t,r,n)=>{r.dialogManager.removeAboveLevel(n),e.toggleMySorting()},options:{shortcut:!0,order:1}},D={title:"Rename + Color &hellip;",onClick:(e,t,r,n)=>{new o.default(e,O(r,n,t)).open()},options:{order:3}},j={title:"Visualization &hellip;",onClick:(e,t,r,n)=>{new i.default(e,O(r,n,t),r).open()},options:{}},A={title:"Clone",onClick:(e,t,r)=>{r.dialogManager.removeAll(),r.provider.takeSnapshot(e)},options:{order:80}},x={title:"More &hellip;",onClick:(e,t,r,n)=>{new s.default(e,O(r,n,t),r).open()},options:{shortcut:!0,order:100}},M={title:"Remove",onClick:(e,t,r)=>{r.dialogManager.removeAll();const i=e.findMyRanker();i.children.every(t=>Object(n.isSupportType)(t)||t.fixed||t===e)?(r.provider.removeRanking(i),r.provider.ensureOneRanking()):e.removeMe()},options:{order:90}},S={stratify:T("Stratify",(e,t,r,n)=>{r.dialogManager.removeAboveLevel(n),e.groupByMe()},{shortcut:!0,order:2}),collapse:T("Compress",(e,t,r,n)=>{r.dialogManager.removeAboveLevel(n);const i=e;i.setCollapsed(!i.getCollapsed()),t.currentTarget.title=i.getCollapsed()?"Expand":"Compress"}),sort:R,more:x,clone:A,remove:M,rename:D,vis:j,search:N("Search &hellip;",g.default,e=>[e.provider],{shortcut:!0,order:3}),sortNumbers:N("Sort by &hellip;",y.default),sortDates:N("Sort by &hellip;",b.default),sortNumbersGroup:N("Sort Group by &hellip;",y.default),sortGroup:N("Sort Group by &hellip;",v.default,()=>[],{shortcut:!0,order:1}),stratifyThreshold:N("Stratify by Threshold &hellip;",E.default,()=>[],{shortcut:!0,order:2}),filterMapped:N("Filter &hellip;",f.default,e=>[e],{shortcut:!0}),filterString:N("Filter &hellip;",_.default,()=>[],{shortcut:!0}),filterCategorical:N("Filter &hellip;",u.default,()=>[],{shortcut:!0}),filterOrdinal:N("Filter &hellip;",l.default,()=>[],{shortcut:!0}),filterBoolean:N("Filter &hellip;",a.default,()=>[],{shortcut:!0}),script:N("Edit Combine Script &hellip;",m.default,()=>[],{shortcut:!0}),reduce:N("Reduce by &hellip;",p.default),cutoff:N("Set Cut Off &hellip;",d.default,e=>[e.idPrefix]),editPattern:N("Edit Pattern &hellip;",h.default,e=>[e.idPrefix]),editWeights:N("Edit Weights &hellip;",C.default,()=>[],{shortcut:!0}),compositeContained:N("Contained Columns &hellip;",c.default,e=>[e]),splitCombined:T("Split Combined Column",(e,t,r,n)=>{r.dialogManager.removeAboveLevel(n),e.children.reverse().forEach(t=>e.insertAfterMe(t)),e.removeMe()})},w=new Map;function L(e,t){if(w.has(e.desc.type))return w.get(e.desc.type);const r=t.toolbar,i=new Set;e.fixed||i.add(M);{const r=t.getPossibleRenderer(e);(r.item.length>2||r.group.length>2||r.summary.length>2)&&i.add(j)}Object(n.isSupportType)(e)||(i.add(R),i.add(D),i.add(A)),Object(n.getAllToolbarActions)(e).forEach(t=>{r.hasOwnProperty(t)?i.add(r[t]):console.warn("cannot find: ",e.desc.type,t)}),i.size>0&&i.add(x);const s=Array.from(i).sort((e,t)=>e.options.order===t.options.order?e.title.localeCompare(t.title):(e.options.order||50)-(t.options.order||50));return w.set(e.desc.type,s),s}}})},e.exports=n()},function(e,t,r){"use strict";r.r(t);var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}Object.assign;function s(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}var o=r(0),a=r(2),u=Polymer.decorators,l=u.customElement,c=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.column="",t}return i(t,e),t.prototype.build=function(e){return o.builderAdapter.build(this)},s([c({type:String})],t.prototype,"column",void 0),s([c({type:Boolean})],t.prototype,"asMap",void 0),s([c({type:Object})],t.prototype,"asArray",void 0),s([c({type:Object})],t.prototype,"custom",void 0),t=s([l("lineup-column-desc")],t)}(Polymer.Element),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.build=function(e){return o.builderAdapter.buildCategorical(this,e)},t.is="lineup-categorical-desc",s([c({type:Boolean})],t.prototype,"asOrdinal",void 0),s([c({type:Array})],t.prototype,"categories",void 0),s([c({type:Object})],t.prototype,"missingCategory",void 0),s([c({type:Object})],t.prototype,"asSet",void 0),t}(d);window.customElements.define(h.is,h);var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.build=function(){return o.builderAdapter.buildDate(this)},t.is="lineup-date-desc",s([c({type:String})],t.prototype,"dateFormat",void 0),s([c({type:String})],t.prototype,"dateParse",void 0),t}(d);window.customElements.define(f.is,f);var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hierarchy={name:"",children:[]},t}return i(t,e),t.prototype.build=function(){return o.builderAdapter.buildHierarchy(this)},t.is="lineup-hierarchy-desc",s([c({type:Object})],t.prototype,"hierarchy",void 0),s([c({type:String})],t.prototype,"hierarchySeparator",void 0),t}(d);window.customElements.define(p.is,p);var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.build=function(e){return o.builderAdapter.buildNumber(this,e)},t.is="lineup-number-desc",s([c({type:Array})],t.prototype,"domain",void 0),s([c({type:Array})],t.prototype,"range",void 0),s([c({type:String})],t.prototype,"mapping",void 0),s([c({type:String})],t.prototype,"scripted",void 0),s([c({type:String})],t.prototype,"sort",void 0),t}(d);window.customElements.define(m.is,m);var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.build=function(){return o.builderAdapter.buildString(this)},t.is="lineup-string-desc",s([c({type:Boolean})],t.prototype,"editable",void 0),s([c({type:Boolean})],t.prototype,"html",void 0),s([c({type:String})],t.prototype,"pattern",void 0),s([c({type:Array})],t.prototype,"patternTemplates",void 0),t}(d);window.customElements.define(g.is,g);var b=Polymer.decorators,y=b.customElement,v=b.property,E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(Polymer.Element),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.merge=function(){var e=Array.from(this.children).filter(function(e){return e instanceof E}).map(function(e){return e.build()}),t={columns:(this.columns||[]).concat(e)};return this.sortBy&&(t.sortBy=this.sortBy),this.groupBy&&(t.groupBy=this.groupBy),t},t.prototype.build=function(e){return o.builderAdapter.buildRanking(this,e)},s([v({type:Object})],t.prototype,"sortBy",void 0),s([v({type:Object})],t.prototype,"groupBy",void 0),s([v({type:Array})],t.prototype,"columns",void 0),t=s([y("lineup-ranking")],t)}(Polymer.Element),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.column="*",t}return i(t,e),t.prototype.build=function(){return o.builderAdapter.buildGeneric(this)},s([v({type:String})],t.prototype,"column",void 0),t=s([y("lineup-column")],t)}(E),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.column="",t.categoricalColumn="",t}return i(t,e),t.prototype.build=function(){return o.builderAdapter.buildImposeRanking(this)},s([v({type:String})],t.prototype,"label",void 0),s([v({type:String})],t.prototype,"column",void 0),s([v({type:String})],t.prototype,"categoricalColumn",void 0),t=s([y("lineup-impose-column")],t)}(E),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.build=function(){var e=Array.from(this.children).filter(function(e){return e instanceof C});return o.builderAdapter.buildNestedRanking(this,e.map(function(e){return e.build()}))},s([v({type:String})],t.prototype,"label",void 0),t=s([y("lineup-nested-column")],t)}(E),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.column="",t.weight=1,t}return i(t,e),t.prototype.build=function(){return this.column},s([v({type:String})],t.prototype,"column",void 0),s([v({type:String})],t.prototype,"weight",void 0),t=s([y("lineup-weighted-column")],t)}(E),R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.build=function(){var e=Array.from(this.children).filter(function(e){return e instanceof N});return o.builderAdapter.buildWeightedSumRanking(this,e.map(function(e){return{weight:e.weight,column:e.build()}}))},s([v({type:String})],t.prototype,"label",void 0),t=s([y("lineup-weighted-sum-column")],t)}(E),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="max",t}return i(t,e),t.prototype.build=function(){var e=Array.from(this.children).filter(function(e){return e instanceof C});return o.builderAdapter.buildReduceRanking(this,e.map(function(e){return e.build()}))},s([v({type:String})],t.prototype,"type",void 0),s([v({type:String})],t.prototype,"label",void 0),t=s([y("lineup-reduce-column")],t)}(E),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.code="",t}return i(t,e),t.prototype.build=function(){var e=Array.from(this.children).filter(function(e){return e instanceof C});return o.builderAdapter.buildScriptRanking(this,e.map(function(e){return e.build()}))},s([v({type:String})],t.prototype,"code",void 0),s([v({type:String})],t.prototype,"label",void 0),t=s([y("lineup-scripted-column")],t)}(E),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="*",t}return i(t,e),t.prototype.build=function(){return o.builderAdapter.buildSupportRanking(this)},s([v({type:String})],t.prototype,"type",void 0),t=s([y("lineup-support-column")],t)}(E),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.build=function(){return o.builderAdapter.buildAllColumnsRanking()},t=s([y("lineup-all-columns")],t)}(E),M=Polymer.decorators,S=M.customElement,w=M.property,L=M.query,I=M.observe,V=String(a.default).match(/@font-face[^}]+}/);if(V){var H=document.createElement("style");H.innerText=V[0],document.head.appendChild(H)}var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=[],t.selection=null,t.highlight=null,t._main=null,t._adapter=new o.builderAdapter.Adapter({props:function(){return t},createInstance:function(e,r){return t.createInstance(t._main,e,r)},columnDescs:function(e){return Array.from(t.children).filter(function(e){return e instanceof d}).map(function(t){return t.build(e)})},rankingBuilders:function(){return Array.from(t.children).filter(function(e){return e instanceof _}).map(function(e){return e.merge()})}}),t._changed={},t._triggerChanged=function(e,t){void 0===t&&(t=100);var r=-1;return function(){r>=0&&(clearTimeout(r),r=-1),r=self.setTimeout(function(){r=-1,e()},t)}}(function(){return t._updateImpl()},50),t}return i(t,e),t.prototype.onSelectionChanged=function(e){this.dispatchEvent(new CustomEvent("selectionChanged",{detail:{selection:e}}))},t.prototype.onHighlightChanged=function(e){this.dispatchEvent(new CustomEvent("highlightChanged",{detail:{highlight:e}}))},t.prototype.createInstance=function(e,t,r){return new o.LineUp(e,t,r)},t.prototype._updateImpl=function(){var e=Object.assign({},this._changed);this._changed={},this._adapter.componentDidUpdate(function(t){return Boolean(e[t])})},t.prototype.ready=function(){e.prototype.ready.call(this),this._adapter.componentDidMount()},t.prototype.onChanged=function(e){this._changed[e.path]=!0,this._triggerChanged()},Object.defineProperty(t,"template",{get:function(){var e=document.createElement("template");return e.innerHTML="\n    <style>\n\n      "+a.default+"\n\n\n      :host {\n        position: relative;\n        display: block;\n        width: var(--lineup-width, 100%);\n        height: var(--lineup-height, 500px);\n      }\n\n      .lu {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n      }\n    </style>\n    <main></main>\n    ",e},enumerable:!0,configurable:!0}),s([w({type:Array})],t.prototype,"data",void 0),s([w({type:Array})],t.prototype,"selection",void 0),s([w({type:Number})],t.prototype,"highlight",void 0),s([w({type:Boolean})],t.prototype,"singleSelection",void 0),s([w({type:Boolean})],t.prototype,"filterGlobally",void 0),s([w({type:Boolean})],t.prototype,"noCriteriaLimits",void 0),s([w({type:Number})],t.prototype,"maxGroupColumns",void 0),s([w({type:Number})],t.prototype,"maxNestedSortingCriteria",void 0),s([w({type:Object})],t.prototype,"deriveColumns",void 0),s([w({type:Boolean})],t.prototype,"deriveColors",void 0),s([w({type:Object})],t.prototype,"restore",void 0),s([w({type:Object})],t.prototype,"defaultRanking",void 0),s([w({type:Boolean})],t.prototype,"animated",void 0),s([w({type:Boolean})],t.prototype,"sidePanel",void 0),s([w({type:Boolean})],t.prototype,"sidePanelCollapsed",void 0),s([w({type:String})],t.prototype,"defaultSlopeGraphMode",void 0),s([w({type:Boolean})],t.prototype,"summaryHeader",void 0),s([w({type:Boolean})],t.prototype,"expandLineOnHover",void 0),s([w({type:Boolean})],t.prototype,"overviewMode",void 0),s([w({type:Object})],t.prototype,"renderer",void 0),s([w({type:Object})],t.prototype,"toolbar",void 0),s([w({type:Number})],t.prototype,"rowHeight",void 0),s([w({type:Number})],t.prototype,"rowPadding",void 0),s([w({type:Number})],t.prototype,"groupHeight",void 0),s([w({type:Number})],t.prototype,"groupPadding",void 0),s([w({type:Object})],t.prototype,"dynamicHeight",void 0),s([L("main")],t.prototype,"_main",void 0),s([I("*")],t.prototype,"onChanged",null),t=s([S("lineup-element")],t)}(Polymer.Element),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.is="taggle-element",t}(P);window.customElements.define(k.is,k),r.d(t,"version",function(){return G}),r.d(t,"buildId",function(){return F}),r.d(t,"license",function(){return $}),r.d(t,"LineUpElement",function(){return P}),r.d(t,"LineUpColumnDesc",function(){return d}),r.d(t,"LineUpCategoricalColumnDesc",function(){return h}),r.d(t,"LineUpDateColumnDesc",function(){return f}),r.d(t,"LineUpHierarchyColumnDesc",function(){return p}),r.d(t,"LineUpNumberColumn",function(){return m}),r.d(t,"LineUpStringColumnDesc",function(){return g}),r.d(t,"ALineUpColumnBuilder",function(){return E}),r.d(t,"LineUpColumn",function(){return C}),r.d(t,"LineUpImposeColumn",function(){return T}),r.d(t,"LineUpNestedColumn",function(){return O}),r.d(t,"LineUpWeightedColumn",function(){return N}),r.d(t,"LineUpWeightedSumColumn",function(){return R}),r.d(t,"LineUpReduceColumn",function(){return D}),r.d(t,"LineUpScriptedColumn",function(){return j}),r.d(t,"LineUpSupportColumn",function(){return A}),r.d(t,"LineUpAllColumns",function(){return x});var G="1.0.0-beta.0",F="20180303-140529",$="MIT"},function(e,t,r){"use strict";r.r(t),t.default="// removed by extract-text-webpack-plugin"}])});